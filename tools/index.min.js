!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.RxPlayer=t():e.RxPlayer=t()}(window,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=92)}({0:function(e,t,r){"use strict";var n=r(16),i={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},o=Object.keys(i)[0],a={LEVELS:Object.keys(i),error:n.a,warn:n.a,info:n.a,debug:n.a,setLevel:function(e){var t=void 0,r=i[e];r?(t=r,o=e):(t=0,o="NONE"),this.error=t>=i.ERROR?console.error.bind(console):n.a,this.warn=t>=i.WARNING?console.warn.bind(console):n.a,this.info=t>=i.INFO?console.info.bind(console):n.a,this.debug=t>=i.DEBUG?console.log.bind(console):n.a},getLevel:function(){return o}};t.a=a},16:function(e,t,r){"use strict";t.a=function(){}},92:function(e,t,r){"use strict";function n(){return"requestMediaKeySystemAccess"in navigator?Promise.resolve():Promise.reject("API_AVAILABILITY: requestMediaKeySystemAccess API not available")}r.r(t);var i=function(e,t,r,n){var i=null,o=function(){if(!window.MediaSource||!window.MediaSource.isTypeSupported)throw new Error;var e=['video/mp4; codecs="avc1.4D401E"','video/webm; codecs="vp09.00.10.08"'],t=Array.isArray(e),r=0;for(e=t?e:e[Symbol.iterator]();;){var n;if(t){if(r>=e.length)break;n=e[r++]}else{if((r=e.next()).done)break;n=r.value}var i=n;if(window.MediaSource.isTypeSupported(i))return i}throw new Error}(),a=e&&e.contentType||o;if(i=i||""+a,r&&r.contentType){var u=r.contentType.match(/codecs="(.*?)"/);if(u){var s=u[1];i=i.substring(0,i.length-2)+","+s}}var c=[];if(e&&e.width&&c.push("decode-res-x="+e.width),e&&e.height&&c.push("decode-res-y="+e.height),e&&e.bitsPerComponent&&c.push("decode-bpc="+e.bitsPerComponent),e&&e.bitrate&&c.push("decode-bitrate="+e.bitrate),e&&e.framerate&&c.push("decode-fps="+e.framerate),n&&(n.width&&c.push("display-res-x="+n.width),n.height&&c.push("display-res-y="+n.height),n.bitsPerComponent&&c.push("display-bpc="+n.bitsPerComponent)),t&&t.hdcp){var d=parseFloat(t.hdcp)>=2.2?2:1;c.push("hdcp="+d)}return c.length>0&&(i+=";features=",i+='"'+c.join(",")+'"'),i},o=["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"];var a={_isTypeSupported_:function(e){return("MediaSource"in window?"isTypeSupported"in window.MediaSource?Promise.resolve():Promise.reject("API_AVAILABILITY: Decoding Info not available"):Promise.reject("API_AVAILABILITY: MediaSource API not available")).then(function(){var t=[];if(e.video&&e.video.contentType&&t.push(e.video.contentType),e.audio&&e.audio.contentType&&t.push(e.audio.contentType),null===t||!t.length)throw new Error("API_CALL: Not enough arguments for calling isTypeSupported.");return t.reduce(function(e,t){var r=window.MediaSource.isTypeSupported(t)?2:0;return Math.min(e,r)},2)})},_isTypeSupportedWithFeatures_:function(e){return("MSMediaKeys"in window?"isTypeSupportedWithFeatures"in window.MSMediaKeys?Promise.resolve():Promise.reject("API_AVAILABILITY: Decoding Info not available"):Promise.reject("API_AVAILABILITY: MSMediaKeys API not available")).then(function(){var t=e.mediaProtection,r=t&&t.drm&&t.drm.type||"org.w3.clearkey",n=t?t.output:void 0,o=e.video,a=e.audio,u=e.display,s=i(o,n,a,u);return function(e){if(""===e)return 1;switch(e){case"Maybe":return 1;case"Probably":return 2;case"Not Supported":return 0;default:return 1}}(window.MSMediaKeys.isTypeSupportedWithFeatures(r,s))})},_matchMedia_:function(e){return("matchMedia"in window?Promise.resolve():Promise.reject("API_AVAILABILITY: matchMedia API not available")).then(function(){if(e.display){var t=(n=e.display,(i=n.colorSpace)?"(color-gamut: "+i+")":null);if(t){var r=window.matchMedia(t);return r.matches&&"not all"!==r.media?2:0}}var n,i;throw new Error("API_CALL: Not enough arguments for calling matchMedia.")})},_decodingInfos_:function(e){return("mediaCapabilities"in navigator?"decodingInfo"in navigator.mediaCapabilities?Promise.resolve():Promise.reject("API_AVAILABILITY: Decoding Info not available"):Promise.reject("API_AVAILABILITY: MediaCapabilities API not available")).then(function(){if(e.type&&e.video&&e.video.bitrate&&e.video.contentType&&e.video.framerate&&e.video.height&&e.video.width&&e.audio&&e.audio.bitrate&&e.audio.channels&&e.audio.contentType&&e.audio.samplerate)return navigator.mediaCapabilities.decodingInfo(e).then(function(e){return e.supported?2:0}).catch(function(){throw new Error("API_CALL: Bad arguments for calling mediaCapabilities.")});throw new Error("API_CALL: Not enough arguments for calling mediaCapabilites.")})},_requestMediaKeySystemAccess_:function(e){return n().then(function(){var t=e.mediaProtection;if(t){var r=t.drm;if(r&&r.type){var n=function(e,t){var r=["temporary"],n="optional",i="optional";t.persistentLicense&&(n="required",r.push("persistent-license")),t.persistentStateRequired&&(n="required"),t.distinctiveIdentifierRequired&&(i="required");var a=t.videoRobustnesses||("widevine"===e?o:[]),u=t.audioRobustnesses||("widevine"===e?o:[]);return a.length||a.push(void 0),u.length||u.push(void 0),[{initDataTypes:["cenc"],videoCapabilities:a.map(function(e){return{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:e}}),audioCapabilities:u.map(function(e){return{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:e}}),distinctiveIdentifier:i,persistentState:n,sessionTypes:r}]}(r.type,r.configuration||{});return navigator.requestMediaKeySystemAccess(name,n).then(function(){return 2}).catch(function(){return 0})}}throw new Error("API_CALL: Not enough arguments for calling requestMediaKeySystemAccess.")})},_getStatusForPolicy_:function(e){return n().then(function(){return"MediaKeys"in window?"getStatusForPolicy"in window.MediaKeys?Promise.resolve():Promise.reject("API_AVAILABILITY: getStatusForPolicy API not available"):Promise.reject("API_AVAILABILITY: MediaKeys API not available")}).then(function(){if(e.mediaProtection&&e.mediaProtection.output){var t={minHdcpVersion:"hdcp-"+e.mediaProtection.output.hdcp};return window.requestMediaKeySystemAccess("w3.org.clearkey",{initDataTypes:["cenc"],videoCapabilities:[],audioCapabilities:[],distinctiveIdentifier:"optional",persistentState:"optional",sessionTypes:["temporary"]}).then(function(e){e.getStatusForPolicy(t).then(function(e){return"usable"===e?2:0})})}throw new Error("API_CALL: Not enough arguments for calling getStatusForPolicy.")})}},u=r(0);function s(e){return 0===Object.keys(e).length&&e.constructor===Object}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function e(t){var r={},n=Object.entries(t),i=Array.isArray(n),o=0;for(n=i?n:n[Symbol.iterator]();;){var a;if(i){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var u=a,d=u[0],p=u[1];if("object"!==(void 0===p?"undefined":c(p))&&null!=p)r[d]=p;else if("object"===(void 0===p?"undefined":c(p))){var f=e(p);f&&!s(f)&&(r[d]=f)}}return r};var p,f,l=function(e){if(!e)throw new Error("MCP_CONF: Configuration is not defined.");var t=d(e);if(s(t))throw new Error("MCP_CONF: Can't probe empty configuration.");return t},y=["_isTypeSupported_","_isTypeSupportedWithFeatures_","_matchMedia_","_decodingInfos_","_requestMediaKeySystemAccess_","_getStatusForPolicy_"],b=(p=regeneratorRuntime.mark(function e(t){var r,n,i,o,s,c,d,p,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=l(t),n=!1,i=!1,o=!1,s=y,c=Array.isArray(s),d=0,s=c?s:s[Symbol.iterator]();case 5:if(!c){e.next=11;break}if(!(d>=s.length)){e.next=8;break}return e.abrupt("break",22);case 8:p=s[d++],e.next=15;break;case 11:if(!(d=s.next()).done){e.next=14;break}return e.abrupt("break",22);case 14:p=d.value;case 15:if(!(f=a[p])){e.next=20;break}return e.next=20,f(r).then(function(e){o=o||0===e,i=i||1===e,n=n||2===e}).catch(function(e){return u.a.debug(e)});case 20:e.next=5;break;case 22:if(!o){e.next=26;break}return e.abrupt("return","Not Supported");case 26:if(!i){e.next=30;break}return e.abrupt("return","Maybe");case 30:if(!n){e.next=32;break}return e.abrupt("return","Probably");case 32:return e.abrupt("return","Maybe");case 33:case"end":return e.stop()}},e,void 0)}),f=function(){var e=p.apply(this,arguments);return new Promise(function(t,r){return function n(i,o){try{var a=e[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});t(u)}("next")})},function(e){return f.apply(this,arguments)});var v={getCapabilities:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b(t));case 1:case"end":return e.stop()}},e,void 0)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}("next")})});return function(e){return t.apply(this,arguments)}}(),getStatusForHDCP:function(e){return e?b({mediaProtection:{output:{hdcp:e}}}):Promise.reject("BAD_ARGUMENT: No HDCP Policy specified.")},getDecodingCapabilities:function(e,t,r){return b({type:e,video:t,audio:r})},getStatusForDRM:function(e,t){return b({mediaProtection:{drm:{type:e,configuration:t}}})},getDisplayCapabilities:function(e){return b({display:e})}};r.d(t,"MediaCapabilitiesProber",function(){return v})}})});