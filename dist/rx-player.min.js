var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[e]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var e=0;return $jscomp.iteratorPrototype(function(){return e<b.length?{done:!1,value:b[e++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(b,e){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var a=0,k={next:function(){if(a<b.length){var m=a++;return{value:e(m,b[m]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};
$jscomp.polyfill=function(b,e,a,k){if(e){a=$jscomp.global;b=b.split(".");for(k=0;k<b.length-1;k++){var m=b[k];m in a||(a[m]={});a=a[m]}b=b[b.length-1];k=a[b];e=e(k);e!=k&&null!=e&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");
$jscomp.polyfill("Object.getOwnPropertySymbols",function(b){return b?b:function(){return[]}},"es6-impl","es5");$jscomp.owns=function(b,e){return Object.prototype.hasOwnProperty.call(b,e)};$jscomp.polyfill("Object.assign",function(b){return b?b:function(b,a){for(var e=1;e<arguments.length;e++){var m=arguments[e];if(m)for(var h in m)$jscomp.owns(m,h)&&(b[h]=m[h])}return b}},"es6-impl","es3");
$jscomp.findInternal=function(b,e,a){b instanceof String&&(b=String(b));for(var k=b.length,m=0;m<k;m++){var h=b[m];if(e.call(a,h,m,b))return{i:m,v:h}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,a){return a})}},"es6","es3");
(function(b,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports.RxPlayer=e():b.RxPlayer=e()})(this,function(){return function(b){function e(k){if(a[k])return a[k].exports;var m=a[k]={i:k,l:!1,exports:{}};b[k].call(m.exports,m,m.exports,e);m.l=!0;return m.exports}var a={};e.m=b;e.c=a;e.i=function(a){return a};e.d=function(a,b,h){e.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,
get:h})};e.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};e.d(b,"a",b);return b};e.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};e.p="";return e(e.s=129)}([function(b,e,a){var k=a(11),m=a(240),h=a(45);b=function(){function a(a){this._isScalar=!1;a&&(this._subscribe=a)}a.prototype.lift=function(f){var d=new a;d.source=this;d.operator=f;return d};a.prototype.subscribe=function(a,d,c){var g=this.operator;a=m.toSubscriber(a,d,c);g?g.call(a,
this.source):a.add(this.source?this._subscribe(a):this._trySubscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(d){a.syncErrorThrown=!0,a.syncErrorValue=d,a.error(d)}};a.prototype.forEach=function(a,d){var c=this;d||(k.root.Rx&&k.root.Rx.config&&k.root.Rx.config.Promise?d=k.root.Rx.config.Promise:k.root.Promise&&(d=k.root.Promise));if(!d)throw Error("no Promise impl found");
return new d(function(d,f){var g;g=c.subscribe(function(c){if(g)try{a(c)}catch(p){f(p),g.unsubscribe()}else a(c)},f,d)})};a.prototype._subscribe=function(a){return this.source.subscribe(a)};a.prototype[h.observable]=function(){return this};a.create=function(f){return new a(f)};return a}();e.Observable=b},function(b,e,a){function k(){}var m={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},h=function(){};k.error=h;k.warn=h;k.info=h;k.debug=h;k.setLevel=function(a){"string"==typeof a&&(a=m[a]);k.error=a>=m.ERROR?
console.error.bind(console):h;k.warn=a>=m.WARNING?console.warn.bind(console):h;k.info=a>=m.INFO?console.info.bind(console):h;k.debug=a>=m.DEBUG?console.log.bind(console):h};e.a=k},function(b,e,a){function k(a){this.name="AssertionError";this.message=a;Error.captureStackTrace&&Error.captureStackTrace(this,k)}function m(a,f){if(!a)throw new k(f);}var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":typeof a};k.prototype=Error();m.equal=function(a,f,d){return m(a===f,d)};m.iface=function(a,f,d){m(a,f+" should be an object");for(var c in d)m.equal(h(a[c]),d[c],f+" should have property "+c+" as a "+d[c])};e.a=m},function(b,e,a){var k=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)},m=a(47);b=a(14);var h=a(66),l=a(46);a=function(a){function c(d,
n,l){a.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!d){this.destination=h.empty;break}if("object"===typeof d){d instanceof c?(this.destination=d,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,d));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,d,n,l)}}k(c,a);c.prototype[l.rxSubscriber]=function(){return this};c.create=
function(a,d,f){a=new c(a,d,f);a.syncErrorThrowable=!1;return a};c.prototype.next=function(a){this.isStopped||this._next(a)};c.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};c.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};c.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))};c.prototype._next=function(a){this.destination.next(a)};c.prototype._error=function(a){this.destination.error(a);
this.unsubscribe()};c.prototype._complete=function(){this.destination.complete();this.unsubscribe()};c.prototype._unsubscribeAndRecycle=function(){var a=this._parent,c=this._parents;this._parents=this._parent=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parent=a;this._parents=c;return this};return c}(b.Subscription);e.Subscriber=a;var f=function(a){function c(c,d,f,l){a.call(this);this._parentSubscriber=c;var g;c=this;m.isFunction(d)?g=d:d&&(g=d.next,f=d.error,l=d.complete,d!==h.empty&&
(c=Object.create(d),m.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this._context=c;this._next=g;this._error=f;this._complete=l}k(c,a);c.prototype.next=function(a){if(!this.isStopped&&this._next){var c=this._parentSubscriber;c.syncErrorThrowable?this.__tryOrSetError(c,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}};c.prototype.error=function(a){if(!this.isStopped){var c=this._parentSubscriber;if(this._error)c.syncErrorThrowable?
this.__tryOrSetError(c,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(c.syncErrorThrowable)c.syncErrorValue=a,c.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a=this;if(!this.isStopped){var c=this._parentSubscriber;if(this._complete){var d=function(){return a._complete.call(a._context)};c.syncErrorThrowable?this.__tryOrSetError(c,d):this.__tryOrUnsub(d)}this.unsubscribe()}};c.prototype.__tryOrUnsub=function(a,
c){try{a.call(this._context,c)}catch(r){throw this.unsubscribe(),r;}};c.prototype.__tryOrSetError=function(a,c,d){try{c.call(this._context,d)}catch(q){return a.syncErrorValue=q,a.syncErrorThrown=!0}return!1};c.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._parentSubscriber=this._context=null;a.unsubscribe()};return c}(a)},function(b,e,a){e.a={DEFAULT_UNMUTED_VOLUME:.1,DEFAULT_AUDIO_TRACK:{language:"fra",audioDescription:!1},DEFAULT_TEXT_TRACK:null,DEFAULT_AUTO_PLAY:!1,DEFAULT_SHOW_SUBTITLE:!0,
DEFAULT_WANTED_BUFFER_AHEAD:30,DEFAULT_MAX_BUFFER_AHEAD:Infinity,DEFAULT_MAX_BUFFER_BEHIND:Infinity,DEFAULT_INITIAL_BITRATES:{audio:0,video:0,other:0},DEFAULT_MAX_BITRATES:{audio:Infinity,video:Infinity,other:Infinity},DEFAULT_ADAPTIVE_BUFFER_THRESHOLD:.3,INACTIVITY_DELAY:6E4,DEFAULT_THROTTLE_WHEN_HIDDEN:!1,DEFAULT_LIMIT_VIDEO_WIDTH:!1,DEFAULT_LIVE_GAP:15,DEFAULT_SUGGESTED_PRESENTATION_DELAY:{SMOOTH:10,DASH:15},DISCONTINUITY_THRESHOLD:1,END_OF_PLAY:.5,BITRATE_REBUFFERING_RATIO:1.5,BUFFER_GC_GAPS:{CALM:240,
BEEFY:30},DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR:4,DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE:Infinity,INITIAL_BACKOFF_DELAY_BASE:200,MAX_BACKOFF_DELAY_BASE:3E3,SAMPLING_INTERVAL_MEDIASOURCE:1E3,SAMPLING_INTERVAL_NO_MEDIASOURCE:500,ABR_MINIMUM_TOTAL_BYTES:128E3,ABR_MINIMUM_CHUNK_SIZE:16E3,ABR_STARVATION_GAP:5,RESUME_AFTER_SEEKING_GAP:.5,RESUME_AFTER_BUFFERING_GAP:5,STALL_GAP:.5,EME_DEFAULT_ROBUSTNESSES:["HW_SECURE_ALL","HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],EME_KEY_SYSTEMS:{clearkey:["webkit-org.w3.clearkey",
"org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"]}}},function(b,e,a){function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function m(a,g){return Array.isArray(g)?
d.merge.apply(null,g.map(function(d){return c(a,d)})):c(a,g)}function h(a){return a instanceof f.Observable?a:a&&"function"==typeof a.subscribe?new f.Observable(function(c){var d=a.subscribe(function(a){return c.next(a)},function(a){return c.error(a)},function(){return c.complete()});return function(){d&&d.dispose?d.dispose():d&&d.unsubscribe&&d.unsubscribe()}}):a&&"function"==typeof a.then?g(a):f.Observable.of(a)}function l(a,c){try{return a(c)}catch(p){return f.Observable["throw"](p)}}a.d(e,"a",
function(){return m});a.d(e,"c",function(){return l});a.d(e,"b",function(){return h});a.d(e,"d",function(){return n});var f=a(0);a.n(f);var d=a(30);a.n(d);b=a(67);a.n(b);e=a(69);a.n(e);var c=b.FromEventObservable.create,g=e.PromiseObservable.create;(function(a){function c(d){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var g;g=a.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&"function"!==
typeof g?this:g;g.value=d;return g}k(c,a);c.prototype._subscribe=function(a){a.next(this.value)};return c})(f.Observable);var n=function(a){var c=!1;return function(){if(c)return f.Observable.empty();c=!0;return h(a.apply(void 0,arguments))["do"](null,function(){return c=!1},function(){return c=!1})}}},function(b,e,a){var k=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var g in c)c.hasOwnProperty(g)&&(a[g]=c[g]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,
new d)},m=a(0);b=a(3);var h=a(14),l=a(75),f=a(163),d=a(46),c=function(a){function c(c){a.call(this,c);this.destination=c}k(c,a);return c}(b.Subscriber);e.SubjectSubscriber=c;a=function(a){function n(){a.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null}k(n,a);n.prototype[d.rxSubscriber]=function(){return new c(this)};n.prototype.lift=function(a){var c=new g(this,this);c.operator=a;return c};n.prototype.next=function(a){if(this.closed)throw new l.ObjectUnsubscribedError;
if(!this.isStopped)for(var c=this.observers,d=c.length,c=c.slice(),g=0;g<d;g++)c[g].next(a)};n.prototype.error=function(a){if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError=!0;this.thrownError=a;this.isStopped=!0;for(var c=this.observers,d=c.length,c=c.slice(),g=0;g<d;g++)c[g].error(a);this.observers.length=0};n.prototype.complete=function(){if(this.closed)throw new l.ObjectUnsubscribedError;this.isStopped=!0;for(var a=this.observers,c=a.length,a=a.slice(),d=0;d<c;d++)a[d].complete();
this.observers.length=0};n.prototype.unsubscribe=function(){this.closed=this.isStopped=!0;this.observers=null};n.prototype._trySubscribe=function(c){if(this.closed)throw new l.ObjectUnsubscribedError;return a.prototype._trySubscribe.call(this,c)};n.prototype._subscribe=function(a){if(this.closed)throw new l.ObjectUnsubscribedError;if(this.hasError)return a.error(this.thrownError),h.Subscription.EMPTY;if(this.isStopped)return a.complete(),h.Subscription.EMPTY;this.observers.push(a);return new f.SubjectSubscription(this,
a)};n.prototype.asObservable=function(){var a=new m.Observable;a.source=this;return a};n.create=function(a,c){return new g(a,c)};return n}(m.Observable);e.Subject=a;var g=function(a){function c(c,d){a.call(this);this.destination=c;this.source=d}k(c,a);c.prototype.next=function(a){var c=this.destination;c&&c.next&&c.next(a)};c.prototype.error=function(a){var c=this.destination;c&&c.error&&this.destination.error(a)};c.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};
c.prototype._subscribe=function(a){return this.source?this.source.subscribe(a):h.Subscription.EMPTY};return c}(a);e.AnonymousSubject=g},function(b,e,a){function k(a){var c=a.reduce(function(a,c){a[c]=c;return a},{});c.keys=a;return c}function m(a,c,d){return a+"("+c+")"+(d?": "+d.message:"")}function h(a,c,d){this.name="MediaError";this.type=r.MEDIA_ERROR;this.reason=c;this.code=p[a];this.fatal=d;this.message=m(this.name,this.code,this.reason)}function l(a,c,d){this.name="NetworkError";this.type=
r.NETWORK_ERROR;this.xhr=c.xhr;this.url=c.url;this.status=c.status;this.reqType=c.type;this.reason=c;this.code=p[a];this.fatal=d;this.message=this.reason?m(this.name,this.code,this.reason):m(this.name,this.code,{message:""+this.reqType+(0<this.status?"("+this.status+")":"")+" on "+this.url})}function f(a,c,d){this.name="EncryptedMediaError";this.type=r.ENCRYPTED_MEDIA_ERROR;this.reason=c;this.code=p[a];this.fatal=d;this.message=m(this.name,this.code,this.reason)}function d(a,c,d){this.name="IndexError";
this.type=r.INDEX_ERROR;this.indexType=c;this.reason=null;this.code=p[a];this.fatal=d;this.message=m(this.name,this.code,null)}function c(a,c,d){this.name="OtherError";this.type=r.OTHER_ERROR;this.reason=c;this.code=p[a];this.fatal=d;this.message=m(this.name,this.code,this.reason)}function g(a,c,d){this.name="RequestError";this.url=c;this.xhr=a;this.status=a.status;this.message=this.type=d}function n(a){return!!a&&!!a.type&&0<=r.keys.indexOf(a.type)}a.d(e,"a",function(){return r});a.d(e,"b",function(){return p});
a.d(e,"f",function(){return h});a.d(e,"i",function(){return l});a.d(e,"c",function(){return f});a.d(e,"g",function(){return d});a.d(e,"e",function(){return c});a.d(e,"h",function(){return g});a.d(e,"j",function(){return q});a.d(e,"d",function(){return n});var r=k(["NETWORK_ERROR","MEDIA_ERROR","ENCRYPTED_MEDIA_ERROR","INDEX_ERROR","OTHER_ERROR"]),q=k(["TIMEOUT","ERROR_EVENT","ERROR_HTTP_CODE","PARSE_ERROR"]),p=k("PIPELINE_RESOLVE_ERROR PIPELINE_LOAD_ERROR PIPELINE_PARSING_ERROR MANIFEST_PARSE_ERROR MANIFEST_INCOMPATIBLE_CODECS_ERROR MEDIA_IS_ENCRYPTED_ERROR KEY_ERROR KEY_STATUS_CHANGE_ERROR KEY_UPDATE_ERROR KEY_LOAD_ERROR KEY_LOAD_TIMEOUT KEY_GENERATE_REQUEST_ERROR INCOMPATIBLE_KEYSYSTEMS LICENSE_SERVER_CERTIFICATE_ERROR BUFFER_APPEND_ERROR BUFFER_FULL_ERROR BUFFER_TYPE_UNKNOWN MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_SOURCE_NOT_SUPPORTED MEDIA_KEYS_NOT_SUPPORTED OUT_OF_INDEX_ERROR UNKNOWN_INDEX".split(" "));
h.prototype=Error();l.prototype=Error();l.prototype.isHttpError=function(a){return this.reqType==q.ERROR_HTTP_CODE&&this.status==a};f.prototype=Error();d.prototype=Error();c.prototype=Error();g.prototype=Error()},function(b,e,a){function k(a){return!!p.a&&p.a.isTypeSupported(a)}function m(){return p.b}function h(a){return a.readyState>=p.c.HAVE_METADATA?r.Observable.of(null):u.f(a).take(1)}function l(c){return c.readyState>=p.c.HAVE_ENOUGH_DATA?r.Observable.of(null):a.i(q.a)(c,"canplay").take(1)}
function f(a,c){var d,g=void 0;p.b?(d=a.textTracks.length,d=0<d?a.textTracks[d-1]:a.addTextTrack("subtitles"),d.mode=c?d.HIDDEN:d.SHOWING):(g=document.createElement("track"),a.appendChild(g),d=g.track,g.kind="subtitles",d.mode=c?"hidden":"showing");return{track:d,trackElement:g}}function d(){return!p.b}function c(a){return p.d&&a.stalled&&"timeupdate"===a.state&&a.range&&10<a.range.end-a.currentTime}function g(a){a.src="";a.removeAttribute("src")}function n(){return!1===navigator.onLine}a.d(e,"n",
function(){return f});a.d(e,"j",function(){return l});a.d(e,"i",function(){return h});a.d(e,"k",function(){return g});a.d(e,"p",function(){return k});a.d(e,"q",function(){return n});a.d(e,"m",function(){return c});a.d(e,"o",function(){return d});a.d(e,"e",function(){return m});var r=a(0);a.n(r);var q=a(5);b=a(27);var p=a(33),u=a(17),w=a(86),t=a(84);a.d(e,"a",function(){return p.e});a.d(e,"f",function(){return t.a});a.d(e,"l",function(){return p.a});a.d(e,"c",function(){return w.a});a.d(e,"b",function(){return w.b});
a.d(e,"r",function(){return p.b});a.d(e,"d",function(){return w.c});a.d(e,"g",function(){return t.b});a.d(e,"h",function(){return t.c});if(window.WebKitSourceBuffer&&!window.WebKitSourceBuffer.prototype.addEventListener){e=window.WebKitSourceBuffer.prototype;for(var v in b.a.prototype)e[v]=b.a.prototype[v];e.__listeners=[];e.appendBuffer=function(a){if(this.updating)throw Error("updating");this.trigger("updatestart");this.updating=!0;try{this.append(a)}catch(y){this.__emitUpdate("error",y);return}this.__emitUpdate("update")};
e.__emitUpdate=function(a,c){var d=this;setTimeout(function(){d.trigger(a,c);d.updating=!1;d.trigger("updateend")},0)}}},function(b,e,a){var k=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var f={},a=0;10>a;a++)f["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(a){return f[a]}).join(""))return!1;
var d={};"abcdefghijklmnopqrst".split("").forEach(function(a){d[a]=a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},d)).join("")?!1:!0}catch(c){return!1}}()?Object.assign:function(a,f){var d,c;if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");c=Object(a);for(var g,n=1;n<arguments.length;n++){d=Object(arguments[n]);for(var l in d)m.call(d,l)&&(c[l]=d[l]);if(k){g=k(d);for(var b=0;b<g.length;b++)h.call(d,g[b])&&(c[g[b]]=d[g[b]])}}return c}},
function(b,e,a){function k(a,c){return{start:Math.min(a.start,c.start),end:Math.max(a.end,c.end)}}function m(a,c){var d=a.end;return a.start<=c&&c<d}function h(a,c){return m(a,c.start)||m(a,c.end)||m(c,a.start)}function l(a){for(var c=[],d=0;d<a.length;d++)c.push({start:a.start(d),end:a.end(d)});return c}function f(a,c){for(var d=a.length-1;0<=d;d--){var g=a.start(d);if(c>=g){var f=a.end(d);if(c<f)return{start:g,end:f}}}return null}function d(a,c){for(var d=a.length,g=0;g<d;g++){var f=a.start(g);
if(c<f)return f-c}return Infinity}function c(a,c){for(var d=null,g=[],f=a.length-1;0<=f;f--){var n=a.start(f),l=a.end(f);c<n||c>=l?g.push({start:n,end:l}):d={start:n,end:l}}return{outerRanges:g,innerRange:d}}function g(a,c){var d=f(a,c);return d?d.end-d.start:0}function n(a,c){var d=f(a,c);return d?c-d.start:0}function r(a,c){var d=f(a,c);return d?d.end-c:Infinity}function q(a,c){if(c.start===c.end)return a;for(var d=0;d<a.length;d++){var g=a[d],f=h(c,g),n=Math.abs(g.start-c.end)<u||Math.abs(g.end-
c.start)<u;if(f||n)c=k(c,g),a.splice(d--,1);else if(0===d){if(c.end<=a[0].start)break}else if(a[d-1].end<=c.start&&c.end<=g.start)break}a.splice(d,0,c);for(d=0;d<a.length;d++)g=a[d],g.start===g.end&&a.splice(d++,1);for(d=1;d<a.length;d++)if(g=a[d-1],f=a[d],Math.abs(f.start-g.end)<u||Math.abs(f.end-g.start)<u)g=k(g,f),a.splice(--d,2,g);return a}function p(a,c){for(var d=0;d<a.length;d++){var g=a[d],f;a:{f=g;for(var n=c,l=0;l<n.length;l++)if(h(f,n[l])){f=n[l];break a}f=null}f?f.start>g.start?g.start=
f.start:f.end<g.end&&(g.end=f.end):a.splice(d--,1)}return a}a.d(e,"h",function(){return l});a.d(e,"g",function(){return c});a.d(e,"a",function(){return r});a.d(e,"d",function(){return d});a.d(e,"c",function(){return n});a.d(e,"i",function(){return f});a.d(e,"b",function(){return g});a.d(e,"e",function(){return q});a.d(e,"f",function(){return p});var u=1/60},function(b,e,a){(function(a){var b="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;
a="undefined"!==typeof window&&window||"undefined"!==typeof a&&a||b;e.root=a;if(!a)throw Error("RxJS could not find any global context (window, self, global)");}).call(e,a(241))},function(b,e,a){function k(a){for(var c=a.length,d=new Uint8Array(c),g=0;g<c;g++)d[g]=a.charCodeAt(g)&255;return d}function m(a){return String.fromCharCode.apply(null,a)}function h(a){for(var c="",d=a.length,g=0;g<d;g+=2)c+=String.fromCharCode(a[g]);return c}function l(a){for(var c=a.length,d=new Uint8Array(c/2),g=0,f=0;g<
c;g+=2,f++)d[f]=parseInt(a.substr(g,2),16)&255;return d}function f(a,c){c||(c="");for(var d="",g=0;g<a.byteLength;g++)d+=(a[g]>>>4).toString(16),d+=(a[g]&15).toString(16),c.length&&g<a.byteLength-1&&(d+=c);return d}function d(){for(var a=arguments.length,c=-1,d=0,g;++c<a;)g=arguments[c],d+="number"===typeof g?g:g.length;for(var d=new Uint8Array(d),f=0,c=-1;++c<a;)g=arguments[c],"number"===typeof g?f+=g:0<g.length&&(d.set(g,f),f+=g.length);return d}function c(a,c){return(a[0+c]<<8)+(a[1+c]<<0)}function g(a,
c){return 65536*a[0+c]+256*a[1+c]+a[2+c]}function n(a,c){return 16777216*a[0+c]+65536*a[1+c]+256*a[2+c]+a[3+c]}function r(a,c){return 4294967296*(16777216*a[0+c]+65536*a[1+c]+256*a[2+c]+a[3+c])+16777216*a[4+c]+65536*a[5+c]+256*a[6+c]+a[7+c]}function q(a){return new Uint8Array([a>>>8&255,a&255])}function p(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}function u(a){var c=a%4294967296;a=(a-c)/4294967296;return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255,c>>>24&255,c>>>
16&255,c>>>8&255,c&255])}function w(a,c){return(a[0+c]<<0)+(a[1+c]<<8)}function t(a,c){return a[0+c]+256*a[1+c]+65536*a[2+c]+16777216*a[3+c]}function v(a){x.a.equal(a.length,16,"UUID length should be 16");var c=k(a);a=c[0];var d=c[1],g=c[2],n=c[3],l=c[4],h=c[5],b=c[6],m=c[7],e=c.subarray(8,10),c=c.subarray(10,16),r=new Uint8Array(16);r[0]=n;r[1]=g;r[2]=d;r[3]=a;r[4]=h;r[5]=l;r[6]=m;r[7]=b;r.set(e,8);r.set(c,10);return f(r)}a.d(e,"b",function(){return k});a.d(e,"a",function(){return m});a.d(e,"l",
function(){return h});a.d(e,"k",function(){return l});a.d(e,"p",function(){return f});a.d(e,"i",function(){return d});a.d(e,"g",function(){return c});a.d(e,"h",function(){return g});a.d(e,"e",function(){return n});a.d(e,"f",function(){return r});a.d(e,"d",function(){return w});a.d(e,"c",function(){return t});a.d(e,"n",function(){return q});a.d(e,"j",function(){return p});a.d(e,"o",function(){return u});a.d(e,"m",function(){return v});var x=a(2)},function(b,e,a){var k=this&&this.__extends||function(a,
h){function l(){this.constructor=a}for(var f in h)h.hasOwnProperty(f)&&(a[f]=h[f]);a.prototype=null===h?Object.create(h):(l.prototype=h.prototype,new l)};b=function(a){function h(){a.apply(this,arguments)}k(h,a);h.prototype.notifyNext=function(a,f,d,c,g){this.destination.next(f)};h.prototype.notifyError=function(a,f){this.destination.error(a)};h.prototype.notifyComplete=function(a){this.destination.complete()};return h}(a(3).Subscriber);e.OuterSubscriber=b},function(b,e,a){function k(a){return a.reduce(function(a,
d){return a.concat(d instanceof c.UnsubscriptionError?d.errors:d)},[])}var m=a(24),h=a(80),l=a(47),f=a(48),d=a(32),c=a(239);b=function(){function a(a){this.closed=!1;this._subscriptions=this._parents=this._parent=null;a&&(this._unsubscribe=a)}a.prototype.unsubscribe=function(){var a=!1,g;if(!this.closed){var b=this._parent,e=this._parents,u=this._unsubscribe,w=this._subscriptions;this.closed=!0;this._subscriptions=this._parents=this._parent=null;for(var t=-1,v=e?e.length:0;b;)b.remove(this),b=++t<
v&&e[t]||null;l.isFunction(u)&&(b=f.tryCatch(u).call(this),b===d.errorObject&&(a=!0,g=g||(d.errorObject.e instanceof c.UnsubscriptionError?k(d.errorObject.e.errors):[d.errorObject.e])));if(m.isArray(w))for(t=-1,v=w.length;++t<v;)b=w[t],h.isObject(b)&&(b=f.tryCatch(b.unsubscribe).call(b),b===d.errorObject&&(a=!0,g=g||[],b=d.errorObject.e,b instanceof c.UnsubscriptionError?g=g.concat(k(b.errors)):g.push(b)));if(a)throw new c.UnsubscriptionError(g);}};a.prototype.add=function(c){if(!c||c===a.EMPTY)return a.EMPTY;
if(c===this)return this;var d=c;switch(typeof c){case "function":d=new a(c);case "object":if(d.closed||"function"!==typeof d.unsubscribe)return d;if(this.closed)return d.unsubscribe(),d;"function"!==typeof d._addParent&&(c=d,d=new a,d._subscriptions=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this._subscriptions||(this._subscriptions=[])).push(d);d._addParent(this);return d};a.prototype.remove=function(a){var c=this._subscriptions;c&&(a=c.indexOf(a),-1!==
a&&c.splice(a,1))};a.prototype._addParent=function(a){var c=this._parent,d=this._parents;c&&c!==a?d?-1===d.indexOf(a)&&d.push(a):this._parents=[a]:this._parent=a};a.EMPTY=function(a){a.closed=!0;return a}(new a);return a}();e.Subscription=b},function(b,e,a){var k=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};b=a(0);var m=a(41),h=a(23),l=a(20);a=function(a){function d(c,
d){a.call(this);this.array=c;this.scheduler=d;d||1!==c.length||(this._isScalar=!0,this.value=c[0])}k(d,a);d.create=function(a,g){return new d(a,g)};d.of=function(){for(var a=[],g=0;g<arguments.length;g++)a[g-0]=arguments[g];g=a[a.length-1];l.isScheduler(g)?a.pop():g=null;var f=a.length;return 1<f?new d(a,g):1===f?new m.ScalarObservable(a[0],g):new h.EmptyObservable(g)};d.dispatch=function(a){var c=a.array,d=a.index,f=a.subscriber;d>=a.count?f.complete():(f.next(c[d]),f.closed||(a.index=d+1,this.schedule(a)))};
d.prototype._subscribe=function(a){var c=this.array,f=c.length,l=this.scheduler;if(l)return l.schedule(d.dispatch,0,{array:c,index:0,count:f,subscriber:a});for(l=0;l<f&&!a.closed;l++)a.next(c[l]);a.complete()};return d}(b.Observable);e.ArrayObservable=a},function(b,e,a){var k=a(11),m=a(77),h=a(81),l=a(80),f=a(0),d=a(44),c=a(160),g=a(45);e.subscribeToResult=function(a,b,e,p){var n=new c.InnerSubscriber(a,e,p);if(n.closed)return null;if(b instanceof f.Observable)if(b._isScalar)n.next(b.value),n.complete();
else return b.subscribe(n);else if(m.isArrayLike(b)){a=0;for(e=b.length;a<e&&!n.closed;a++)n.next(b[a]);n.closed||n.complete()}else{if(h.isPromise(b))return b.then(function(a){n.closed||(n.next(a),n.complete())},function(a){return n.error(a)}).then(null,function(a){k.root.setTimeout(function(){throw a;})}),n;if(b&&"function"===typeof b[d.iterator]){b=b[d.iterator]();do{a=b.next();if(a.done){n.complete();break}n.next(a.value);if(n.closed)break}while(1)}else if(b&&"function"===typeof b[g.observable])if(b=
b[g.observable](),"function"!==typeof b.subscribe)n.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new c.InnerSubscriber(a,e,p));else b=l.isObject(b)?"an invalid object":"'"+b+"'",n.error(new TypeError("You provided "+b+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}},function(b,e,a){function k(a,c){return c.filter(function(c){var d;d=document.createElement(a.tagName);c="on"+
c;c in d?d=!0:(d.setAttribute(c,"return;"),d="function"==typeof d[c]);return d})[0]}function m(a,c){return a.reduce(function(a,d){return a.concat((c||l.g).map(function(a){return a+d}))},[])}function h(c,d){var f=void 0;c=m(c,d);return function(d){return d instanceof l.h?("undefined"==typeof f&&(f=k(d,c)||null),f?n(d,f):r()):a.i(g.a)(d,c)}}a.d(e,"b",function(){return t});a.d(e,"c",function(){return v});a.d(e,"f",function(){return x});a.d(e,"a",function(){return y});a.d(e,"e",function(){return z});
a.d(e,"d",function(){return C});a.d(e,"i",function(){return A});a.d(e,"g",function(){return D});a.d(e,"h",function(){return H});a.d(e,"j",function(){return B});var l=a(33);b=a(4);var f=a(30);a.n(f);e=a(203);a.n(e);a(1);var d=a(67);a.n(d);var c=a(68);a.n(c);var g=a(5),n=d.FromEventObservable.create,r=c.NeverObservable.create,q=e.IntervalObservable.create;b=b.a.INACTIVITY_DELAY;var p=window.devicePixelRatio||1;e=function(){var c=void 0;null!=document.hidden?c="":null!=document.mozHidden?c="moz":null!=
document.msHidden?c="ms":null!=document.webkitHidden&&(c="webkit");var d=c?c+"Hidden":"hidden",c=c+"visibilitychange";return a.i(g.a)(document,c).map(function(){return document[d]})};var u=e().filter(function(a){return!1===a}),w=e().debounceTime(b).filter(function(a){return!0===a}),t=function(){return a.i(f.merge)(u,w).startWith(!1)},v=function(c){return a.i(f.merge)(q(2E4),a.i(g.a)(window,"resize").debounceTime(500)).startWith("init").map(function(){return c.clientWidth*p}).distinctUntilChanged()},
x=h(["loadedmetadata"]),y=h(["fullscreenchange","FullscreenChange"],l.g.concat("MS")),z=h(["sourceopen","webkitsourceopen"]),C=h(["encrypted","needkey"]),A=h(["keymessage","message"]),D=h(["keyadded","ready"]),H=h(["keyerror","error"]),B=h(["keystatuseschange"])},function(b,e,a){e.a=function(a,b,h){if("function"===typeof Array.prototype.includes)return a.includes(b,h);var l=a.length>>>0;if(0===l)return!1;h|=0;for(h=Math.max(0<=h?h:l-Math.abs(h),0);h<l;){var f=a[h],d=b;if(f===d||"number"===typeof f&&
"number"===typeof d&&isNaN(f)&&isNaN(d))return!0;h++}return!1}},function(b,e,a){function k(){for(var a=arguments.length,d=Array(a),c=0;c<a;c++)d[c]=arguments[c];a=d.length;if(0===a)return"";for(var c="",g=0;g<a;g++){var n=d[g];"string"===typeof n&&""!==n&&(h.test(n)?c=n:("/"===n[0]&&(n=n.substr(1)),"/"===c[c.length-1]&&(c=c.substr(0,c.length-1)),c=c+"/"+n))}a=c;if(l.test(a)){d=[];a=a.split("/");c=0;for(g=a.length;c<g;c++)".."==a[c]?d.pop():"."!=a[c]&&d.push(a[c]);d=d.join("/")}else d=a;return d}function m(a){var d=
a.lastIndexOf("/");return 0<=d?a.substring(0,d+1):a}a.d(e,"b",function(){return k});a.d(e,"a",function(){return m});var h=/^(?:[a-z]+:)?\/\//i,l=/\/\.{1,2}\//},function(b,e,a){e.isScheduler=function(a){return a&&"function"===typeof a.schedule}},function(b,e,a){b.exports=function(a,b,h){if("function"===typeof Array.prototype.find)return a.find(b,h);h=h||this;var l=a.length,f;if("function"!==typeof b)throw new TypeError(b+" is not a function");for(f=0;f<l;f++)if(b.call(h,a[f],f,a))return a[f]}},function(b,
e,a){a.d(e,"e",function(){return m});a.d(e,"d",function(){return h});a.d(e,"a",function(){return l});a.d(e,"b",function(){return f});a.d(e,"c",function(){return d});a(2);var k=a(25),m=function(a,d,f){var c=a.presentationTimeOffset||0;a=a.timescale||1;return{up:d*a-c,to:(d+f)*a-c}},h=function(a){var c=a.ts,d=a.d;a=a.r;return-1===d?c:c+(a+1)*d},l=function(a,d){var c=d.initialization,c=void 0===c?{}:c;return new k.a({id:""+a+"_init",init:!0,range:c.range||null,indexRange:d.indexRange||null,media:c.media,
timescale:d.timescale})},f=function(a,d){a.timescale!==d&&(a.timescale=d);return a},d=function(a,d){return d/a.timescale}},function(b,e,a){var k=this&&this.__extends||function(a,b){function l(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)};b=function(a){function b(l){a.call(this);this.scheduler=l}k(b,a);b.create=function(a){return new b(a)};b.dispatch=function(a){a.subscriber.complete()};b.prototype._subscribe=
function(a){var f=this.scheduler;if(f)return f.schedule(b.dispatch,0,{subscriber:a});a.complete()};return b}(a(0).Observable);e.EmptyObservable=b},function(b,e,a){e.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length}},function(b,e,a){e.a=function m(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.id=a.id;this.duration=a.duration;this.isInit=!!a.init;this.range=a.range;this.time=
a.time;this.indexRange=a.indexRange;this.number=a.number;this.timescale=null==a.timescale?1:a.timescale;this.media=a.media}},function(b,e,a){function k(a,c){return new Date(1E3*(a+c.availabilityStartTime))}function m(a,c){var d=a,f=c.suggestedPresentationDelay,b=c.presentationLiveGap,l=c.timeShiftBufferDepth;"number"!=typeof d&&(d=d.getTime());var h=Date.now();return Math.max(Math.min(d,h-1E3*(b+f)),h-1E3*l)/1E3-c.availabilityStartTime}function h(a){return f(a)[0]}function l(a){if(!a.isLive)return a.getDuration();
var c=a.availabilityStartTime;a=a.presentationLiveGap;return Date.now()/1E3-c-a}function f(a){if(!a.isLive)return[0,a.getDuration()];var c=a.availabilityStartTime,d=a.presentationLiveGap;a=a.timeShiftBufferDepth;c=Date.now()/1E3-c-d;return[Math.min(c,c-a+5),c]}a.d(e,"a",function(){return k});a.d(e,"b",function(){return m});a.d(e,"c",function(){return h});a.d(e,"d",function(){return l});a.d(e,"e",function(){return f})},function(b,e,a){function k(){this.__listeners={}}var m=a(1),h=a(2);k.prototype.addEventListener=
function(b,f){a.i(h.a)("function"==typeof f,"eventemitter: second argument should be a function");this.__listeners[b]||(this.__listeners[b]=[]);this.__listeners[b].push(f)};k.prototype.removeEventListener=function(a,f){if(0===arguments.length)this.__listeners={};else if(this.__listeners.hasOwnProperty(a))if(1===arguments.length)delete this.__listeners[a];else{var d=this.__listeners[a],c=d.indexOf(f);~c&&d.splice(c,1);d.length||delete this.__listeners[a]}};k.prototype.trigger=function(a,f){this.__listeners.hasOwnProperty(a)&&
this.__listeners[a].slice().forEach(function(a){try{a(f)}catch(c){m.a.error(c,c.stack)}})};k.prototype.on=k.prototype.addEventListener;k.prototype.off=k.prototype.removeEventListener;e.a=k},function(b,e,a){function k(a){if(null!=a){var c;"string"===typeof a?(c=a,a=!1):(c=h(a.language),a=!!a.closedCaption);return{language:c,closedCaption:a}}}function m(a){if(null!=a){var c;"string"===typeof a?(c=a,a=!1):(c=h(a.language),a=!!a.audioDescription);return{language:c,audioDescription:a}}}function h(a){if(null==
a||""===a)return"";a=(""+a).toLowerCase().split("-");var c=a[0],d=void 0;2===c.length?d=l[c]:3===c.length&&(d=f[c]);(c=d||c)&&(a[0]=c);return a.join("-")}a.d(e,"a",function(){return h});a.d(e,"b",function(){return m});a.d(e,"c",function(){return k});var l={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bh:"bih",bi:"bis",bm:"bam",bn:"ben",bo:"bod",br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",
cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"baq",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fre",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"arm",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"ice",it:"ita",iu:"iku",ja:"jpn",jv:"jav",ka:"geo",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",
ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mao",mk:"mac",ml:"mal",mn:"mon",mr:"mar",ms:"may",mt:"mlt",my:"bur",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"dut",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",
se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"alb",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"chi",zu:"zul"},f={tib:"bod",cze:"ces",wel:"cym",ger:"deu",gre:"ell",eus:"baq",per:"fas",fra:"fre",hye:"arm",isl:"ice",kat:"geo",
mri:"mao",mkd:"mac",msa:"may",mya:"bur",nld:"dut",rum:"ron",slo:"slk",sqi:"alb",zho:"chi"}},function(b,e,a){var k=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=a(6);var m=a(75);a=function(a){function b(f){a.call(this);this._value=f}k(b,a);Object.defineProperty(b.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0});b.prototype._subscribe=
function(f){var d=a.prototype._subscribe.call(this,f);d&&!d.closed&&f.next(this._value);return d};b.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new m.ObjectUnsubscribedError;return this._value};b.prototype.next=function(f){a.prototype.next.call(this,this._value=f)};return b}(b.Subject);e.BehaviorSubject=a},function(b,e,a){b=a(73);e.merge=b.mergeStatic},function(b,e,a){b=a(236);a=a(237);e.async=new a.AsyncScheduler(b.AsyncAction)},function(b,e,a){e.errorObject=
{e:{}}},function(b,e,a){a.d(e,"g",function(){return k});a.d(e,"h",function(){return m});a.d(e,"e",function(){return h});a.d(e,"a",function(){return l});a.d(e,"f",function(){return f});a.d(e,"b",function(){return d});a.d(e,"d",function(){return c});a.d(e,"c",function(){return g});b=window;var k=["","webkit","moz","ms"],m=b.HTMLElement,h=b.HTMLVideoElement,l=b.MediaSource||b.MozMediaSource||b.WebKitMediaSource||b.MSMediaSource,f=b.MediaKeys||b.MozMediaKeys||b.WebKitMediaKeys||b.MSMediaKeys;f||(b=function(){throw new MediaError("MEDIA_KEYS_NOT_SUPPORTED",
null,!0);},f={create:b,isTypeSupported:b});var d="Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent),c=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),g={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}},function(b,e,a){a.d(e,"a",function(){return k});var k={STOPPED:"STOPPED",LOADED:"LOADED",LOADING:"LOADING",PLAYING:"PLAYING",PAUSED:"PAUSED",ENDED:"ENDED",BUFFERING:"BUFFERING",
SEEKING:"SEEKING"}},function(b,e,a){a.d(e,"a",function(){return k});a.d(e,"b",function(){return m});b=a(110);var k=new b.a({load:function(){return[]},save:function(){}}),m=new b.b},function(b,e,a){var k=a(25),m=a(22),h=function(a,f){for(var d=a.timeline,c=0,g=d.length;c<g;){var b=c+g>>>1;d[b].ts<f?c=b+1:g=b}return 0<c?c-1:c};e.a={getInitSegment:m.a,setTimescale:m.b,scale:m.c,getSegments:function(b,f,d,c){c=a.i(m.e)(f,d,c);d=c.up;c=c.to;var g=f.timeline,n=f.timescale,l=f.media,e=[],p=g.length;f=h(f,
d)-1;var u=g.length&&g[0].d||0;a:for(;!(++f>=p);){var w=g[f],t=w.d,v=w.ts,x=w.range,u=Math.max(u,t);if(0>t){v+u<c&&e.push(new k.a({id:""+b+"_"+v,time:v,init:!1,range:x,duration:void 0,indexRange:null,timescale:n,media:l}));break}var y=g[f+1],z=w.r||0;0>z&&(z=Math.ceil(((y?y.t:Infinity)-w.ts)/w.d)-1);w=z;y=d-v;y=0<y?Math.floor(y/t):0;for(;(z=v+y*t)<c;)if(y++<=w)e.push(new k.a({id:""+b+"_"+z,time:z,init:!1,range:x,duration:t,indexRange:null,timescale:n,media:l}));else continue a;break}return e},shouldRefresh:function(b,
f,d,c){d=b.timeline;f=b.timescale;b=b.presentationTimeOffset;d=d[d.length-1];if(!d)return!1;0>d.d&&(d={ts:d.ts,d:0,r:d.r});return!(c*f-(void 0===b?0:b)<=a.i(m.d)(d))},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(b){if(b.timeline.length){var f=b.timeline[b.timeline.length-1];return a.i(m.d)(f)/b.timescale}},checkDiscontinuity:function(b,f){var d=b.timeline,c=b.timescale,c=void 0===c?1:c,g=f*c;if(0>=g)return-1;var n=h(b,g);if(0>n||n>=
d.length-1)return-1;var l=d[n];if(-1===l.d)return-1;var e=l.ts,l=a.i(m.d)(l),d=d[n+1];return l!==d.ts&&g>=e&&g<=l&&l-g<c?d.ts/c:-1},_addSegmentInfos:function(b,f,d){var c=b.timeline,g=b.timescale,n=c.length,l=c[n-1];f=f.timescale===g?{time:f.time,duration:f.duration}:{time:f.time/f.timescale*g,duration:f.duration/f.timescale*g};var h=void 0;d&&(h=d.timescale===g?d.time:d.time/d.timescale*g);if(null!=h&&f.time===h){d=f.time+f.duration;g=d-(l.ts+l.d*l.r);if(0>=g)return!1;-1===l.d&&((n=c[n-2])&&n.d===
g?(n.r++,c.pop()):l.d=g);b.timeline.push({d:-1,ts:d,r:0});return!0}return f.time>=a.i(m.d)(l)?(l.d===f.duration?l.r++:b.timeline.push({d:f.duration,ts:f.time,r:0}),!0):!1}}},function(b,e,a){function k(c,d){for(var g=c.length,f=0,b,n=void 0;f+8<g&&(n=a.i(q.e)(c,f),b=a.i(q.e)(c,f+4),a.i(r.a)(0<n,"out of range size"),b!==d);)f+=n;if(f>=g)return-1;a.i(r.a)(f+n<=g,"atom out of range");return f}function m(c,d){var g=k(c,1936286840);if(-1==g)return null;var f=a.i(q.e)(c,g),g=g+4+4,b=c[g],g=g+8,n=a.i(q.e)(c,
g),g=g+4;if(0===b)b=a.i(q.e)(c,g),g+=4,d+=a.i(q.e)(c,g)+f,g+=4;else if(1===b)b=a.i(q.f)(c,g),g+=8,d+=a.i(q.f)(c,g)+f,g+=8;else return null;for(var f=[],g=g+2,l=a.i(q.g)(c,g),g=g+2;0<=--l;){var h=a.i(q.e)(c,g),g=g+4,m=h&2147483647;if(1==(h&2147483648)>>>31)throw Error("not implemented");h=a.i(q.e)(c,g);g+=4;g+=4;f.push({time:b,duration:h,count:0,timescale:n,range:[d,d+m-1]});b+=h;d+=m}return f}function h(c){c=d(c,1836019558);if(!c)return-1;c=d(c,1953653094);if(!c)return-1;var g=k(c,1952867444);if(-1==
g)return-1;var g=g+4+4,f=c[g],g=g+4;return 1<f?-1:f?a.i(q.f)(c,g):a.i(q.e)(c,g)}function l(c){c=d(c,1836019558);if(!c)return-1;c=d(c,1953653094);if(!c)return-1;var g=k(c,1953658222);if(-1==g)return-1;var g=g+4+4,f=c[g],g=g+1;if(1<f)return-1;var b=a.i(q.h)(c,g),g=g+3,f=b&256,n=0;if(!f)return g=k(c,1952868452),-1==g?n=-1:(g=g+4+4+1,f=a.i(q.h)(c,g),f&8?(g+=4,f&1&&(g+=8),f&2&&(g+=4),n=a.i(q.e)(c,g)):n=-1),0<=n?n:-1;var l=b&1,h=b&4,m=b&512,e=b&1024,b=b&2048,r=a.i(q.e)(c,g),g=g+4;l&&(g+=4);h&&(g+=4);l=
r;for(h=0;l--;)f?(h+=a.i(q.e)(c,g),g+=4):h+=n,m&&(g+=4),e&&(g+=4),b&&(g+=4);return h}function f(c){c=d(c,1836019574);if(!c)return-1;c=d(c,1953653099);if(-1==g)return-1;c=d(c,1835297121);if(-1==g)return-1;var g=k(c,1835296868);if(g/-1)return-1;var g=g+4+4,f=c[g],g=g+4;return 1===f?(g+=16,a.i(q.e)(c,g)):0==f?(g+=8,a.i(q.e)(c,g)):-1}function d(c,d){for(var g=c.length,f=0,b,n=void 0;f+8<g&&(n=a.i(q.e)(c,f),b=a.i(q.e)(c,f+4),a.i(r.a)(0<n,"out of range size"),b!==d);)f+=n;return f<g?c.subarray(f+8,f+n):
null}function c(a){return d(a,1835295092)}function g(c){var d=c.systemId;c=c.privateData;d=d.replace(/-/g,"");a.i(r.a)(32===d.length);d=a.i(q.i)(4,a.i(q.k)(d),a.i(q.j)(c.length),c);c=d.length+8;return a.i(q.i)(a.i(q.j)(c),a.i(q.b)("pssh"),d)}function n(c,d){if(!d||!d.length)return c;var f=k(c,1836019574);if(-1==f)return c;for(var b=a.i(q.e)(c,f),n=[c.subarray(f,f+b)],l=0;l<d.length;l++)n.push(g(d[l]));n=q.i.apply(null,n);n.set(a.i(q.j)(n.length),0);return a.i(q.i)(c.subarray(0,f),n,c.subarray(f+b))}
a.d(e,"b",function(){return f});a.d(e,"e",function(){return h});a.d(e,"f",function(){return l});a.d(e,"a",function(){return m});a.d(e,"d",function(){return c});a.d(e,"c",function(){return n});var r=a(2),q=a(12)},function(b,e,a){function k(c,d){var g=d.length+8,f=a.i(n.i),g=a.i(n.j)(g),b;q[c]?b=q[c]:(b=a.i(n.b)(c),q[c]=b);return f(g,b,d)}function m(c,d,g,f,b){for(var l=c.length,h=0,m;h<l;){m=a.i(n.e)(c,h);if(1970628964===a.i(n.e)(c,h+4)&&a.i(n.e)(c,h+8)===d&&a.i(n.e)(c,h+12)===g&&a.i(n.e)(c,h+16)===
f&&a.i(n.e)(c,h+20)===b)return c.subarray(h+24,h+m);h+=m}}function h(d,g){for(var f=d.length,b=0,l,h=void 0;b+8<f&&(h=a.i(n.e)(d,b),l=a.i(n.e)(d,b+4),a.i(c.a)(0<h,"smooth: out of range size"),l!==g);)b+=h;return b<f?d.subarray(b+8,b+h):null}function l(a,c,d,g){var f=[a,c,d];g.forEach(function(a){a=p.pssh(a.systemId,a.privateData,a.keyIds);f.push(a)});return f}function f(c,d,g,f){var b=c.length,l=d.length;g=g.length;c=c.subarray(g,b);b=new Uint8Array(l+(b-g));b.set(d,0);b.set(c,l);d=d.length+8;b.set(a.i(n.j)(d),
f+16);return b}function d(c,d,g,f,b,h,m){g=p.mult("stbl",[g,k("stts",new Uint8Array(8)),k("stsc",new Uint8Array(8)),k("stsz",new Uint8Array(12)),k("stco",new Uint8Array(8))]);var e=k("url ",new Uint8Array([0,0,0,1])),e=p.dref(e),e=p.mult("dinf",[e]);f=p.mult("minf",[f,e,g]);d=p.hdlr(d);g=p.mdhd(c);d=p.mult("mdia",[g,d,f]);b=p.tkhd(b,h,1);b=p.mult("trak",[b,d]);h=p.trex(1);h=p.mult("mvex",[h]);c=p.mvhd(c,1);m=p.mult("moov",l(c,h,b,m));c=p.ftyp("isom",["isom","iso2","iso6","avc1","dash"]);return a.i(n.i)(c,
m)}var c=a(2),g=a(8),n=a(12),r=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],q={},p={mult:function(a,c){return k(a,n.i.apply(null,c))},avc1encv:function(c,d,g,f,b,l,h,m,e,r){return k(c,a.i(n.i)(6,a.i(n.n)(d),16,a.i(n.n)(g),a.i(n.n)(f),a.i(n.n)(b),2,a.i(n.n)(l),6,[0,1,h.length],a.i(n.b)(h),31-h.length,a.i(n.n)(m),[255,255],e,"encv"===c?r:[]))},avcc:function(c,d,g){g=2===g?1:4===g?3:0;var f=c[1],b=c[2],l=c[3];return k("avcC",a.i(n.i)([1,f,b,l,252|g,225],a.i(n.n)(c.length),c,
[1],a.i(n.n)(d.length),d))},dref:function(c){return k("dref",a.i(n.i)(7,[1],c))},esds:function(c,d){return k("esds",a.i(n.i)(4,[3,25],a.i(n.n)(c),[0,4,17,64,21],11,[5,2],a.i(n.k)(d),[6,1,2]))},frma:function(c){return k("frma",a.i(n.b)(c))},free:function(a){return k("free",new Uint8Array(a-8))},ftyp:function(c,d){return k("ftyp",n.i.apply(null,[a.i(n.b)(c),[0,0,0,1]].concat(d.map(n.b))))},hdlr:function(c){var d;switch(c){case "video":c="vide";d="VideoHandler";break;case "audio":c="soun";d="SoundHandler";
break;default:c="hint",d=""}return k("hdlr",a.i(n.i)(8,a.i(n.b)(c),12,a.i(n.b)(d),1))},mdhd:function(c){return k("mdhd",a.i(n.i)(12,a.i(n.j)(c),8))},moof:function(a,c){return p.mult("moof",[a,c])},mp4aenca:function(c,d,g,f,b,l,h,m){return k(c,a.i(n.i)(6,a.i(n.n)(d),8,a.i(n.n)(g),a.i(n.n)(f),2,a.i(n.n)(b),a.i(n.n)(l),2,h,"enca"===c?m:[]))},mvhd:function(c,d){return k("mvhd",a.i(n.i)(12,a.i(n.j)(c),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,a.i(n.n)(d+1)))},pssh:function(d){var g=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:[],f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];d=d.replace(/-/g,"");a.i(c.a)(32===d.length,"wrong system id length");var b,l=f.length;0<l?(b=1,f=n.i.apply(null,[a.i(n.j)(l)].concat(f))):(b=0,f=[]);return k("pssh",a.i(n.i)([b,0,0,0],a.i(n.k)(d),f,a.i(n.j)(g.length),g))},saio:function(c,d,g,f){return k("saio",a.i(n.i)(4,[0,0,0,1],a.i(n.j)(c.length+d.length+g.length+f.length+8+8+8+8)))},saiz:function(c){if(0===c.length)return k("saiz",new Uint8Array);
var d=a.i(n.e)(c,0),g=a.i(n.e)(c,4),f=new Uint8Array(9+g);f.set(a.i(n.j)(g),5);for(var g=9,b=8,l,h;b<c.length;)b+=8,2===(d&2)?(h=2,l=a.i(n.g)(c,b),b+=2+6*l):h=l=0,f[g]=6*l+8+h,g++;return k("saiz",f)},schm:function(c,d){return k("schm",a.i(n.i)(4,a.i(n.b)(c),a.i(n.j)(d)))},senc:function(a){return k("senc",a)},smhd:function(){return k("smhd",new Uint8Array(8))},stsd:function(a){return k("stsd",n.i.apply(null,[7,[a.length]].concat(a)))},tkhd:function(c,d,g){return k("tkhd",a.i(n.i)(a.i(n.j)(7),8,a.i(n.j)(g),
20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],a.i(n.n)(c),2,a.i(n.n)(d),2))},trex:function(c){return k("trex",a.i(n.i)(4,a.i(n.j)(c),[0,0,0,1],12))},tfdt:function(c){return k("tfdt",a.i(n.i)([1,0,0,0],a.i(n.o)(c)))},tenc:function(c,d,g){return k("tenc",a.i(n.i)(6,[c,d],a.i(n.k)(g)))},traf:function(a,c,d,g,f){var b=[a,c,d];g&&b.push(p.senc(g),p.saiz(g),p.saio(f,a,c,d));return p.mult("traf",b)},trun:function(c){if(c[11]&1)return c;var d=new Uint8Array(c.length+4);d.set(a.i(n.j)(c.length+4),0);d.set(c.subarray(4,
16),4);d[11]|=1;d.set([0,0,0,0],16);d.set(c.subarray(16,c.length),20);return d},vmhd:function(){var a=new Uint8Array(12);a[3]=1;return k("vmhd",a)}},u={traf:function(a){return(a=h(a,1836019558))?h(a,1953653094):null},senc:function(a){return m(a,2721664850,1520127764,2722393154,2086964724)},tfxd:function(a){return m(a,1830656773,1121273062,2162299933,2952222642)},tfrf:function(a){return m(a,3565190898,3392751253,2387879627,2655430559)},mdat:function(a){return h(a,1835295092)}};e.a={getMdat:u.mdat,
getTraf:u.traf,parseTfrf:function(c){c=u.tfrf(c);if(!c)return[];for(var d=[],g=c[0],f=c[4],b=0;b<f;b++){var l,h;1==g?(h=a.i(n.f)(c,16*b+5),l=a.i(n.f)(c,16*b+13)):(h=a.i(n.e)(c,8*b+5),l=a.i(n.e)(c,8*b+9));d.push({time:h,duration:l})}return d},parseTfxd:function(c){if(c=u.tfxd(c))return{duration:a.i(n.f)(c,12),time:a.i(n.f)(c,4)}},createVideoInitSegment:function(c,g,f,b,l,h,m,e,k){k||(k=[]);var r=m.split("00000001");m=r[1];r=r[2];m=a.i(n.k)(m);r=a.i(n.k)(r);h=p.avcc(m,r,h);k.length?(e=p.tenc(1,8,e),
e=p.mult("schi",[e]),m=p.schm("cenc",65536),r=p.frma("avc1"),e=p.mult("sinf",[r,m,e]),b=p.avc1encv("encv",1,g,f,b,l,"AVC Coding",24,h,e)):b=p.avc1encv("avc1",1,g,f,b,l,"AVC Coding",24,h);b=p.stsd([b]);return d(c,"video",b,p.vmhd(),g,f,k)},createAudioInitSegment:function(c,g,f,b,l,h,m,e){e||(e=[]);h||(h=(32|r.indexOf(l)&31)<<4,h=(h|g&31)<<3,h=a.i(n.p)(a.i(n.n)(h)));h=p.esds(1,h);if(e.length){m=p.tenc(1,8,m);m=p.mult("schi",[m]);var k=p.schm("cenc",65536),q=p.frma("mp4a");m=p.mult("sinf",[q,k,m]);g=
p.mp4aenca("enca",1,g,f,b,l,h,m)}else g=p.mp4aenca("mp4a",1,g,f,b,l,h);g=p.stsd([g]);return d(c,"audio",g,p.smhd(),0,0,e)},patchSegment:function(c,d){var b=c.subarray(0,a.i(n.e)(c,0)),h=p.tfdt(d),l=h.length,m=a.i(n.e)(b,8),e=a.i(n.e)(b,8+m),k=a.i(n.e)(b,8+m+8),r=a.i(n.e)(b,8+m+8+k),q=b.subarray(8,8+m),t=b.subarray(8+m+8,8+m+8+e-8),e=t.subarray(0,k),r=t.subarray(k,k+r);e.set([0,0,0,1],12);t=u.senc(t);r=p.trun(r);h=p.traf(e,h,r,t,q);q=p.moof(q,h);l=8+m+8+k+l;return g.r?f(c,q,b,l):8<=b.length-q.length?
(b=b.length-q.length,c.set(q,0),c.set(p.free(b),q.length),b=q.length+8+b,c.set(a.i(n.j)(b),l+16),c):f(c,q,b,l)}}},function(b,e,a){var k=0;e.a=function(){var a=0;k<Number.MAX_VALUE&&(a=k+1);k=a;return""+a}},function(b,e,a){var k=a(0);a.n(k);var m=a(7);e.a=function(a){var b={url:"",headers:null,method:"GET",responseType:"json",timeout:3E4,body:null},f;for(f in b)a.hasOwnProperty(f)&&(b[f]=a[f]);return k.Observable.create(function(d){var c=b.url,g=b.headers,f=b.responseType,h=b.timeout,l=b.body,e=new XMLHttpRequest;
e.open(b.method,c,!0);0<=h&&(e.timeout=h);e.responseType=f;"document"===e.responseType&&e.overrideMimeType("text/xml");if(g)for(var k in g)e.setRequestHeader(k,g[k]);var w=Date.now();e.onerror=function(){d.error(new m.h(e,c,m.j.ERROR_EVENT))};e.ontimeout=function(){d.error(new m.h(e,c,m.j.TIMEOUT))};a.ignoreProgressEvents||(e.onprogress=function(a){d.next({type:"progress",value:{url:c,sentTime:w,currentTime:Date.now(),loadedSize:a.loaded,totalSize:a.total}})});e.onload=function(a){if(4===e.readyState)if(200<=
e.status&&300>e.status){var g=Date.now();a=a.total;var f=e.status,b=e.responseType,h=e.responseURL||h,l=void 0;if("json"===b)if("string"!=typeof e.response)l=e.response;else try{l=JSON.parse(e.responseText)}catch(A){l=null}else l=e.response;null==l?d.error(new m.h(e,h,m.j.PARSE_ERROR)):(d.next({type:"response",value:{status:f,url:h,responseType:b,sentTime:w,receivedTime:g,size:a,responseData:l}}),d.complete())}else d.error(new m.h(e,c,m.j.ERROR_HTTP_CODE))};void 0!==l?e.send(l):e.send();return function(){e&&
4!==e.readyState&&e.abort()}})}},function(b,e,a){var k=this&&this.__extends||function(a,b){function l(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)};b=function(a){function b(b,f){a.call(this);this.value=b;this.scheduler=f;this._isScalar=!0;f&&(this._isScalar=!1)}k(b,a);b.create=function(a,f){return new b(a,f)};b.dispatch=function(a){var f=a.value,d=a.subscriber;a.done?d.complete():(d.next(f),d.closed||(a.done=
!0,this.schedule(a)))};b.prototype._subscribe=function(a){var f=this.value,d=this.scheduler;if(d)return d.schedule(b.dispatch,0,{done:!1,value:f,subscriber:a});a.next(f);a.closed||a.complete()};return b}(a(0).Observable);e.ScalarObservable=b},function(b,e,a){var k=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};b=a(13);var m=a(16);e.mergeAll=function(a){void 0===
a&&(a=Number.POSITIVE_INFINITY);return this.lift(new h(a))};var h=function(){function a(a){this.concurrent=a}a.prototype.call=function(a,c){return c.subscribe(new l(a,this.concurrent))};return a}();e.MergeAllOperator=h;var l=function(a){function d(c,d){a.call(this,c);this.concurrent=d;this.hasCompleted=!1;this.buffer=[];this.active=0}k(d,a);d.prototype._next=function(a){this.active<this.concurrent?(this.active++,this.add(m.subscribeToResult(this,a))):this.buffer.push(a)};d.prototype._complete=function(){this.hasCompleted=
!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};d.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);this.active--;0<c.length?this._next(c.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return d}(b.OuterSubscriber);e.MergeAllSubscriber=l},function(b,e,a){var k=a(199);e.multicast=function(a,b){var f;f="function"===typeof a?a:function(){return a};if("function"===typeof b)return this.lift(new m(f,b));var d=Object.create(this,k.connectableObservableDescriptor);
d.source=this;d.subjectFactory=f;return d};var m=function(){function a(a,f){this.subjectFactory=a;this.selector=f}a.prototype.call=function(a,f){var d=this.selector,c=this.subjectFactory(),d=d(c).subscribe(a);d.add(f.subscribe(c));return d};return a}();e.MulticastOperator=m},function(b,e,a){function k(a){var b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof(new b)["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=
Object.getOwnPropertyNames(a.prototype),l=0;l<b.length;++l){var f=b[l];if("entries"!==f&&"size"!==f&&a.prototype[f]===a.prototype.entries)return f}return"@@iterator"}b=a(11);e.symbolIteratorPonyfill=k;e.iterator=k(b.root);e.$$iterator=e.iterator},function(b,e,a){function k(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}b=a(11);e.getSymbolObservable=k;e.observable=k(b.root);e.$$observable=e.observable},function(b,e,a){b=
a(11).root.Symbol;e.rxSubscriber="function"===typeof b&&"function"===typeof b["for"]?b["for"]("rxSubscriber"):"@@rxSubscriber";e.$$rxSubscriber=e.rxSubscriber},function(b,e,a){e.isFunction=function(a){return"function"===typeof a}},function(b,e,a){function k(){try{return h.apply(this,arguments)}catch(l){return m.errorObject.e=l,m.errorObject}}var m=a(32),h;e.tryCatch=function(a){h=a;return k}},function(b,e,a){b.exports=function(a,b,h){if("function"===typeof Array.prototype.findIndex)return a.findIndex(b,
h);if("function"!==typeof b)throw new TypeError("predicate must be a function");a=Object(a);var l=a.length;if(0===l)return-1;for(var f=0;f<l;f++)if(b.call(h,a[f],f,a))return f;return-1}},function(b,e,a){function k(c,d){function g(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.errorCode&&(a={systemCode:a.systemCode,code:a.errorCode.code});this.name="KeySessionError";this.mediaKeyError=a;this.message="MediaKeyError code:"+a.code+" and systemCode:"+a.systemCode}g.prototype=Error();
return function(f,b){var l="function"==typeof d?d.call(this):this,e=n.g(l),k=n.h(l).map(function(a){throw new g(l.error||a);});try{return c.call(this,f,b),a.i(h.merge)(e,k).take(1)}catch(B){return m.Observable["throw"](B)}}}a.d(e,"b",function(){return p});a.d(e,"a",function(){return q});b=a(9);b=a.n(b);var m=a(0);a.n(m);var h=a(30);a.n(h);var l=a(27),f=a(12),d=a(2),c=a(5),g=a(33),n=a(17),r=a(51),q=void 0;navigator.requestMediaKeySystemAccess&&(q=function(d,g){return a.i(c.b)(navigator.requestMediaKeySystemAccess(d,
g))});var p=function(){};if(!q&&g.e.prototype.webkitGenerateKeyRequest){var u=function(c,d){var g=this;l.a.call(this);this.sessionId="";this._vid=c;this._key=d;this._con=a.i(h.merge)(n.i(c),n.g(c),n.h(c)).subscribe(function(a){return g.trigger(a.type,a)})};u.prototype=b()({generateRequest:function(a,c){this._vid.webkitGenerateKeyRequest(this._key,c)},update:k(function(c,d){if(0<=this._key.indexOf("clearkey")){var g=JSON.parse(a.i(f.a)(c)),b=a.i(f.b)(atob(g.keys[0].k)),g=a.i(f.b)(atob(g.keys[0].kid));
this._vid.webkitAddKey(this._key,b,g,d)}else this._vid.webkitAddKey(this._key,c,null,d);this.sessionId=d}),close:function(){this._con&&this._con.unsubscribe();this._vid=this._con=null}},l.a.prototype);p=function(a){this.ks_=a};p.prototype={_setVideo:function(a){this._vid=a},createSession:function(){return new u(this._vid,this.ks_)}};var w=function(a){var c=document.querySelector("video")||document.createElement("video");return c&&c.canPlayType?!!c.canPlayType("video/mp4",a):!1},q=function(a,c){if(!w(a))return m.Observable["throw"]();
for(var d=0;d<c.length;d++){var g=c[d],f=g.videoCapabilities,b=g.audioCapabilities,l=g.initDataTypes,n=g.sessionTypes,h=g.distinctiveIdentifier,g=g.persistentState,e=!0;if(e=(e=(e=(e=e&&(!l||!!l.filter(function(a){return"cenc"===a})[0]))&&(!n||n.filter(function(a){return"temporary"===a}).length===n.length))&&"required"!==h)&&"required"!==g)return d={videoCapabilities:f,audioCapabilities:b,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]},
m.Observable.of(new r.a(a,new p(a),d))}return m.Observable["throw"]()}}else if(g.f&&!q){var t=function(a){l.a.call(this);this.sessionId="";this._mk=a};t.prototype=b()({generateRequest:function(c,d){var g=this;this._ss=this._mk.memCreateSession("video/mp4",d);this._con=a.i(h.merge)(n.i(this._ss),n.g(this._ss),n.h(this._ss)).subscribe(function(a){return g.trigger(a.type,a)})},update:k(function(c,g){a.i(d.a)(this._ss);this._ss.update(c,g);this.sessionId=g},function(){return this._ss}),close:function(){this._ss&&
(this._ss.close(),this._ss=null);this._con&&(this._con.unsubscribe(),this._con=null)}},l.a.prototype);g.f.prototype.alwaysRenew=!0;g.f.prototype.memCreateSession=g.f.prototype.createSession;g.f.prototype.createSession=function(){return new t(this)};q=function(a,c){if(!g.f.isTypeSupported(a))return m.Observable["throw"]();for(var d=0;d<c.length;d++){var f=c[d],b=f.videoCapabilities,n=f.audioCapabilities,l=f.initDataTypes,f=f.distinctiveIdentifier,h=!0;if(h=(h=h&&(!l||!!l.filter(function(a){return"cenc"===
a})[0]))&&"required"!==f)return d={videoCapabilities:b,audioCapabilities:n,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},m.Observable.of(new r.a(a,new g.f(a),d))}return m.Observable["throw"]()}}},function(b,e,a){var k=a(0);a.n(k);var m=function(){function a(a,f){for(var d=0;d<f.length;d++){var c=f[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}
return function(b,f,d){f&&a(b.prototype,f);d&&a(b,d);return b}}();b=function(){function a(b,f,d){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._keyType=b;this._mediaKeys=f;this._configuration=d}a.prototype.createMediaKeys=function(){return k.Observable.of(this._mediaKeys)};a.prototype.getConfiguration=function(){return this._configuration};m(a,[{key:"keySystem",get:function(){return this._keyType}}]);return a}();e.a=b},function(b,e,a){b=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this._alpha=Math.exp(Math.log(.5)/b);this._totalWeight=this._lastEstimate=0}a.prototype.addSample=function(a,b){var l=Math.pow(this._alpha,a),l=b*(1-l)+l*this._lastEstimate;isNaN(l)||(this._lastEstimate=l,this._totalWeight+=a)};a.prototype.getEstimate=function(){return this._lastEstimate/(1-Math.pow(this._alpha,this._totalWeight))};return a}();e.a=b},function(b,e,a){function k(b,h,e){function m(c){return a.i(d.b)(c.createMediaKeys())}function k(c,
d){var h=d.keySystem,k=d.keySystemAccess;h.persistentLicense&&g.a.setStorage(h.licenseStorage);f.a.info("eme: encrypted event",c);return m(k).mergeMap(function(d){var g=h.serverCertificate,g=g&&"function"===typeof d.setServerCertificate?a.i(n.a)(d,g,e):l.Observable.empty(),f=k.getConfiguration();return g.concat(l.Observable.merge(a.i(r.a)(d,f,b,h,u),a.i(q.a)(d,f,h,c.initDataType,new Uint8Array(c.initData),e)))})}return l.Observable.combineLatest(a.i(c.d)(b),a.i(p.a)(h,u)).take(1).mergeMap(function(a){return k(a[0],
a[1])})}function m(){a.i(r.b)(u.$videoElement).subscribe(function(){});u.$mediaKeys=null;u.$keySystem=null;u.$videoElement=null;u.$mediaKeySystemConfiguration=null;g.b.dispose()}function h(){return a.i(p.b)(u)}a.d(e,"c",function(){return k});a.d(e,"b",function(){return h});a.d(e,"a",function(){return m});var l=a(0);a.n(l);var f=a(1),d=a(5);a(2);var c=a(17),g=a(35),n=a(107),r=a(112),q=a(108),p=a(106);a.d(e,"d",function(){return c.d});var u={$mediaKeys:null,$mediaKeySystemConfiguration:null,$keySystem:null,
$videoElement:null}},function(b,e,a){b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._entries=[]}a.prototype.find=function(a){for(var b=0;b<this._entries.length;b++)if(!0===a(this._entries[b]))return this._entries[b];return null};return a}();e.a=b},function(b,e,a){e.a=function(a){if("number"==typeof a)return a;for(var b=0,h,l=0;l<a.length;l++)h=a[l],b=(b<<5)-b+h,b&=b;return b}},function(b,e,a){function k(a,c){if("function"!==typeof c&&
null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}a.d(e,"a",function(){return f});b=a(27);var m=a(2),h=a(5),l=a(125),f=function(d){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var g;g=d.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
g=!g||"object"!==typeof g&&"function"!==typeof g?this:g;g.codec=a;g.updating=!1;g.readyState="opened";g.buffered=new l.a;return g}k(c,d);c.prototype.appendBuffer=function(a){var c=this;this._lock(function(){return c._append(a)})};c.prototype.remove=function(a,c){var d=this;this._lock(function(){return d._remove(a,c)})};c.prototype.abort=function(){this.remove(0,Infinity);this.updating=!1;this.readyState="closed";this._abort()};c.prototype._append=function(){};c.prototype._remove=function(){};c.prototype._abort=
function(){};c.prototype._lock=function(c){var d=this;a.i(m.a)(!this.updating,"updating");this.updating=!0;this.trigger("updatestart");a.i(h.c)(function(){return a.i(h.b)(c())}).subscribe(function(){return setTimeout(function(){return d._unlock("update")},0)},function(a){return setTimeout(function(){return d._unlock("error",a)},0)})};c.prototype._unlock=function(a,c){this.updating=!1;this.trigger(a,c);this.trigger("updateend")};return c}(b.a)},function(b,e,a){function k(b){var l=0,f=b.length,d=a.i(m.a)(b.subarray(l,
l+8)),l=l+8,c=b[l],l=l+1,g=b[l],l=l+1,n=b[l],l=l+1,h=b[l],l=l+1,c=[c,g,n,h].join("."),g=b[l]+a.i(m.c)(b,l+1),l=l+4,n=a.i(m.c)(b,l),l=l+4,h=a.i(m.a)(b.subarray(l,l+4)),l=l+4,e=a.i(m.d)(b,l),l=l+2,k=a.i(m.d)(b,l),l=l+2,u=[b[l],b[l+1]].join(":"),w=1===b[l+2],l=64,t=[],v=void 0,x=0;if(!g)throw Error("bif: no images to parse");for(;l<f;){var y=a.i(m.c)(b,l),l=l+4,z=a.i(m.c)(b,l),l=l+4;if(v){var C=v.index,A=n,D=x,v=b.subarray(v.offset,z);t.push({index:C,duration:A,ts:D,data:v});x+=n}if(4294967295===y)break;
v={index:y,offset:z}}return{fileFormat:d,version:c,imageCount:g,timescale:n,format:h,width:e,height:k,aspectRatio:u,isVod:w,thumbs:t}}a.d(e,"a",function(){return k});var m=a(12)},function(b,e,a){function k(a,c,d){a="string"==typeof a?(new DOMParser).parseFromString(a,"text/xml"):a;if(!(a instanceof window.Document||a instanceof window.HTMLElement))throw Error("ttml needs a Document to parse");a=a.querySelector("tt");if(!a)throw Error("ttml could not find <tt> tag");a=m(a.querySelector("body"),0);
for(c=0;c<a.length;c++){var g=a[c];g.start+=d;g.end+=d}return a}function m(a,c){var d=0;a=a.firstChild;for(var g=[],b;a;){if(1===a.nodeType)switch(a.tagName.toUpperCase()){case "P":b=a;var n=c,e=d,d=h(b.getAttribute("begin"),n),k=h(b.getAttribute("end"),n),r=h(b.getAttribute("dur"),0);if("number"==!("undefined"===typeof d||l(d))&&"number"==!("undefined"===typeof k||l(k))&&"number"==!("undefined"===typeof r||l(r)))throw Error("ttml unsupported timestamp format");0<r?(null==d&&(d=e||n),null==k&&(k=
d+r)):null==k&&(k=h(b.getAttribute("duration"),0),k=0<=k?k+d:Number.MAX_VALUE);n=b.innerHTML;null==n&&(n=(new XMLSerializer).serializeToString(b),n=(new DOMParser).parseFromString(n,"text/html").body.firstChild.innerHTML);n=window.escape(n.replace(f,"\r\n"));n=n.replace(/%C3%26nbsp%3B/gm,"%C3%A0");b={id:b.getAttribute("xml:id")||b.getAttribute("id"),text:decodeURIComponent(n),start:d,end:k};d=b.end;g.push(b);break;case "DIV":b=h(a.getAttribute("begin"),0),null==b&&(b=c),g.push.apply(g,m(a,b))}a=a.nextSibling}return g}
function h(a,b){if(!a)return null;var f;if(f=a.match(d)){var l=f[3],n=f[4],h=f[6];return 3600*parseInt(f[2]||0,10)+60*parseInt(l,10)+parseInt(n,10)+parseFloat("0."+h)}return(f=a.match(c))?(l=f[4],parseFloat(f[1])*g[l]+b):null}a.d(e,"a",function(){return k});var l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=/<br.*?>/gm,d=/^(([0-9]+):)?([0-9]+):([0-9]+)(\.([0-9]+))?$/,
c=/(([0-9]+)(\.[0-9]+)?)(ms|h|m|s)/,g={h:3600,m:60,s:1,ms:.001}},function(b,e,a){function k(a){if("timeline"===a.indexType){var c=a.timeline[a.timeline.length-1],d=c.d;return(c.ts+(c.r+1)*d)/a.timescale-Math.min(Math.max(d/a.timescale,5),10)}return Date.now()/1E3-5}function m(a){return a}function h(a){return"true"==a}function l(a){return"true"==a?!0:"false"==a?!1:parseInt(a)}function f(a){return new Date(Date.parse(a))}function d(c){if(!c)return 0;var d=v.exec(c);a.i(t.a)(d,c+" is not a valid ISO8601 duration");
return 31536E3*parseFloat(d[2]||0)+2592E3*parseFloat(d[4]||0)+86400*parseFloat(d[6]||0)+3600*parseFloat(d[8]||0)+60*parseFloat(d[10]||0)+parseFloat(d[12]||0)}function c(a){var c=y.exec(a);if(!c)return-1;a=parseInt(c[1])||0;c=parseInt(c[2])||0;return 0<c?a/c:a}function g(a){return a}function n(a){return(a=x.exec(a))?[+a[1],+a[2]]:null}function r(a,c,d){for(a=a.firstElementChild;a;)d=c(d,a.nodeName,a),a=a.nextElementSibling;return d}function q(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===
a.schemeIdUri&&1===a.value:!1}function p(c){var d=c.mimeType,d=void 0===d?"":d,g=d.split("/")[0];if(a.i(w.a)(z,g))return g;if("application/bif"===d)return"image";if("application/ttml+xml"===d)return"text";if("application/mp4"===d)return(c=c.role)&&"urn:mpeg:dash:role:2011"===c.schemeIdUri&&"subtitle"===c.value?"text":"metadata";c=c.representations;c=void 0===c?[]:c;return c.length&&(c=c[0].mimeType.split("/")[0],a.i(w.a)(z,c))?c:"unknown"}function u(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===
a.schemeIdUri&&2===a.value:!1}a.d(e,"g",function(){return m});a.d(e,"h",function(){return c});a.d(e,"f",function(){return n});a.d(e,"i",function(){return h});a.d(e,"m",function(){return f});a.d(e,"j",function(){return d});a.d(e,"l",function(){return l});a.d(e,"k",function(){return g});a.d(e,"a",function(){return r});a.d(e,"b",function(){return C});a.d(e,"d",function(){return u});a.d(e,"e",function(){return q});a.d(e,"c",function(){return p});var w=a(18),t=a(2),v=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,
x=/([0-9]+)-([0-9]+)/,y=/([0-9]+)(\/([0-9]+))?/,z=["audio","video","text","image"],C=function(a){if(a){var c=a.representations||[],d=c.filter(function(a){return a&&a.index});if(!c.length)return k(a.index);var g=Math.min.apply(Math,d.map(function(a){return k(a.index)}));if(!isNaN(g)){if(c.length===d.length)return g;if(a.index)return a=k(a.index),Math.min(g,a)}}}},function(b,e,a){function k(a){var b=a.value;return"response"===a.type?{type:"response",value:{responseData:b.responseData,size:b.size,duration:b.receivedTime-
b.sentTime,url:b.url}}:{type:"progress",value:{size:b.loadedSize,totalSize:b.totalSize,duration:b.currentTime-b.sentTime,url:b.url}}}var m=a(40);e.a=function(b){return a.i(m.a)(b).map(k)}},function(b,e,a){function k(a){return function(d,c,g){d=g?parseInt(g,10):1;c=""+a;c=c.toString();d=c.length>=d?c:(Array(d+1).join("0")+c).slice(-d);return d}}function m(a,d,c){return-1===a.indexOf("$")?a:a.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,c.id).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,k(c.bitrate)).replace(/\$Number(|\%0(\d+)d)\$/g,
k(d.number)).replace(/\$Time(|\%0(\d+)d)\$/g,k(d.time))}function h(a){return"application/mp4"===a.mimeType}function l(a){var d=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +d+"-"+ +a:"bytes="+ +d+"-"}a.d(e,"b",function(){return m});a.d(e,"a",function(){return h});a.d(e,"c",function(){return l})},function(b,e,a){function k(a){var b=a.value;return"response"===a.type?{type:"response",value:{responseData:b.responseData,size:b.size,duration:b.receivedTime-b.sentTime,url:b.url}}:{type:"progress",value:{size:b.loadedSize,
totalSize:b.totalSize,duration:b.currentTime-b.sentTime,url:b.url}}}var m=a(40);e.a=function(b){return a.i(m.a)(b).map(k)}},function(b,e,a){function k(a){var c=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +c+"-"+ +a:"bytes="+ +c+"-"}function m(a){return a.responseData.getElementsByTagName("media")[0].getAttribute("src")}function h(a){return(a=a.match(g))&&a[1]||""}function l(a,c){return c?a.replace(g,"?token="+c):a.replace(g,"")}function f(a){var d=a.match(c);return d?a.replace(d[1],d[1]+"/manifest"):
a}function d(a,c,d){return a.replace(/\{bitrate\}/g,c.bitrate).replace(/\{start time\}/g,d.time)}a.d(e,"f",function(){return k});a.d(e,"c",function(){return m});a.d(e,"a",function(){return h});a.d(e,"b",function(){return l});a.d(e,"d",function(){return f});a.d(e,"e",function(){return d});var c=/\.(isml?)(\?token=\S+)?$/,g=/\?token=(\S+)/},function(b,e,a){function k(a){return a*(1+(2*Math.random()-1)*h)}function m(a){return k(a*Math.pow(2,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)-
1))}a.d(e,"b",function(){return k});a.d(e,"a",function(){return m});var h=.3},function(b,e,a){function k(a,c){var d=0;return function(){d&&clearTimeout(d);d=setTimeout(a,c)}}function m(d,c){var g=c.retryDelay,b=c.totalRetry,h=c.shouldRetry,e=c.resetDelay,m=c.errorSelector,u=c.onRetry,w=0,t=void 0;0<e&&(t=k(function(){return w=0},e));return d["catch"](function(c,d){if(h&&!h(c)||w++>=b){if(m)throw m(c,w);throw c;}u&&u(c,w);var n=a.i(l.a)(g,w);return f(n).mergeMap(function(){t&&t();return d})})}function h(d,
c){var g=c.retryDelay,b=c.totalRetry,h=c.shouldRetry,e=c.resetDelay,m=c.errorSelector,u=c.onRetry,w=0,t=void 0;0<e&&(t=k(function(){return w=0},e));return function x(){for(var c=arguments.length,n=Array(c),e=0;e<c;e++)n[e]=arguments[e];return d.apply(void 0,n)["catch"](function(c){if(h&&!h(c)||w++>=b){if(m)throw m(c,w);throw c;}u&&u(c,w);c=a.i(l.a)(g,w);return f(c).mergeMap(function(){t&&t();return x.apply(void 0,n)})})}}a.d(e,"a",function(){return m});a.d(e,"b",function(){return h});var l=a(64);
b=a(70);a.n(b);var f=b.TimerObservable.create},function(b,e,a){e.empty={closed:!0,next:function(a){},error:function(a){throw a;},complete:function(){}}},function(b,e,a){var k=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)};b=a(0);var m=a(48),h=a(47),l=a(32),f=a(14),d=Object.prototype.toString;a=function(a){function c(c,d,g,b){a.call(this);this.sourceObj=c;this.eventName=
d;this.selector=g;this.options=b}k(c,a);c.create=function(a,d,g,b){h.isFunction(g)&&(b=g,g=void 0);return new c(a,d,b,g)};c.setupSubscription=function(a,g,b,l,h){var n;if(a&&"[object NodeList]"===d.call(a)||a&&"[object HTMLCollection]"===d.call(a))for(var e=0,m=a.length;e<m;e++)c.setupSubscription(a[e],g,b,l,h);else if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener)a.addEventListener(g,b,h),n=function(){return a.removeEventListener(g,b)};else if(a&&"function"===
typeof a.on&&"function"===typeof a.off)a.on(g,b),n=function(){return a.off(g,b)};else if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)a.addListener(g,b),n=function(){return a.removeListener(g,b)};else throw new TypeError("Invalid event target");l.add(new f.Subscription(n))};c.prototype._subscribe=function(a){var d=this.selector;c.setupSubscription(this.sourceObj,this.eventName,d?function(){for(var c=[],g=0;g<arguments.length;g++)c[g-0]=arguments[g];c=m.tryCatch(d).apply(void 0,
c);c===l.errorObject?a.error(l.errorObject.e):a.next(c)}:function(c){return a.next(c)},a,this.options)};return c}(b.Observable);e.FromEventObservable=a},function(b,e,a){var k=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=a(0);var m=a(82);a=function(a){function b(){a.call(this)}k(b,a);b.create=function(){return new b};b.prototype._subscribe=function(a){m.noop()};
return b}(b.Observable);e.NeverObservable=a},function(b,e,a){function k(a){var d=a.value;a=a.subscriber;a.closed||(a.next(d),a.complete())}function m(a){var d=a.err;a=a.subscriber;a.closed||a.error(d)}var h=this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)},l=a(11);b=function(a){function d(c,d){a.call(this);this.promise=c;this.scheduler=d}h(d,a);d.create=function(a,
g){return new d(a,g)};d.prototype._subscribe=function(a){var c=this,d=this.promise,b=this.scheduler;if(null==b)this._isScalar?a.closed||(a.next(this.value),a.complete()):d.then(function(d){c.value=d;c._isScalar=!0;a.closed||(a.next(d),a.complete())},function(c){a.closed||a.error(c)}).then(null,function(a){l.root.setTimeout(function(){throw a;})});else if(this._isScalar){if(!a.closed)return b.schedule(k,0,{value:this.value,subscriber:a})}else d.then(function(d){c.value=d;c._isScalar=!0;a.closed||a.add(b.schedule(k,
0,{value:d,subscriber:a}))},function(c){a.closed||a.add(b.schedule(m,0,{err:c,subscriber:a}))}).then(null,function(a){l.root.setTimeout(function(){throw a;})})};return d}(a(0).Observable);e.PromiseObservable=b},function(b,e,a){var k=this&&this.__extends||function(a,c){function d(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)},m=a(79);b=a(0);var h=a(31),l=a(20),f=a(78);a=function(a){function c(c,d,b){void 0===
c&&(c=0);a.call(this);this.period=-1;this.dueTime=0;m.isNumeric(d)?this.period=1>Number(d)&&1||Number(d):l.isScheduler(d)&&(b=d);l.isScheduler(b)||(b=h.async);this.scheduler=b;this.dueTime=f.isDate(c)?+c-this.scheduler.now():c}k(c,a);c.create=function(a,d,b){void 0===a&&(a=0);return new c(a,d,b)};c.dispatch=function(a){var c=a.index,d=a.period,g=a.subscriber;g.next(c);if(!g.closed){if(-1===d)return g.complete();a.index=c+1;this.schedule(a,d)}};c.prototype._subscribe=function(a){return this.scheduler.schedule(c.dispatch,
this.dueTime,{index:0,period:this.period,subscriber:a})};return c}(b.Observable);e.TimerObservable=a},function(b,e,a){var k=a(20),m=a(24),h=a(15),l=a(213);e.combineLatest=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];var c=d=null;k.isScheduler(a[a.length-1])&&(c=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&m.isArray(a[0])&&(a=a[0]);return(new h.ArrayObservable(a,c)).lift(new l.CombineLatestOperator(d))}},function(b,e,a){function k(){for(var a=[],c=
0;c<arguments.length;c++)a[c-0]=arguments[c];c=null;h.isScheduler(a[a.length-1])&&(c=a.pop());return null===c&&1===a.length&&a[0]instanceof m.Observable?a[0]:(new l.ArrayObservable(a,c)).lift(new f.MergeAllOperator(1))}var m=a(0),h=a(20),l=a(15),f=a(42);e.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return this.lift.call(k.apply(void 0,[this].concat(a)))};e.concatStatic=k},function(b,e,a){function k(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];var c=
Number.POSITIVE_INFINITY,g=null,b=a[a.length-1];f.isScheduler(b)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(c=a.pop())):"number"===typeof b&&(c=a.pop());return null===g&&1===a.length&&a[0]instanceof m.Observable?a[0]:(new h.ArrayObservable(a,g)).lift(new l.MergeAllOperator(c))}var m=a(0),h=a(15),l=a(42),f=a(20);e.merge=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return this.lift.call(k.apply(void 0,[this].concat(a)))};e.mergeStatic=k},function(b,e,a){var k=
this&&this.__extends||function(a,d){function c(){this.constructor=a}for(var g in d)d.hasOwnProperty(g)&&(a[g]=d[g]);a.prototype=null===d?Object.create(d):(c.prototype=d.prototype,new c)},m=a(16);b=a(13);e.mergeMap=function(a,d,c){void 0===c&&(c=Number.POSITIVE_INFINITY);"number"===typeof d&&(c=d,d=null);return this.lift(new h(a,d,c))};var h=function(){function a(a,c,g){void 0===g&&(g=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=c;this.concurrent=g}a.prototype.call=function(a,c){return c.subscribe(new l(a,
this.project,this.resultSelector,this.concurrent))};return a}();e.MergeMapOperator=h;var l=function(a){function d(c,d,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);a.call(this,c);this.project=d;this.resultSelector=b;this.concurrent=f;this.hasCompleted=!1;this.buffer=[];this.index=this.active=0}k(d,a);d.prototype._next=function(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)};d.prototype._tryNext=function(a){var c,d=this.index++;try{c=this.project(a,d)}catch(r){this.destination.error(r);
return}this.active++;this._innerSub(c,a,d)};d.prototype._innerSub=function(a,d,b){this.add(m.subscribeToResult(this,a,d,b))};d.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};d.prototype.notifyNext=function(a,d,b,f,l){this.resultSelector?this._notifyResultSelector(a,d,b,f):this.destination.next(d)};d.prototype._notifyResultSelector=function(a,d,b,f){var c;try{c=this.resultSelector(a,d,b,f)}catch(p){this.destination.error(p);
return}this.destination.next(c)};d.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);this.active--;0<c.length?this._next(c.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return d}(b.OuterSubscriber);e.MergeMapSubscriber=l},function(b,e,a){var k=this&&this.__extends||function(a,b){function l(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)};b=function(a){function b(){var b=
a.call(this,"object unsubscribed");this.name=b.name="ObjectUnsubscribedError";this.stack=b.stack;this.message=b.message}k(b,a);return b}(Error);e.ObjectUnsubscribedError=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function l(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(l.prototype=b.prototype,new l)};b=function(a){function b(){var b=a.call(this,"Timeout has occurred");this.name=b.name="TimeoutError";this.stack=b.stack;
this.message=b.message}k(b,a);return b}(Error);e.TimeoutError=b},function(b,e,a){e.isArrayLike=function(a){return a&&"number"===typeof a.length}},function(b,e,a){e.isDate=function(a){return a instanceof Date&&!isNaN(+a)}},function(b,e,a){var k=a(24);e.isNumeric=function(a){return!k.isArray(a)&&0<=a-parseFloat(a)+1}},function(b,e,a){e.isObject=function(a){return null!=a&&"object"===typeof a}},function(b,e,a){e.isPromise=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then}},
function(b,e,a){e.noop=function(){}},function(b,e,a){Object.defineProperty(e,"__esModule",{value:!0});b=a(164);a.n(b);b=a(165);a.n(b);b=a(167);a.n(b);b=a(166);a.n(b);b=a(168);a.n(b);b=a(169);a.n(b);b=a(170);a.n(b);b=a(172);a.n(b);b=a(171);a.n(b);b=a(173);a.n(b);b=a(174);a.n(b);b=a(175);a.n(b);b=a(176);a.n(b);b=a(177);a.n(b);b=a(178);a.n(b);b=a(179);a.n(b);b=a(180);a.n(b);b=a(181);a.n(b);b=a(182);a.n(b);b=a(183);a.n(b);b=a(184);a.n(b);b=a(185);a.n(b);b=a(186);a.n(b);b=a(187);a.n(b);b=a(188);a.n(b);
b=a(189);a.n(b);b=a(190);a.n(b);b=a(191);a.n(b);b=a(192);a.n(b);b=a(193);a.n(b);b=a(194);a.n(b);b=a(195);a.n(b);b=a(196);a.n(b);b=a(197);a.n(b);a(1);a=a(94);e["default"]=a.a},function(b,e,a){var k=a(50),m=a(85),h=a(51);a.d(e,"b",function(){return k.a});a.d(e,"c",function(){return m.a});a.d(e,"a",function(){return h.a})},function(b,e,a){function k(a,d){if(d instanceof l.b)return d._setVideo(a);if(a.setMediaKeys)return a.setMediaKeys(d);if(null!==d){if(a.WebkitSetMediaKeys)return a.WebkitSetMediaKeys(d);
if(a.mozSetMediaKeys)return a.mozSetMediaKeys(d);if(a.msSetMediaKeys)return a.msSetMediaKeys(d)}}var m=a(0);a.n(m);var h=a(5),l=a(50);e.a=function(b,d){return m.Observable.defer(function(){return a.i(h.b)(k(b,d))})}},function(b,e,a){function k(a){h()||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}function m(){h()&&(document.exitFullscreen?
document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function h(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}a.d(e,"c",function(){return k});a.d(e,"a",function(){return m});a.d(e,"b",function(){return h})},function(b,e,a){var k=a(52);b=a(4);var m=b.a.ABR_MINIMUM_TOTAL_BYTES,
h=b.a.ABR_MINIMUM_CHUNK_SIZE;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._fast=new k.a(2);this._slow=new k.a(7);this._bytesSampled=0}a.prototype.addSample=function(a,d){if(!(d<h)){var c=8E3*d/a,b=a/1E3;this._bytesSampled+=d;this._fast.addSample(b,c);this._slow.addSample(b,c)}};a.prototype.getEstimate=function(){if(!(this._bytesSampled<m))return Math.min(this._fast.getEstimate(),this._slow.getEstimate())};a.prototype.reset=function(){this._fast=
new k.a(2);this._slow=new k.a(5);this._bytesSampled=0};return a}();e.a=b},function(b,e,a){b=a(49);var k=a.n(b);e.a=function(a,b){var l=k()(a,function(a){return a.bitrate>b});return-1===l?a:a.slice(0,l)}},function(b,e,a){b=a(21);var k=a.n(b);e.a=function(a,b){var l=a.sort(function(a,c){return a.width-c.width}),f=k()(l,function(a){return a.width>=b});return f?a.filter(function(a){return a.width<=f}):a}},function(b,e,a){b=a(49);var k=a.n(b);e.a=function(a,b){var l=k()(a,function(a){return a.bitrate>
b});return-1===l?a[a.length-1]:a[l-1]}},function(b,e,a){var k=a(6);a.n(k);a(18);a(2);var m=a(92),h=function(a,b){if(!a._choosers[b]){var d=a._choosers,c;c=a._chooserInstanceOptions;c=new m.a({limitWidth$:c.limitWidth[b],throttle$:c.throttle[b],initialBitrate:c.initialBitrates[b],manualBitrate:c.manualBitrates[b],maxAutoBitrate:c.maxAutoBitrates[b]});d[b]=c}};b=function(){function a(b,d){var c=this,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this._dispose$=new k.Subject;this._choosers={};this._chooserInstanceOptions={initialBitrates:g.initialBitrates||{},manualBitrates:g.manualBitrates||{},maxAutoBitrates:g.maxAutoBitrates||{},throttle:g.throttle||{},limitWidth:g.limitWidth||{}};d.takeUntil(this._dispose$).subscribe(function(a){var d=a.type;a=a.value;h(c,d);c._choosers[d].addEstimate(a.duration,a.size)});b.mergeMap(function(a){return a}).takeUntil(this._dispose$).subscribe(function(a){var d=a.type,b=a.event;a=a.value;h(c,d);switch(b){case "requestBegin":c._choosers[d].addPendingRequest(a.id,
a);break;case "requestEnd":c._choosers[d].removePendingRequest(a.id);break;case "progress":c._choosers[d].addRequestProgress(a.id,a)}})}a.prototype.get$=function(a,d){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];h(this,a);return this._choosers[a].get$(d,c)};a.prototype.setManualBitrate=function(a,d){var c=this._choosers[a];c?c.manualBitrate$.next(d):this._chooserInstanceOptions.initialBitrates[a]=d};a.prototype.setMaxAutoBitrate=function(a,d){var c=this._choosers[a];c?c.maxAutoBitrate$.next(d):
this._chooserInstanceOptions.maxAutoBitrates[a]=d};a.prototype.getManualBitrate=function(a){var d=this._choosers[a];return d?d.manualBitrate$.getValue():this._chooserInstanceOptions.manualBitrates[a]};a.prototype.getMaxAutoBitrate=function(a){var d=this._choosers[a];return d?d.maxAutoBitrate$.getValue():this._chooserInstanceOptions.maxAutoBitrates[a]};a.prototype.dispose=function(){var a=this;Object.keys(this._choosers).forEach(function(d){a._choosers[d].dispose()});this._choosers=this._chooserInstanceOptions=
null;this._dispose$.next();this._dispose$.complete()};return a}();e.a=b},function(b,e,a){b=a(9);var k=a.n(b),m=a(29);a.n(m);var h=a(6);a.n(h);var l=a(0);a.n(l);b=a(4);a(2);var f=a(87),d=a(89),c=a(88),g=a(90),n=a(52),r=b.a.ABR_STARVATION_GAP,q=function(c,d){var b=a.i(g.a)(c,d)||c[0];return l.Observable.of(b).concat(l.Observable.never())};b=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
this._dispose$=new h.Subject;this.manualBitrate$=(new m.BehaviorSubject(null!=a.manualBitrate?a.manualBitrate:-1)).takeUntil(this._dispose$);this.maxAutoBitrate$=(new m.BehaviorSubject(null!=a.maxAutoBitrate?a.maxAutoBitrate:Infinity)).takeUntil(this._dispose$);this.estimator=new f.a;this._currentRequests={};this.initialBitrate=a.initialBitrate||0;this._limitWidth$=a.limitWidth$;this._throttle$=a.throttle$}b.prototype.get$=function(b,f){var h=this;if(2>f.length)return l.Observable.of(f.length?f[0]:
null).concat(l.Observable.never()).takeUntil(this._dispose$);var e=this.initialBitrate,m=this.manualBitrate$,p=this.maxAutoBitrate$,u=[];this._limitWidth$&&u.push(this._limitWidth$.map(function(a){return{width:a}}));this._throttle$&&u.push(this._throttle$.map(function(a){return{bitrate:a}}));var w=u.length?l.Observable.combineLatest.apply(l.Observable,u).map(function(a){return k.a.apply(void 0,[{}].concat(a))}):l.Observable.of({});return m.switchMap(function(m){return 0<=m?q(f,m):l.Observable.combineLatest(b,
p,w).map(function(b){var l=b[0],m=b[1];b=b[2];var k=void 0;if(l.bufferGap<=r){var q=l.bitrate,p;a:{var v=h._currentRequests;p=l.bufferGap+l.position;for(var t=Object.keys(v),u=t.length,x=0;x<u-1;x++){var A=v[t[x]];if(Math.abs(p-A.time)<A.duration){p=A;break a}}p=void 0}if(p&&(t=p.duration,v=p.requestTimestamp,v=(Date.now()-v)/1E3,t&&v>2+1.3*t)){u=p;t=void 0;p=u.duration;if(2<=u.progress.length){t=new n.a(2);u=u.progress;for(x=1;x<u.length;x++)A=u[x].timestamp-u[x-1].timestamp,t.addSample(A/1E3,8*
(u[x].size-u[x-1].size)/(A/1E3));t=t.getEstimate()}t||(t=p*q/(5*v/4));if(v=t)h.resetEstimate(),k=Math.min(v,q,m)}}null==k&&(k=h.estimator.getEstimate(),k=Math.min(null==k?e:k,m));1<l.speed&&(k/=l.speed);l=f;b.hasOwnProperty("bitrate")&&(l=a.i(c.a)(l,b.bitrate));b.hasOwnProperty("width")&&(l=a.i(d.a)(l,b.width));return a.i(g.a)(l,k)||f[0]})["do"](function(a){a&&(e=a.bitrate)})}).distinctUntilChanged(function(a,c){return(a&&a.bitrate)===(c&&c.bitrate)&&(a&&a.id)===(c&&c.id)})};b.prototype.addEstimate=
function(a,c){null!=a&&null!=c&&this.estimator.addSample(a,c)};b.prototype.resetEstimate=function(){this.estimator.reset()};b.prototype.addPendingRequest=function(a,c){this._currentRequests[a]=c;this._currentRequests[a].progress=[]};b.prototype.addRequestProgress=function(a,c){this._currentRequests[a].progress.push(c)};b.prototype.removePendingRequest=function(a){delete this._currentRequests[a]};b.prototype.resetRequests=function(){this._currentRequests={}};b.prototype.dispose=function(){this._dispose$.next()};
return b}();e.a=b},function(b,e,a){function k(c,d){var b=c.currentTime,g=c.paused,f=c.playbackRate,h=c.readyState,e=c.buffered;return{currentTime:b,buffered:e,duration:c.duration,bufferGap:a.i(l.a)(e,b),state:d,playbackRate:f,currentRange:a.i(l.i)(e,b),readyState:h,paused:g}}var m=a(0);a.n(m);var h=a(29);a.n(h);b=a(4);var l=a(10),f=b.a.SAMPLING_INTERVAL_MEDIASOURCE,d=b.a.SAMPLING_INTERVAL_NO_MEDIASOURCE,c=b.a.RESUME_AFTER_SEEKING_GAP,g=b.a.RESUME_AFTER_BUFFERING_GAP,n=b.a.STALL_GAP,r="canplay play progress seeking seeked loadedmetadata".split(" ");
e.a=function(a,b){var l=b.withMediaSource;return m.Observable.create(function(b){function h(d){d=k(a,d&&d.type||"timeupdate");var f;f=d.state;var h=d.currentTime,m=d.bufferGap,r=d.paused,q=d.readyState,p=e.stalled,t=e.state,v=e.currentTime,u;u=(u=d.currentRange)&&d.duration-(m+u.end)<=n;var x=1<=q&&"loadedmetadata"!=f&&!p&&!u,w=void 0,y=void 0;l?x&&(m<=n||Infinity===m||1===q)?w=!0:p&&1<q&&Infinity>m&&(m>("seeking"==p.state?c:g)||u)&&(y=!0):x&&(!r&&"timeupdate"==f&&"timeupdate"==t&&h===v||"seeking"==
f&&Infinity===m)?w=!0:p&&("seeking"!=f&&h!==v||"canplay"==f||Infinity>m&&(m>("seeking"==p.state?c:g)||u))&&(y=!0);f=w?{state:f,timestamp:Date.now()}:y?null:p;d.stalled=f;e=d;b.next(e)}var e=k(a,"init");e.stalled=null;var m=setInterval(h,l?f:d);r.forEach(function(c){return a.addEventListener(c,h)});b.next(e);return function(){clearInterval(m);r.forEach(function(c){return a.removeEventListener(c,h)})}}).multicast(function(){return new h.BehaviorSubject({})}).refCount()}},function(b,e,a){function k(a,
c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function m(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function h(a,c){return a.filter(function(a){return a.type==
c}).map(function(a){return a.value})}var l=a(6);a.n(l);var f=a(29);a.n(f);var d=a(71);a.n(d);b=a(4);var c=a(1),g=a(5),n=a(27),r=a(2),q=a(10),p=a(8),u=a(17),w=a(139),t=a(26),v=a(7),x=a(118),y=a(53),z=a(34),C=a(93),A=a(98),D=a(95),H=a(97),B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},I=function(){function a(a,c){for(var d=0;d<c.length;d++){var b=
c[d];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,d,b){d&&a(c.prototype,d);b&&a(c,b);return c}}(),E=b.a.DEFAULT_UNMUTED_VOLUME;b=function(b){function e(d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var g=k(this,b.call(this)),h=a.i(H.a)(d);d=h.defaultAudioTrack;var n=h.defaultTextTrack,m=h.initialAudioBitrate,q=h.initialVideoBitrate,t=h.limitVideoWidth,v=h.maxAudioBitrate,x=h.maxBufferAhead,
D=h.maxBufferBehind,w=h.maxVideoBitrate,C=h.throttleWhenHidden,y=h.transport,S=h.transportOptions,B=h.videoElement,h=h.wantedBufferAhead;a.i(r.a)(B instanceof p.a,"videoElement needs to be an HTMLVideoElement");B.preload="auto";g.version="3.0.0-alpha1";g.log=c.a;g.state=void 0;g.defaultTransport=y;g.defaultTransportOptions=S;g.videoElement=B;g._priv=a.i(A.a)(g);g._priv.destroy$=new l.Subject;g._priv.fullScreenSubscription=a.i(u.a)(B).takeUntil(g._priv.destroy$).subscribe(function(){return g.trigger("fullscreenChange",
g.isFullscreen())});g._priv.errorStream$=(new l.Subject).takeUntil(g._priv.destroy$);g._priv.playing$=new f.BehaviorSubject;g._priv.speed$=new f.BehaviorSubject(B.playbackRate);g._priv.clearLoadedContent$=(new l.Subject).takeUntil(g._priv.destroy$);g._priv.imageTrack$=(new l.Subject).takeUntil(g._priv.destroy$);g._priv.wantedBufferAhead$=new f.BehaviorSubject(h);g._priv.maxBufferAhead$=new f.BehaviorSubject(x);g._priv.maxBufferBehind$=new f.BehaviorSubject(D);g._priv.lastAudioTrack=d;g._priv.lastTextTrack=
n;g._priv.lastBitrates={audio:m,video:q};g._priv.initialMaxAutoBitrates={audio:v,video:w};g._priv.manualBitrates={audio:-1,video:-1};g._priv.throttleWhenHidden=C;g._priv.limitVideoWidth=t;g._priv.mutedMemory=E;"abrManager currentAdaptations currentImagePlaylist currentRepresentations fatalError initialAudioTrack initialTextTrack languageManager manifest recordedEvents timeFragment".split(" ").forEach(function(a){g._priv[a]=void 0});g._priv.resetContentState();g._priv.setPlayerState(z.a.STOPPED);return g}
m(e,b);I(e,null,[{key:"ErrorTypes",get:function(){return v.a}},{key:"ErrorCodes",get:function(){return v.b}}]);e.prototype.stop=function(){this.state!==z.a.STOPPED&&(this._priv.resetContentState(),this._priv.clearLoadedContent$.next(),this._priv.setPlayerState(z.a.STOPPED))};e.prototype.dispose=function(){this.stop();a.i(y.a)();var c=this._priv;c.destroy$.next();c.destroy$.complete();c.playing$.complete();c.speed$.complete();c.wantedBufferAhead$.complete();c.maxBufferAhead$.complete();c.maxBufferBehind$.complete();
c.playing$=null;c.speed$=null;c.wantedBufferAhead$=null;c.maxBufferAhead$=null;c.maxBufferBehind$=null;c.clearLoadedContent$=null;c.imageTrack$=null;c.fullScreenSubscription=null;c.errorStream$=null;c.lastBitrates=null;c.manualBitrates=null;this.videoElement=c.initialMaxAutoBitrates=null};e.prototype.loadVideo=function(){var b=this,f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},f=a.i(H.b)(f,this);c.a.info("loadvideo",f);var e=f,l=e.autoPlay,f=e.defaultAudioTrack,n=e.defaultTextTrack,
m=e.hideNativeSubtitle,k=e.keySystems,q=e.startAt,p=e.supplementaryImageTracks,t=e.supplementaryTextTracks,v=e.timeFragment,A=e.transport,y=e.transportOptions,e=e.url;a.i(r.a)(e,"you have to give an url");a.i(r.a)(A,"you have to set the transport type");var B=w.a[A];a.i(r.a)(B,'transport "'+A+'" not supported');B=B(y);this.stop();this._priv.timeFragment=v;this._priv.initialAudioTrack=f;this._priv.initialTextTrack=n;this._priv.playing$.next(l);var y=this.videoElement,E=this._priv,f=E.errorStream$,
n=E.clearLoadedContent$,J=E.wantedBufferAhead$,I=E.maxBufferAhead$,E=E.maxBufferBehind$,G=!A.directFile,A=a.i(C.a)(y,{withMediaSource:G}),Q={initialBitrates:this._priv.lastBitrates,manualBitrates:this._priv.manualBitrates,maxAutoBitrates:this._priv.initialMaxAutoBitrates,throttle:this._priv.throttleWhenHidden&&{video:a.i(u.b)().map(function(a){return a?0:Infinity}).takeUntil(n)},limitWidth:this._priv.limitVideoWidth&&{video:a.i(u.c)(y).takeUntil(n)}},J={wantedBufferAhead$:J,maxBufferAhead$:I,maxBufferBehind$:E},
l=a.i(x.a)({adaptiveOptions:Q,autoPlay:l,bufferOptions:J,errorStream:f,hideNativeSubtitle:m,keySystems:k,speed$:this._priv.speed$,startAt:q,timeFragment:v,timings$:A,transport:B,url:e,videoElement:y,withMediaSource:G,supplementaryImageTracks:p,supplementaryTextTracks:t}).takeUntil(n).publish(),m=h(l,"stalled").startWith(null),m=h(l,"loaded").take(1).share().mapTo(z.a.LOADED).concat(a.i(d.combineLatest)(this._priv.playing$,m,D.a)).distinctUntilChanged().startWith(z.a.LOADING),k=a.i(g.a)(y,["play",
"pause"]),q=a.i(g.a)(y.textTracks,["addtrack"]),K=void 0;n.take(1).subscribe(function(){K&&K.unsubscribe()});p=function(){};k.takeUntil(n).subscribe(function(a){return b._priv.onPlayPauseNext(a)},p);q.takeUntil(n).subscribe(function(a){return b._priv.onNativeTextTrackNext(a)},p);A.takeUntil(n).subscribe(function(a){return b._priv.triggerTimeChange(a)},p);m.takeUntil(n).subscribe(function(a){return b._priv.setPlayerState(a)},p);l.subscribe(function(a){return b._priv.onStreamNext(a)},function(a){return b._priv.onStreamError(a)},
function(){return b._priv.onStreamComplete()});f.takeUntil(n).subscribe(function(a){return b._priv.onErrorStreamNext(a)});K=l.connect()};e.prototype.getError=function(){return this._priv.fatalError};e.prototype.getManifest=function(){return this._priv.manifest||null};e.prototype.getCurrentAdaptations=function(){return this._priv.manifest?this._priv.currentAdaptations:null};e.prototype.getCurrentRepresentations=function(){return this._priv.manifest?this._priv.currentRepresentations:null};e.prototype.getVideoElement=
function(){return this.videoElement};e.prototype.getNativeTextTrack=function(){return 0<this.videoElement.textTracks.length?this.videoElement.textTracks[0]:null};e.prototype.getPlayerState=function(){return this.state};e.prototype.isLive=function(){return this._priv.manifest?this._priv.manifest.isLive:!1};e.prototype.getUrl=function(){if(this._priv.manifest)return this._priv.manifest.getUrl()};e.prototype.getVideoDuration=function(){return this.videoElement.duration};e.prototype.getVideoBufferGap=
function(){return a.i(q.a)(this.videoElement.buffered,this.videoElement.currentTime)};e.prototype.getVideoLoadedTime=function(){return a.i(q.b)(this.videoElement.buffered,this.videoElement.currentTime)};e.prototype.getVideoPlayedTime=function(){return a.i(q.c)(this.videoElement.buffered,this.videoElement.currentTime)};e.prototype.getWallClockTime=function(){if(!this._priv.manifest)return 0;var c=this.videoElement.currentTime;return this.isLive()?+a.i(t.a)(c,this._priv.manifest)/1E3:c};e.prototype.getPosition=
function(){return this.videoElement.currentTime};e.prototype.getStartTime=function(){return this._priv.timeFragment.start};e.prototype.getEndTime=function(){return this._priv.timeFragment.end};e.prototype.getPlaybackRate=function(){return this._priv.speed$.getValue()};e.prototype.getVolume=function(){return this.videoElement.volume};e.prototype.isFullscreen=function(){return a.i(p.b)()};e.prototype.getAvailableVideoBitrates=function(){var a=this._priv.currentAdaptations.video;return a?a.representations.map(function(a){return a.bitrate}):
[]};e.prototype.getAvailableAudioBitrates=function(){var a=this._priv.currentAdaptations.audio;return a?a.representations.map(function(a){return a.bitrate}):[]};e.prototype.getManualAudioBitrate=function(){return this._priv.manualBitrates.audio};e.prototype.getManualVideoBitrate=function(){return this._priv.manualBitrates.video};e.prototype.getVideoBitrate=function(){return this._priv.recordedEvents.videoBitrate};e.prototype.getAudioBitrate=function(){return this._priv.recordedEvents.audioBitrate};
e.prototype.getMaxVideoBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("video"):this._priv.initialMaxAutoBitrates.video};e.prototype.getMaxAudioBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("audio"):this._priv.initialMaxAutoBitrates.audio};e.prototype.play=function(){this.videoElement.play()};e.prototype.pause=function(){this.videoElement.pause()};e.prototype.setPlaybackRate=function(a){this._priv.speed$.next(a)};e.prototype.goToStart=
function(){return this.seekTo(this.getStartTime())};e.prototype.seekTo=function(c){a.i(r.a)(this._priv.manifest,"player: no manifest loaded");var d=void 0,b="undefined"===typeof c?"undefined":B(c);if("number"===b)d=c;else if("object"===b)if(d=this.videoElement.currentTime,null!=c.relative)d+=c.relative;else if(null!=c.position)d=c.position;else if(c.wallClockTime)d=a.i(t.b)(1E3*c.wallClockTime,this._priv.manifest);else throw Error('invalid time object. You must set one of the following properties: "relative", "position" or "wallClockTime"');
if(void 0===d)throw Error("invalid time given");return this.videoElement.currentTime=d};e.prototype.exitFullscreen=function(){a.i(p.c)()};e.prototype.setFullscreen=function(){a.i(p.d)(this.videoElement)};e.prototype.setVolume=function(a){a!==this.videoElement.volume&&(this.videoElement.volume=a,this.trigger("volumeChange",a))};e.prototype.isMute=function(){return!this.getVolume()};e.prototype.mute=function(){this._priv.mutedMemory=this.getVolume();this.setVolume(0)};e.prototype.unMute=function(){0===
this.getVolume()&&this.setVolume(this._priv.mutedMemory||E)};e.prototype.setVideoBitrate=function(a){this._priv.manualBitrates.video=a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("video",a)};e.prototype.setAudioBitrate=function(a){this._priv.manualBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("audio",a)};e.prototype.setMaxVideoBitrate=function(a){this._priv.initialMaxAutoBitrates.video=a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("video",
a)};e.prototype.setMaxAudioBitrate=function(a){this._priv.initialMaxAutoBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("audio",a)};e.prototype.setMaxBufferBehind=function(a){this._priv.maxBufferBehind$.next(a)};e.prototype.setMaxBufferAhead=function(a){this._priv.maxBufferAhead$.next(a)};e.prototype.setWantedBufferAhead=function(a){this._priv.wantedBufferAhead$.next(a)};e.prototype.getMaxBufferBehind=function(){return this._priv.maxBufferBehind$.getValue()};e.prototype.getMaxBufferAhead=
function(){return this._priv.maxBufferAhead$.getValue()};e.prototype.getWantedBufferAhead=function(){return this._priv.wantedBufferAhead$.getValue()};e.prototype.getCurrentKeySystem=function(){return a.i(y.b)()};e.prototype.getAvailableAudioTracks=function(){return this._priv.languageManager?this._priv.languageManager.getAvailableAudioTracks():null};e.prototype.getAvailableTextTracks=function(){return this._priv.languageManager?this._priv.languageManager.getAvailableTextTracks():null};e.prototype.getAudioTrack=
function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentAudioTrack()};e.prototype.getTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentTextTrack()};e.prototype.setAudioTrack=function(c){a.i(r.a)(this._priv.languageManager,"No compatible content launched.");try{this._priv.languageManager.setAudioTrack(c)}catch(L){throw Error("player: unknown audio track");}};e.prototype.setTextTrack=function(c){a.i(r.a)(this._priv.languageManager,
"No compatible content launched.");try{this._priv.languageManager.setTextTrack(c)}catch(L){throw Error("player: unknown text track");}};e.prototype.disableTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.disableTextTrack()};e.prototype.getImageTrackData=function(){return this._priv.manifest?this._priv.currentImagePlaylist:null};e.prototype.getMinimumPosition=function(){return this._priv.manifest?a.i(t.c)(this._priv.manifest):null};e.prototype.getMaximumPosition=
function(){return this._priv.manifest?a.i(t.d)(this._priv.manifest):null};return e}(n.a);e.a=b},function(b,e,a){e.a=function(a,b){return b?"seeking"==b.state?k.a.SEEKING:k.a.BUFFERING:a?k.a.PLAYING:k.a.PAUSED};var k=a(34)},function(b,e,a){b=a(21);var k=a.n(b),m=a(28),h=function(b,d){if(!d)return null;if(b.length)return k()(b,function(c){return a.i(m.a)(d.language)===a.i(m.a)(c.language)&&d.closedCaption===c.isClosedCaption})},l=function(b,d){if(b.length&&d)return k()(b,function(c){return a.i(m.a)(d.language)===
a.i(m.a)(c.language)&&d.audioDescription===c.isAudioDescription})};b=function(){function b(d,c){var g=d.text,f=d.audio,e=c.text$,k=c.audio$,p=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var u=p.defaultAudioTrack,p=p.defaultTextTrack,u=u&&a.i(m.b)(u),p=p&&a.i(m.c)(p),g=g||[],f=f||[];this._currentTextAdaptation=this._currentAudioAdaptation=null;this._textAdaptations=g;this._audioAdaptations=f;this._text$=
e;if(this._audio$=k)this._currentAudioAdaptation=u?l(f,u)||f[0]:f[0],k.next(this._currentAudioAdaptation);e&&(this._currentTextAdaptation=p?h(g,p)||null:null,e.next(this._currentTextAdaptation))}b.prototype.updateAdaptations=function(a){var c=a.audio;a=a.text;this._audioAdaptations=c||[];this._textAdaptations=a||[];var d=this._currentAudioAdaptation,b=d&&d.id,f=void 0;null!=b&&(f=k()(c,function(a){return a.id===b}));f||(this._currentAudioAdaptation=l(c,{language:d.language,audioDescription:!!d.isAudioDescription})||
c[0],this._audio$.next(this._currentAudioAdaptation));var e=(c=this._currentTextAdaptation)&&c.id,d=void 0;null!=e&&(d=k()(a,function(a){return a.id===e}));null===e||d||(this._currentTextAdaptation=h(a,{language:c.language,closedCaption:!!c.isClosedCaption})||a[0],this._text$.next(this._currentTextAdaptation))};b.prototype.setAudioTrack=function(a){var c=k()(this._audioAdaptations,function(c){return c.id===a});if(void 0===c)throw Error("Audio Track not found.");this._currentAudioAdaptation=c;this._audio$.next(this._currentAudioAdaptation)};
b.prototype.setTextTrack=function(a){var c=k()(this._textAdaptations,function(c){return c.id===a});if(void 0===c)throw Error("Text Track not found.");this._currentTextAdaptation=c;this._text$.next(this._currentTextAdaptation)};b.prototype.disableTextTrack=function(){this._currentTextAdaptation=null;this._text$.next(this._currentTextAdaptation)};b.prototype.getCurrentAudioTrack=function(){var d=this._currentAudioAdaptation;return d?{language:a.i(m.a)(d.language),audioDescription:d.isAudioDescription,
id:d.id}:null};b.prototype.getCurrentTextTrack=function(){var d=this._currentTextAdaptation;return d?{language:a.i(m.a)(d.language),closedCaption:d.isClosedCaption,id:d.id}:null};b.prototype.getAvailableAudioTracks=function(){var d=this._currentAudioAdaptation,c=d&&d.id;return this._audioAdaptations.map(function(d){return{language:a.i(m.a)(d.language),audioDescription:d.isAudioDescription,id:d.id,active:null==c?!1:c===d.id}})};b.prototype.getAvailableTextTracks=function(){var d=this._currentTextAdaptation,
c=d&&d.id;return this._textAdaptations.map(function(d){return{language:a.i(m.a)(d.language),closedCaption:d.isClosedCaption,id:d.id,active:null==c?!1:c===d.id}})};return b}();e.a=b},function(b,e,a){function k(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b={transport:a.transport,transportOptions:t(a.transportOptions,{}),defaultAudioTrack:t(a.defaultAudioTrack,d),defaultTextTrack:t(a.defaultTextTrack,c),maxBufferAhead:t(a.maxBufferAhead,n),maxBufferBehind:t(a.maxBufferBehind,r),
limitVideoWidth:t(a.limitVideoWidth,w),wantedBufferAhead:t(a.wantedBufferAhead,g),throttleWhenHidden:t(a.throttleWhenHidden,u),videoElement:a.videoElement?a.videoElement:document.createElement("video")},f=q||{},e=p||{};b.initialAudioBitrate=t(a.initialAudioBitrate,f.audio,f.other);b.initialVideoBitrate=t(a.initialVideoBitrate,f.video,f.other);b.maxAudioBitrate=t(a.maxAudioBitrate,e.audio,e.other);b.maxVideoBitrate=t(a.maxVideoBitrate,e.video,e.other);return b}function m(){var c=0<arguments.length&&
void 0!==arguments[0]?arguments[0]:{},d=arguments[1],b=d.defaultTransportOptions,g=d._priv,e=g.lastTextTrack,g=g.lastAudioTrack,d={startAt:c.startAt,url:c.url,transport:t(c.transport,d.defaultTransport),autoPlay:t(c.autoPlay,l),keySystems:t(c.keySystems,[]),defaultAudioTrack:t(c.defaultAudioTrack,g),defaultTextTrack:t(c.defaultTextTrack,e),transportOptions:t(c.transportOptions,b),hideNativeSubtitle:t(c.hideNativeSubtitle,!f),supplementaryTextTracks:t(c.supplementaryTextTracks,[]),supplementaryImageTracks:t(c.supplementaryImageTracks,
[])},b=t(c.timeFragment,{});d.timeFragment=a.i(h.a)(b);c.directFile&&(d.transport="directfile");return d}a.d(e,"a",function(){return k});a.d(e,"b",function(){return m});var h=a(99);b=a(4);e=a(155);var l=b.a.DEFAULT_AUTO_PLAY,f=b.a.DEFAULT_SHOW_SUBTITLE,d=b.a.DEFAULT_AUDIO_TRACK,c=b.a.DEFAULT_TEXT_TRACK,g=b.a.DEFAULT_WANTED_BUFFER_AHEAD,n=b.a.DEFAULT_MAX_BUFFER_AHEAD,r=b.a.DEFAULT_MAX_BUFFER_BEHIND,q=b.a.DEFAULT_INITIAL_BITRATES,p=b.a.DEFAULT_MAX_BITRATES,u=b.a.DEFAULT_THROTTLE_WHEN_HIDDEN,w=b.a.DEFAULT_LIMIT_VIDEO_WIDTH,
t=e.a},function(b,e,a){b=a(157);var k=a.n(b),m=a(1);a(2);var h=a(26),l=a(34),f=a(96);e.a=function(d){return{resetContentState:function(){d._priv.initialAudioTrack=void 0;d._priv.initialTextTrack=void 0;d._priv.languageManager=null;d._priv.abrManager=null;d._priv.manifest=null;d._priv.currentRepresentations={};d._priv.currentAdaptations={};d._priv.recordedEvents={};d._priv.timeFragment={start:null,end:null};d._priv.fatalError=null;d._priv.imageTrack$.next(null);d._priv.currentImagePlaylist=null},recordState:function(a,
b){var c=d._priv.recordedEvents[a];k()(c,b)||(d._priv.recordedEvents[a]=b,d.trigger(a+"Change",b))},onStreamNext:function(a){var c=a.value;switch(a.type){case "representationChange":d._priv.onRepresentationChange(c);break;case "manifestUpdate":d._priv.onManifestUpdate(c);break;case "adaptationChange":d._priv.onAdaptationChange(c);break;case "manifestChange":d._priv.onManifestChange(c);break;case "pipeline":a=c.parsed,"image"===c.bufferType&&(c=a.segmentData,d._priv.currentImagePlaylist=c,d.trigger("imageTrackUpdate",
{data:d._priv.currentImagePlaylist}),d._priv.imageTrack$.next(c))}},onErrorStreamNext:function(a){d.trigger("warning",a)},onStreamError:function(a){d._priv.resetContentState();d._priv.fatalError=a;d._priv.setPlayerState(l.a.STOPPED);d._priv.clearLoadedContent$.next();d.trigger("error",a)},onStreamComplete:function(){d._priv.resetContentState();d._priv.setPlayerState(l.a.ENDED);d._priv.clearLoadedContent$.next()},onManifestChange:function(a){var c=a.manifest,b=a.adaptations$,e=void 0===b?{}:b;d._priv.manifest=
c;d._priv.languageManager=new f.a(c.adaptations,{audio$:e.audio,text$:e.text},{defaultAudioTrack:d._priv.initialAudioTrack,defaultTextTrack:d._priv.initialTextTrack});Object.keys(e).forEach(function(a){"audio"!==a&&"text"!==a&&e[a].next((c.adaptations[a]||[])[0]||null)});d._priv.abrManager=a.abrManager;d.trigger("manifestChange",c)},onManifestUpdate:function(a){a=a.manifest;d._priv.manifest=a;d._priv.languageManager.updateAdaptations(a.adaptations);d.trigger("manifestUpdate",a)},onAdaptationChange:function(a){var c=
a.type;d._priv.currentAdaptations[c]=a.adaptation;d._priv.languageManager&&("audio"===c?(a=d._priv.languageManager.getCurrentAudioTrack(),d._priv.lastAudioTrack=a,d._priv.recordState("audioTrack",a)):"text"===c&&(a=d._priv.languageManager.getCurrentTextTrack(),d._priv.lastTextTrack=a,d._priv.recordState("textTrack",a)))},onRepresentationChange:function(a){var c=a.type;a=a.representation;a=(d._priv.currentRepresentations[c]=a)&&a.bitrate;null!=a&&(d._priv.lastBitrates[c]=a);"video"==c?d._priv.recordState("videoBitrate",
null!=a?a:-1):"audio"==c&&d._priv.recordState("audioBitrate",null!=a?a:-1)},onPlayPauseNext:function(a){!0!==d.videoElement.ended&&d._priv.playing$.next("play"==a.type)},onNativeTextTrackNext:function(a){(a=a.target[0])&&d.trigger("nativeTextTrackChange",a)},setPlayerState:function(a){d.state!==a&&(d.state=a,m.a.info("playerStateChange",a),d.trigger("playerStateChange",a))},triggerTimeChange:function(c){if(d._priv.manifest&&c){var b={position:c.currentTime,duration:c.duration,playbackRate:c.playbackRate,
bufferGap:isFinite(c.bufferGap)?c.bufferGap:0};d._priv.manifest.isLive&&0<c.currentTime&&(b.wallClockTime=a.i(h.a)(c.currentTime,d._priv.manifest).getTime()/1E3,b.liveGap=a.i(h.d)(d._priv.manifest)-c.currentTime);d.trigger("positionUpdate",b)}}}}},function(b,e,a){function k(b){if("string"==typeof b){var g=b,e=g.split(",");a.i(d.a)(2>=e.length,c);b=e[0]?e[0]:"";e=e[1]?e[1]:"";a.i(d.a)((b||e)&&(!b||e||-1===g.indexOf(",")),c);b=b.replace(/^smpte(-25|-30|-30-drop)?:/,"").replace(/^npt[:=]/,"").replace("clock:",
"");var g=/(((\d+:)?(\d\d):(\d\d))|(\d+))(\.\d*)?$/,k=/^\d+:\d\d:\d\d(:\d\d(\.\d\d)?)?$/,p=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))?$/,u=/^\d*(\.\d+)? ?%$/;if(g.test(b)&&g.test(e))g=m;else if(k.test(b)&&k.test(e))g=h;else if(p.test(b)&&p.test(e))g=l;else if(u.test(b)&&u.test(e))g=f;else throw Error(c);b=g(b);e=g(e);a.i(d.a)(!1!==b||!1!==e,c);b={start:!1===b?"":b,end:!1===e?"":e}}else b||(b={});"string"==typeof b.start&&"string"==typeof b.end?(b.start||(b.start="0%"),b.end||
(b.end="100%")):(b.start||(b.start=0),b.end||(b.end=Infinity));"string"==typeof b.start&&"string"==typeof b.end?(a.i(d.a)(0<=parseFloat(b.start)&&100>=parseFloat(b.start),"player: startTime should be between 0% and 100%"),a.i(d.a)(0<=parseFloat(b.end)&&100>=parseFloat(b.end),"player: endTime should be between 0% and 100%")):(a.i(d.a)(("number"==typeof b.start||b.start instanceof Date)&&("number"==typeof b.end||b.end instanceof Date),"player: timeFragment should have interface { start, end } where start and end are numbers or dates"),
a.i(d.a)(b.start<b.end,"player: startTime should be lower than endTime"),a.i(d.a)(0<=b.start,"player: startTime should be greater than 0"));return b}function m(b){if(!b)return!1;b=b.replace(/\.$/,"");var g,f;b=b.split(":");var e=b.length;switch(e){case 3:g=parseInt(b[0],10);f=parseInt(b[1],10);b=parseFloat(b[2]);break;case 2:g=0;f=parseInt(b[0],10);b=parseFloat(b[1]);break;case 1:f=g=0;b=parseFloat(b[0]);break;default:return!1}a.i(d.a)(23>=g,c);a.i(d.a)(59>=f,c);a.i(d.a)(1>=e||60>b,c);return 3600*
g+60*f+b}function h(b){if(!b)return!1;var g,f,e,h;b=b.split(":");switch(b.length){case 3:g=parseInt(b[0],10);f=parseInt(b[1],10);e=parseInt(b[2],10);h=b=0;break;case 4:g=parseInt(b[0],10);f=parseInt(b[1],10);e=parseInt(b[2],10);-1===b[3].indexOf(".")?(b=parseInt(b[3],10),h=0):(h=b[3].split("."),b=parseInt(h[0],10),h=parseInt(h[1],10));break;default:return!1}a.i(d.a)(23>=g,c);a.i(d.a)(59>=f,c);a.i(d.a)(59>=e,c);return 3600*g+60*f+e+.001*b+1E-6*h}function l(a){return new Date(Date.parse(a))}function f(a){return a?
a:!1}a.d(e,"a",function(){return k});var d=a(2),c="invalid MediaFragment"},function(b,e,a){e.a=function(b,e,f,d){if(!isFinite(f)&&!isFinite(d))return k.Observable.empty();var c=[],g=a.i(m.g)(b.getBuffered(),e),h=g.innerRange,l=g.outerRanges;(function(){if(isFinite(f)){for(var a=0;a<l.length;a++){var d=l[a];e-f>=d.end?c.push(d):e>=d.end&&e-f>d.start&&e-f<d.end&&c.push({start:d.start,end:e-f})}h&&e-f>h.start&&c.push({start:h.start,end:e-f})}})();(function(){if(isFinite(d)){for(var a=0;a<l.length;a++){var b=
l[a];e+d<=b.start?c.push(b):e<=b.start&&e+d<b.end&&e+d>b.start&&c.push({start:e+d,end:b.end})}h&&e+d<h.end&&c.push({start:e+d,end:h.end})}})();return k.Observable.from(c.map(function(a){return b.removeBuffer(a)})).concatAll().ignoreElements()};var k=a(0);a.n(k);var m=a(10)},function(b,e,a){function k(c,d,b){var g=a.i(l.g)(d,c);d=g.innerRange;for(var g=g.outerRanges,f=[],e=0;e<g.length;e++){var n=g[e];c-b<n.end?f.push(n):c+b>n.start&&f.push(n)}d&&(h.a.debug("buffer: gc removing part of inner range",
f),c-b>d.start&&f.push({start:d.start,end:c-b}),c+b<d.end&&f.push({start:c+b,end:d.end}));return f}e.a=function(a,b){h.a.warn("buffer: running garbage collector");return a.take(1).mergeMap(function(a){var c=b.getBuffered(),g=k(a.currentTime,c,f);0===g.length&&(g=k(a.currentTime,c,d));h.a.debug("buffer: gc cleaning",g);return m.Observable.from(g.map(function(a){return b.removeBuffer(a)})).concatAll()})};var m=a(0);a.n(m);b=a(4);var h=a(1),l=a(10),f=b.a.BUFFER_GC_GAPS.CALM,d=b.a.BUFFER_GC_GAPS.BEEFY},
function(b,e,a){function k(b){function e(b){function l(a){if(m.test(a.id))return!1;if(a.isInit||0>a.time)return!0;a=L.hasCompleteSegment(a.time,a.duration,a.timescale);return!a||a.bitrate*w<b.bitrate}d.a.info("bitrate",B,b.bitrate);var m=new c.a,r=function(a){return k({segment:a,representation:b,init:E}).map(function(c){return f()({segment:a},c)})},q=h.Observable.combineLatest(C,A,D,H).mergeMap(function(c,f){var e,k,q=c[0],p=c[2],t=c[3];k=Math.min(c[1],t);e=M.getBuffered();L.addBufferedInfos(e);if(q.stalled&&
I){var v=b.index.checkDiscontinuity(q.currentTime);0<v&&G.next({type:"index-discontinuity",value:{ts:v+1}})}v=null;0===f&&(d.a.debug("add init segment",B),v=b.index.getInitSegment());if(0===q.readyState)v=v?[v]:[];else{var x=J,A=S,D=A,A=q.currentTime+q.timeOffset,w=(q.duration||Infinity)-A;k=Math.max(0,null==q.liveGap?Math.min(k,w):Math.min(k,q.liveGap,w));e=a.i(g.a)(e,A);e=A+(e>x&&Infinity>e?Math.min(e,D):0);x=k=A+k;k=x-e;b.index.shouldRefresh(q.currentTime+q.timeOffset,e,x)&&(x=new n.g("OUT_OF_INDEX_ERROR",
b.index.getType(),!1),G.next({type:"out-of-index",value:x}));e=b.index.getSegments(e,k);v&&e.unshift(v);v=e}v=v.filter(l);for(e=0;e<v.length;e++)m.add(v[e].id);v=h.Observable.of.apply(h.Observable,v).concatMap(r);q=a.i(u.a)(M,q.currentTime,p,t);return h.Observable.merge(v,q)}).concatMap(function(c){var d=c.segment,g=c.parsed,e=g.segmentData,h=g.nextSegments,l=g.segmentInfos;d.isInit&&(E=l);var k=h?b.index._addSegments(h,l):[],r=function(){m.remove(d.id);if(!d.isInit){var a=l?l:d,c=a.time,g=a.timescale;
L.insert(d,c/g,(c+a.duration)/g,b.bitrate)}},q=function(){return M.appendBuffer(e)["do"](r)};return q()["catch"](function(c){if("QuotaExceededError"!=c.name)throw m.remove(d.id),new n.f("BUFFER_APPEND_ERROR",c,!0);return a.i(p.a)(C,M).mergeMap(q)["catch"](function(a){m.remove(d.id);throw new n.f("BUFFER_FULL_ERROR",a,!0);})}).map(function(){return{type:"pipeline",value:f()({bufferType:B,addedSegments:k},c)}})});return h.Observable.merge(q,G)["catch"](function(a){if(!I||a.type!=n.a.NETWORK_ERROR||
!a.isHttpError(412))throw a;return h.Observable.of({type:"precondition-failed",value:a}).concat(h.Observable.timer(2E3)).concat(e(b))}).startWith({type:"representationChange",value:{type:B,representation:b}})}var m=b.sourceBuffer,k=b.downloader,t=b.switch$,C=b.clock$,A=b.wantedBufferAhead,D=b.maxBufferBehind,H=b.maxBufferAhead,B=b.bufferType,I=b.isLive,E=null,G=new l.Subject,J="video"==B?4:1,S="video"==B?6:1,L=new r.a,M=new q.a(m);return t.switchMap(e)["finally"](function(){return M.dispose()})}function m(a){return h.Observable.of({type:"representationChange",
value:{type:a.bufferType,representation:null}})}a.d(e,"b",function(){return k});a.d(e,"a",function(){return m});var h=a(0);a.n(h);var l=a(6);a.n(l);b=a(9);var f=a.n(b);b=a(4);var d=a(1),c=a(153),g=a(10),n=a(7),r=a(104),q=a(103),p=a(101),u=a(100),w=b.a.BITRATE_REBUFFERING_RATIO},function(b,e,a){var k=a(6);a.n(k);b=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.buffer=b;this.queue=[];this.flushing=null;this.__onUpdate=this._onUpdate.bind(this);
this.__onError=this._onError.bind(this);this.__flush=this._flush.bind(this);this.buffer.addEventListener("update",this.__onUpdate);this.buffer.addEventListener("error",this.__onError);this.buffer.addEventListener("updateend",this.__flush)}a.prototype.appendBuffer=function(a){return this._queueAction("append",a)};a.prototype.removeBuffer=function(a){return this._queueAction("remove",{start:a.start,end:a.end})};a.prototype.getBuffered=function(){return this.buffer.buffered};a.prototype.dispose=function(){this.buffer.removeEventListener("update",
this.__onUpdate);this.buffer.removeEventListener("error",this.__onError);this.buffer.removeEventListener("updateend",this.__flush);this.buffer=null;this.queue.length=0;this.flushing=null};a.prototype._onUpdate=function(a){this.flushing&&(this.flushing.next(a),this.flushing.complete(),this.flushing=null)};a.prototype._onError=function(a){this.flushing&&(this.flushing.error(a),this.flushing=null)};a.prototype._queueAction=function(a,b){var f=new k.Subject;1===this.queue.unshift({type:a,args:b,subj:f})&&
this._flush();return f};a.prototype._flush=function(){if(!this.flushing&&0!==this.queue.length&&!this.buffer.updating){var a=this.queue.pop(),b=a.type,f=a.args;this.flushing=a.subj;try{switch(b){case "append":this.buffer.appendBuffer(f);break;case "remove":this.buffer.remove(f.start,f.end)}}catch(d){this._onError(d)}}};return a}();e.a=b},function(b,e,a){var k=a(1),m=a(156),h=a(10);b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._inventory=
[]}b.prototype.addBufferedInfos=function(b){b=a.i(h.h)(b);for(var d=b.length-1,c=this._inventory,g=0,f=c[0],e=0;e<=d;e++){if(!f){k.a.warn("Some buffered ranges do not link to any segment");return}var l=b[e],p=l.start,l=l.end;if(!(.3>l-p)){for(var u=g;f&&.3>a.i(m.a)(f.bufferedEnd,f.end)-p;)f=c[++g];var w=-1,t=g-u;t&&(g=c[u+t-1],w=a.i(m.a)(g.bufferedEnd,g.end),c.splice(u,t),g=u);if(!f){k.a.warn("Some buffered ranges do not link to any segment");return}.3<=l-a.i(m.a)(f.bufferedStart,f.start)&&(null!=
f.bufferedStart&&f.bufferedStart<p?f.bufferedStart=p:null==f.bufferedStart&&(-1!==w&&w>p?.1>=f.bufferedStart-w&&(f.bufferedStart=w):f.bufferedStart=.1>=f.start-p?p:f.start),f=c[++g]);for(;f&&.3<=l-a.i(m.a)(f.bufferedStart,f.start);)p=c[g-1],null==p.bufferedEnd&&(p.bufferedEnd=p.end),f.bufferedStart=p.bufferedEnd,f=c[++g];if(p=c[g-1])null!=p.bufferedEnd&&p.bufferedEnd>l?p.bufferedEnd=l:null==p.bufferedEnd&&(p.bufferedEnd=.1>=l-p.end?l:p.end)}}f&&c.splice(g,c.length-g)};b.prototype.insert=function(a,
d,c,b){var g=this._inventory;c={bitrate:b,start:d,end:c,bufferedStart:void 0,bufferedEnd:void 0,segment:a};for(b=g.length-1;0<=b;b--){var f=g[b];if(f.start<=d){f.end<=d?this._inventory.splice(b+1,0,c):f.start>=d?this._inventory.splice(b,1,c):(f.end=d,this._inventory.splice(b+1,0,c));return}}(d=this._inventory[0])?d.end<a.end?this._inventory.splice(0,1,c):(d.start=a.end,this._inventory.splice(0,0,c)):this._inventory.push(c)};b.prototype.hasCompleteSegment=function(a,d,c){for(var b=this._inventory,
f=b.length-1;0<=f;f--){var e=b[f],h=e.segment,l=a,m=d;h.timescale!==c&&(l=a*h.timescale/c,m=d*h.timescale/c);if(h.time===l&&h.duration===m){if((a=b[f-1])&&null==a.bufferedEnd||null==e.bufferedStart)break;if((!a||a.bufferedEnd<e.bufferedStart)&&.12<e.bufferedStart-e.start)break;if((b=b[f+1])&&null==b.bufferedStart||null==e.bufferedEnd)break;if((!b||b.bufferedStart>e.bufferedEnd)&&.12<e.end-e.bufferedEnd)break;return e}}return null};return b}();e.a=b},function(b,e,a){a.d(e,"a",function(){return k});
var k={expired:!0,"internal-error":!0}},function(b,e,a){function k(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=b.$keySystem,f=b.$mediaKeys,e=b.$mediaKeySystemConfiguration;return g&&f&&!a.i(d.e)()?(b=c.filter(function(a){return a.type!==g.type||a.persistentLicense&&"required"!=e.persistentState||a.distinctiveIdentifierRequired&&"required"!=e.distinctiveIdentifier?!1:!0})[0])?{keySystem:b,keySystemAccess:new d.f(g,f,e)}:null:null}function m(a){var c=["temporary"],d="optional",
b="optional";a.persistentLicense&&(d="required",c.push("persistent-license"));a.persistentStateRequired&&(d="required");a.distinctiveIdentifierRequired&&(b="required");var f=a.audioRobustnesses||g;a=(a.videoRobustnesses||g).map(function(a){return{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:a}});f=f.map(function(a){return{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:a}});return[{initDataTypes:["cenc"],videoCapabilities:a,audioCapabilities:f,distinctiveIdentifier:b,persistentState:d,
sessionTypes:c},{initDataTypes:["cenc"],videoCapabilities:void 0,audioCapabilities:void 0,distinctiveIdentifier:b,persistentState:d,sessionTypes:c}]}function h(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.$keySystem&&a.$keySystem.type}a.d(e,"b",function(){return h});var l=a(0);a.n(l);b=a(4);var f=a(1),d=a(8),c=a(7),g=b.a.EME_DEFAULT_ROBUSTNESSES,n=b.a.EME_KEY_SYSTEMS;e.a=function(b,g){var e=k(b,g);if(e)return f.a.debug("eme: found compatible keySystem quickly",e),l.Observable.of(e);
var h=b.reduce(function(a,c){return a.concat((n[c.type]||[]).map(function(a){return{keyType:a,keySystem:c}}))},[]);return l.Observable.create(function(b){function g(n){if(!e)if(n>=h.length)b.error(new c.c("INCOMPATIBLE_KEYSYSTEMS",null,!0));else{var k=h[n],r=k.keyType,q=k.keySystem,p=m(q);f.a.debug("eme: request keysystem access "+r+","+(n+1+" of "+h.length),p);l=a.i(d.g)(r,p).subscribe(function(a){f.a.info("eme: found compatible keysystem",r,p);b.next({keySystem:q,keySystemAccess:a});b.complete()},
function(){f.a.debug("eme: rejected access to keysystem",r,p);l=null;g(n+1)})}}var e=!1,l=null;g(0);return function(){e=!0;l&&l.unsubscribe()}})}},function(b,e,a){function k(d,c){return h.Observable.defer(function(){return a.i(l.b)(d.setServerCertificate(c)).ignoreElements()["catch"](function(a){throw new f.c("LICENSE_SERVER_CERTIFICATE_ERROR",a,!0);})})}function m(a,c,b){return k(a,c)["catch"](function(a){a.fatal=!1;b.next(a);return h.Observable.empty()})}a.d(e,"a",function(){return m});var h=a(0);
a.n(h);var l=a(5),f=a(7)},function(b,e,a){function k(a,d,b){return{type:"eme",value:c()({name:a,session:d},b)}}function m(c,d,b){function f(a,c){return a.type===u.a.ENCRYPTED_MEDIA_ERROR?(a.fatal=c,a):new u.c("KEY_LOAD_ERROR",a,c)}t.a.debug("eme: handle message events",c);var e=void 0,h={totalRetry:2,retryDelay:200,errorSelector:function(a){return f(a,!0)},onRetry:function(a){return b.next(f(a,!1))}},l=a.i(p.h)(c).map(function(a){throw new u.c("KEY_ERROR",a,!0);}),m=a.i(p.j)(c).mergeMap(function(b){e=
b.sessionId;t.a.debug("eme: keystatuseschange event",e,c,b);c.keyStatuses.forEach(function(a,c){if(w.a[c]||w.a[a])throw new u.c("KEY_STATUS_CHANGE_ERROR",c,!0);});return d.onKeyStatusesChange?a.i(r.c)(function(){return a.i(r.b)(d.onKeyStatusesChange(b,c))})["catch"](function(a){throw new u.c("KEY_STATUS_CHANGE_ERROR",a,!0);}):(t.a.info("eme: keystatuseschange event not handled"),g.Observable.empty())}),v=a.i(p.i)(c).mergeMap(function(b){e=b.sessionId;var f=new Uint8Array(b.message),l=b.messageType||
"license-request";t.a.debug("eme: event message type "+l,c,b);b=g.Observable.defer(function(){return a.i(r.b)(d.getLicense(f,l)).timeout(1E4)["catch"](function(a){if(a instanceof n.TimeoutError)throw new u.c("KEY_LOAD_TIMEOUT",null,!1);throw a;})});return a.i(q.a)(b,h)}),m=g.Observable.merge(v,m).concatMap(function(d){t.a.debug("eme: update session",e,d);return a.i(r.b)(c.update(d,e))["catch"](function(a){throw new u.c("KEY_UPDATE_ERROR",a,!0);}).mapTo(k("session-update",c,{updatedWith:d}))}),l=g.Observable.merge(m,
l);return c.closed?l.takeUntil(a.i(r.b)(c.closed)):l}function h(a,c,d,b,g){t.a.debug("eme: create a new "+c+" session");var f=a.createSession(c);a=m(f,d,g)["finally"](function(){v.b.deleteAndClose(f);v.a["delete"](b)}).publish();return{session:f,sessionEvents:a}}function l(c,d,b,f,e,l){c=h(c,b,d,e,l);var m=c.session;c=c.sessionEvents;v.b.add(e,m,c);t.a.debug("eme: generate request",f,e);f=a.i(r.b)(m.generateRequest(f,e))["catch"](function(a){throw new u.c("KEY_GENERATE_REQUEST_ERROR",a,!1);})["do"](function(){"persistent-license"==
b&&v.a.add(e,m)}).mapTo(k("generated-request",m,{initData:e,initDataType:f}));return g.Observable.merge(c,f)}function f(a,c,d,b,g,f){return l(a,c,d,b,g,f)["catch"](function(e){if(e.code!==u.b.KEY_GENERATE_REQUEST_ERROR)throw e;var h=v.b.getFirst();if(!h)throw e;t.a.warn("eme: could not create a new session, retry after closing a currently loaded session",e);return v.b.deleteAndClose(h).mergeMap(function(){return l(a,c,d,b,g,f)})})}function d(c,d,b,e,l,m){t.a.debug("eme: load persisted session",b);
var n=h(c,"persistent-license",d,l,m),q=n.session,p=n.sessionEvents;return a.i(r.b)(q.load(b))["catch"](function(){return g.Observable.of(!1)}).mergeMap(function(a){if(a)return v.b.add(l,q,p),v.a.add(l,q),p.startWith(k("loaded-session",q,{storedSessionId:b}));t.a.warn("eme: no data stored for the loaded session, do fallback",b);v.b.deleteById(b);v.a["delete"](l);q.sessionId&&q.remove();return f(c,d,"persistent-license",e,l,m).startWith(k("loaded-session-failed",q,{storedSessionId:b}))})}b=a(9);var c=
a.n(b),g=a(0);a.n(g);var n=a(76);a.n(n);var r=a(5),q=a(65),p=a(17),u=a(7),w=a(105),t=a(1),v=a(35);e.a=function(a,c,b,e,l,h){return g.Observable.defer(function(){var m=v.b.get(l);if(m&&m.sessionId)return t.a.debug("eme: reuse loaded session",m.sessionId),g.Observable.of(k("reuse-session",m));var n=(m=c.sessionTypes)&&0<=m.indexOf("persistent-license"),m=n&&b.persistentLicense?"persistent-license":"temporary";return n&&b.persistentLicense&&(n=v.a.get(l))?d(a,b,n.sessionId,e,l,h):f(a,b,m,e,l,h)})}},
function(b,e,a){function k(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}var m=a(0);a.n(m);var h=a(1),l=a(5);b=a(54);var f=a(55);b=function(d){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var a=
d.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}k(c,d);c.prototype.getFirst=function(){if(0<this._entries.length)return this._entries[0].session};c.prototype.find=function(a){for(var c=0;c<this._entries.length;c++)if(!0===a(this._entries[c]))return this._entries[c];return null};c.prototype.get=function(c){c=a.i(f.a)(c);var d=this.find(function(a){return a.initData===c});
return d?d.session:null};c.prototype.add=function(c,d,b){c=a.i(f.a)(c);var g=this.get(c);g&&this.deleteAndClose(g);b=b.connect();c={session:d,initData:c,eventSubscription:b};h.a.debug("eme-mem-store: add session",c);this._entries.push(c)};c.prototype.deleteById=function(a){var c=this.find(function(c){return c.session.sessionId===a});return c?this["delete"](c.session):null};c.prototype["delete"]=function(a){var c=this.find(function(c){return c.session===a});if(!c)return null;var d=c.session,b=c.eventSubscription;
h.a.debug("eme-mem-store: delete session",c);c=this._entries.indexOf(c);this._entries.splice(c,1);b.unsubscribe();return d};c.prototype.deleteAndClose=function(c){return(c=this["delete"](c))?(h.a.debug("eme-mem-store: close session",c),a.i(l.b)(c.close())["catch"](function(){return m.Observable.of(null)})):m.Observable.of(null)};c.prototype.dispose=function(){var a=this,c=this._entries.map(function(c){return a.deleteAndClose(c.session)});this._entries=[];return m.Observable.merge.apply(null,c)};return c}(b.a);
e.a=b},function(b,e,a){var k=a(109),m=a(111);a.d(e,"b",function(){return k.a});a.d(e,"a",function(){return m.a})},function(b,e,a){function k(a,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}var m=a(1),h=a(2);b=a(54);var l=a(55);b=function(b){function d(a){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");var c;c=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");c=!c||"object"!==typeof c&&"function"!==typeof c?this:c;c.setStorage(a);return c}k(d,b);d.prototype.setStorage=function(c){if(this._storage!==c){a.i(h.a)(c,"no licenseStorage given for keySystem with persistentLicense");h.a.iface(c,"licenseStorage",{save:"function",load:"function"});this._storage=c;try{this._entries=this._storage.load(),
a.i(h.a)(Array.isArray(this._entries))}catch(g){m.a.warn("eme-persitent-store: could not get entries from license storage",g),this.dispose()}}};d.prototype.get=function(c){c=a.i(l.a)(c);return this.find(function(a){return a.initData===c})||null};d.prototype.add=function(c,d){var b=d&&d.sessionId;if(b){c=a.i(l.a)(c);var f=this.get(c);f&&f.sessionId===b||(f&&this["delete"](c),m.a.info("eme-persitent-store: add new session",b,d),this._entries.push({sessionId:b,initData:c}),this._save())}};d.prototype["delete"]=
function(c){c=a.i(l.a)(c);var d=this.find(function(a){return a.initData===c});d&&(m.a.warn("eme-persitent-store: delete session from store",d),d=this._entries.indexOf(d),this._entries.splice(d,1),this._save())};d.prototype.dispose=function(){this._entries=[];this._save()};d.prototype._save=function(){try{this._storage.save(this._entries)}catch(c){m.a.warn("eme-persitent-store: could not save licenses in localStorage")}};return d}(b.a);e.a=b},function(b,e,a){function k(d){return d?a.i(l.h)(d,null):
m.Observable.empty()}a.d(e,"b",function(){return k});var m=a(0);a.n(m);var h=a(1),l=a(8),f=a(35);e.a=function(d,c,b,e,k){return m.Observable.defer(function(){var g=k.$videoElement,n=k.$mediaKeys;k.$mediaKeys=d;k.$mediaKeySystemConfiguration=c;k.$keySystem=e;k.$videoElement=b;if(b.mediaKeys===d)return m.Observable.of(d);n&&n!==d&&f.b.dispose();g&&g!==b?(h.a.debug("eme: unlink old video element and set mediakeys"),g=a.i(l.h)(g,null).concat(a.i(l.h)(b,d))):(h.a.debug("eme: set mediakeys"),g=a.i(l.h)(b,
d));return g.mapTo(d)})}},function(b,e,a){function k(c){var d=a.i(u.a)(c.locations[0]);(c=c.periods[0])&&c.baseURL&&(d+=""+c.baseURL);return d}function m(a,b,g,e){if(!b.transportType)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);b.id=b.id||z++;b.type=b.type||"static";var l=b.locations;l&&l.length||(b.locations=[a]);b.isLive="dynamic"==b.type;var m={rootURL:k(b),baseURL:b.baseURL,isLive:b.isLive};g&&(g=f(g));e&&(e=d(e));a=b.periods.map(function(a){return h(a,m,g,e)});b=c(b,a[0]);b.periods=null;b.duration||
(b.duration=Infinity);b.isLive&&(b.suggestedPresentationDelay=b.suggestedPresentationDelay||0,b.availabilityStartTime=b.availabilityStartTime||0);return new v.a(b)}function h(a,c,d,b){a.id=a.id||z++;var f=a.adaptations,f=f.concat(d||[]),f=f.concat(b||[]),f=f.map(function(a){return l(a,c)}),f=f.filter(function(a){return 0>C.indexOf(a.type)?(p.a.info("not supported adaptation type",a.type),!1):!0});if(0===f.length)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);d={};for(b=0;b<f.length;b++){var g=f[b],
e=g.type,h=g.representations;d[e]=d[e]||[];0<h.length&&d[e].push(g)}for(var m in d)if(0===d[m].length)throw new t.f("MANIFEST_INCOMPATIBLE_CODECS_ERROR",null,!0);a.adaptations=d;return a}function l(d,b){if("undefined"==typeof d.id)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);var f=c(b,d),g={};y.forEach(function(a){a in f&&(g[a]=f[a])});var e=f.representations.map(function(d){var b=f.rootURL,e=f.baseURL;if("undefined"==typeof d.id)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);d=c(g,d);d.index=d.index||
{};d.index.timescale||(d.index.timescale=1);d.bitrate||(d.bitrate=1);"mp4a.40.02"==d.codecs&&(d.codecs="mp4a.40.2");d.baseURL=a.i(u.b)(b,e,d.baseURL);d.codec=d.codecs;return d}).sort(function(a,c){return a.bitrate-c.bitrate}),l=f.type,h=f.accessibility,h=void 0===h?[]:h;if(!l)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);"video"==l||"audio"==l?(e=e.filter(function(c){return a.i(w.p)(n(c))}),"audio"===l&&(l=a.i(q.a)(h,"visuallyImpaired"),f.audioDescription=l)):"text"===l&&(l=a.i(q.a)(h,"hardOfHearing"),
f.closedCaption=l);f.representations=e;f.bitrates=e.map(function(a){return a.bitrate});return f}function f(a){Array.isArray(a)||(a=[a]);return a.reduce(function(a,c){var d=c.mimeType,b=c.url,f=c.language,g=c.languages,e=c.closedCaption;f&&(g=[f]);return a.concat(g.map(function(a){return{id:z++,type:"text",language:a,closedCaption:!!e,baseURL:b,representations:[{id:z++,mimeType:d,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}}))},[])}function d(a){Array.isArray(a)||
(a=[a]);return a.map(function(a){var c=a.mimeType;a=a.url;return{id:z++,type:"image",baseURL:a,representations:[{id:z++,mimeType:c,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}})}function c(){for(var a={},d=arguments.length,b=Array(d),f=0;f<d;f++)b[f]=arguments[f];for(d=b.length-1;0<=d;d--){var f=b[d],g;for(g in f)if(!a.hasOwnProperty(g)){var e=f[g];e&&"object"===("undefined"===typeof e?"undefined":x(e))?e instanceof Date?a[g]=new Date(e.getTime()):Array.isArray(e)?
a[g]=e.slice(0):a[g]=c(e):a[g]=e}}return a}function g(a,c){for(var d=function(a,c){return r()(c,function(c){return c.id===a})},b=a.getAdaptations(),f=c.getAdaptations(),g=0;g<b.length;g++){var e=d(b[g].id,f);e||p.a.warn('manifest: adaptation "'+b[g].id+'" not found when merging.');for(var l=b[g].representations,e=e.representations,h=0;h<l.length;h++){var m=d(l[h].id,e);m||p.a.warn('manifest: representation "'+l[h].id+'" not found when merging.');l[h].index.update(m.index)}}return a}function n(a){return a.mimeType+
';codecs="'+a.codec+'"'}a.d(e,"a",function(){return m});a.d(e,"c",function(){return n});a.d(e,"b",function(){return g});b=a(21);var r=a.n(b),q=a(18),p=a(1),u=a(19),w=a(8),t=a(7);a(28);var v=a(131),x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},y="audioSamplingRate codecs codingDependency frameRate height index maxPlayoutRate maximumSAPPeriod mimeType profiles segmentProfiles width".split(" "),
z=0,C=["audio","video","text","image"]},function(b,e,a){var k=a(0);a.n(k);var m=a(7),h=a(8),l=a(64);e.a=function(b,d){var c=d.baseDelay,f=d.maxDelay,e=d.maxRetryRegular,r=d.maxRetryOffline,q=d.onRetry,p=0,u=0;return b["catch"](function(d,b){var g;g=d instanceof m.h?d.type===m.j.ERROR_HTTP_CODE?500<=d.status||404==d.status:d.type===m.j.TIMEOUT||d.type===m.j.ERROR_EVENT:!1;if(!g)throw d;g=d.type===m.j.ERROR_EVENT&&a.i(h.q)()?2:1;var n=2===g?r:e;g!==u&&(p=0,u=g);if(++p>n)throw d;q&&q(d,p);g=Math.min(c*
Math.pow(2,p-1),f);g=a.i(l.b)(g);return k.Observable.timer(g).mergeMap(function(){return b})})}},function(b,e,a){function k(d,b){var f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;a.i(c.d)(b)||(b=new (b instanceof c.h?c.i:c.e)(d,b,f));return b}e.a=function(c){var b=c.resolver,e=c.loader,v=c.parser,u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},y=u.maxRetry,z=u.cache,C=new l.Subject;b||(b=h.Observable.of);e||(e=h.Observable.of);v||(v=h.Observable.of);var A={baseDelay:p,maxDelay:q,
maxRetryRegular:"number"===typeof y?y:n,maxRetryOffline:r,onRetry:function(a){C.next(k("PIPELINE_LOAD_ERROR",a,!1))}},D=function(c){return a.i(d.c)(b,c)["catch"](function(a){throw k("PIPELINE_RESOLVE_ERROR",a);})},H=function(c,b){var f=function(c){return a.i(g.a)(a.i(d.c)(e,c),A)["catch"](function(a){throw k("PIPELINE_LOAD_ERROR",a);})["do"](function(a){var d=a.value;"response"===a.type&&z&&z.add(c,d)}).startWith({type:"request",value:b})},l=z?z.get(c):null;return null===l?f(c):a.i(d.b)(l).map(function(a){return{type:"cache",
value:a}})["catch"](function(){return f(c)})},B=function(c){return a.i(d.c)(v,c)["catch"](function(a){throw k("PIPELINE_PARSING_ERROR",a);})};return function(c){var d=D(c).mergeMap(function(d){return H(d,c).mergeMap(function(c){var b=c.type;c=c.value;if(a.i(f.a)(["cache","data","response"],b)){var g=m()({response:c},d);return("response"===b?h.Observable.of({type:"metrics",value:{size:c.size,duration:c.duration}}):h.Observable.empty()).concat(B(g).map(function(a){return{type:"data",value:m()({parsed:a},
g)}}))}return h.Observable.of({type:b,value:c})})})["do"](null,null,function(){b.complete()}),b=C.map(function(a){return{type:"error",value:a}});return h.Observable.merge(d,b)}};b=a(9);var m=a.n(b),h=a(0);a.n(h);var l=a(6);a.n(l);var f=a(18);b=a(4);var d=a(5),c=a(7),g=a(114),n=b.a.DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR,r=b.a.DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE,q=b.a.MAX_BACKOFF_DELAY_BASE,p=b.a.INITIAL_BACKOFF_DELAY_BASE},function(b,e,a){var k=a(7),m=a(1),h=a(53);e.a=function(b,f,d){return f&&f.length?
a.i(h.c)(b,f,d):a.i(h.d)(b).map(function(){m.a.error("eme: ciphered media and no keySystem passed");throw new k.c("MEDIA_IS_ENCRYPTED_ERROR",null,!0);})}},function(b,e,a){e.a=function(b){return a.i(m.a)(b,"error").mergeMap(function(){var a=void 0;switch(b.error.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED"}k.a.error("stream: video element MEDIA_ERR("+a+")");throw new MediaError(a,null,!0);})};var k=
a(1),m=a(5)},function(b,e,a){e.a=function(b){function f(c,b,f,g,e,l,h,m){var n=G(b);return h.switchMap(function(h){if(!h)return a.i(y.a)(F,c,b,R,U),a.i(w.a)({bufferType:b}).startWith({type:"adaptationChange",value:{type:b,adaptation:h}});var r=null,q=T.map(function(a){var c=void 0,b=void 0;r&&(c=r.bitrate,r.index&&(b=r.index.getLastPosition()));return{bitrate:c,bufferGap:a.bufferGap,duration:a.duration,isLive:l.isLive,lastIndexPosition:b,position:a.currentTime,speed:W.getValue()}}),p=m.get$(b,q,h.representations)["do"](function(a){return r=
a}),q=a.i(y.b)(F,c,b,f,R,U,{hideNativeSubtitle:ha}),p=k.Observable.combineLatest(p,e).map(function(a){return a[0]});return a.i(w.b)({sourceBuffer:q,downloader:function(c){var d=c.segment,f=c.representation;c=c.init;d=a.i(t.a)(X[b],n)({segment:d,representation:f,adaptation:h,manifest:l,init:c});return a.i(D.a)(b,d,Y,Z,O)},switch$:p,clock$:g,wantedBufferAhead:ia,maxBufferBehind:ja,maxBufferAhead:ka,bufferType:b,isLive:l.isLive}).startWith({type:"adaptationChange",value:{type:b,adaptation:h}})["catch"](function(c){d.a.error("buffer",
b,"has crashed",c);if(!a.i(y.c)(b))return O.next(c),k.Observable.empty();throw c;})})}function e(c,b){var f=a.i(x.a)(c,da,P),g=f,e=a.i(q.i)(F)["do"](function(){d.a.info("set initial time",f);F.playbackRate=1;F.currentTime=f;g=0}),h=a.i(q.j)(F)["do"](function(){d.a.info("canplay event");V&&F.play();V=!0});return{clock$:b.map(function(a){return l()({timeOffset:g},a)}),loaded$:k.Observable.combineLatest(e,h).take(1).mapTo({type:"loaded",value:!0})}}function n(c){return aa(c.getUrl()).map(function(b){return{type:"manifestUpdate",
value:{manifest:a.i(u.b)(c,b)}}})}function J(c,b){c&&a.i(z.a)(c,b.getDuration());var g=a.i(C.a)(b,T,la,P),l=g.timings,m=g.seekings,r=e(b,l),g=r.loaded$,q=r.clock$,p=new v.a(Z,Y,ba),t={},r=Object.keys(b.adaptations).map(function(d){t[d]=new h.BehaviorSubject;var g=a.i(u.c)(b.adaptations[d][0].representations[0]);a.i(y.c)(d)&&a.i(y.d)(c,d,g,R);return f(c,d,g,q,m,b,t[d],p)}),r=b.isLive?k.Observable.merge.apply(k.Observable,r).concatMap(function(a){a:{switch(a.type){case "index-discontinuity":d.a.warn("explicit discontinuity seek",
a.value.ts);F.currentTime=a.value.ts;break;case "precondition-failed":b.updateLiveGap(1);d.a.warn("precondition failed",b.presentationLiveGap);break;case "out-of-index":d.a.info("out of index");a=n(b);break a}a=k.Observable.of(a)}return a}):k.Observable.merge.apply(k.Observable,r),x=k.Observable.of({type:"manifestChange",value:{manifest:b,adaptations$:t,abrManager:p}}),w=a.i(I.a)(F,ca,O),D=a.i(H.a)(F,W,l,{changePlaybackRate:K}).map(function(a){return{type:"speed",value:a}}),l=a.i(B.a)(F,b,l).map(function(a){return{type:"stalled",
value:a}}),E=a.i(A.a)(F);return k.Observable.merge(r,w,g,x,E,D,l)["finally"](function(){return p.dispose()})}var ba=b.adaptiveOptions,V=b.autoPlay,N=b.bufferOptions,ca=b.keySystems,da=b.startAt,ea=b.url,F=b.videoElement,W=b.speed$,fa=b.supplementaryTextTracks,ga=b.supplementaryImageTracks,T=b.timings$,ha=b.hideNativeSubtitle,O=b.errorStream,P=b.timeFragment,Q=b.withMediaSource,K=void 0===Q?!0:Q,X=b.transport,ia=N.wantedBufferAhead$,ka=N.maxBufferAhead$,ja=N.maxBufferBehind$,Y=new m.Subject,Z=new m.Subject,
ma=a.i(t.a)(X.manifest),aa=a.i(g.d)(function(c){c=ma({url:c});var b=new m.Subject;return a.i(D.a)("manifest",c,b,b,O).map(function(c){c=c.parsed;return a.i(u.a)(c.url,c.manifest,fa,ga)})}),la=Infinity>P.end,R={},U={};b=T.filter(function(a){var c=a.currentTime;a=a.duration;return 0<a&&Math.min(a,P.end)-c<E});N=a.i(c.b)(function(c){var b=c.url,d=c.mediaSource;c=d?a.i(p.e)(d):k.Observable.of(null);return k.Observable.combineLatest(aa(b),c).mergeMap(function(a){return J(d,a[0])})},{totalRetry:3,retryDelay:250,
resetDelay:6E4,shouldRetry:function(a){return!0!==a.fatal},errorSelector:function(c){a.i(r.d)(c)||(c=new r.e("NONE",c,!0));c.fatal=!0;return c},onRetry:function(a,c){d.a.warn("stream retry",a,c);O.next(a)}});return a.i(z.b)(ea,F,K,U,R).mergeMap(N).takeUntil(b)};var k=a(0);a.n(k);var m=a(6);a.n(m);var h=a(29);a.n(h);b=a(9);var l=a.n(b);b=a(4);var f=a(18),d=a(1);a(2);var c=a(65),g=a(5),n=a(154),r=a(7),q=a(8),p=a(17),u=a(113),w=a(102),t=a(115),v=a(91),x=a(119),y=a(123),z=a(120),C=a(128),A=a(117),D=a(121),
H=a(126),B=a(127),I=a(116),E=b.a.END_OF_PLAY,G=function(c){var b={};a.i(f.a)(["audio","video"],c)?b.cache=new n.a:"image"===c&&(b.maxRetry=0);return b}},function(b,e,a){e.a=function(b,f,d){var c=b.getDuration(),g=d.start,e=d.end,l=/^\d*(\.\d+)? ?%$/;if(f){c=a.i(m.e)(b);d=c[0];c=c[1];if(null!=f.position)return Math.max(Math.min(f.position,c),d);if(null!=f.wallClockTime)return Math.max(Math.min(b.isLive?f.wallClockTime-b.availabilityStartTime:f.wallClockTime,c),d);if(null!=f.fromFirstPosition)return b=
f.fromFirstPosition,0>=b?d:Math.min(d+b,c);if(null!=f.fromLastPosition)return b=f.fromLastPosition,0<=b?c:Math.max(d,c+b)}else{"string"==typeof g&&l.test(g)&&(g=parseFloat(g)/100*c);"string"==typeof e&&l.test(e)&&(d.end=parseFloat(e)/100*c);if(Infinity===e||"100%"===e)e=c;if(b.isLive){if(g)return a.i(m.b)(g,b);f=b.suggestedPresentationDelay;return a.i(m.d)(b)-(null==f?h:f)}a.i(k.a)(g<c&&e<=c,"stream: bad startTime and endTime");return g}return 0};b=a(4);var k=a(2),m=a(26),h=b.a.DEFAULT_LIVE_GAP},
function(b,e,a){a.d(e,"b",function(){return f});a.d(e,"a",function(){return l});var k=a(0);a.n(k);var m=a(1),h=a(8),l=function(a,c){var b;b=Infinity===c?Number.MAX_VALUE:c;a.duration!==b&&(a.duration=b,m.a.info("set duration",a.duration))},f=function(b,c,f,e,l){return k.Observable.create(function(d){function g(){if(k&&"closed"!=k.readyState)for(var b=k,d=b.readyState,b=b.sourceBuffers,f=0;f<b.length;f++){var g=b[f];try{"open"==d&&g.abort(),k.removeSourceBuffer(g)}catch(z){m.a.warn("error while disposing souceBuffer",
z)}}Object.keys(l).forEach(function(a){delete l[a]});Object.keys(e).forEach(function(a){var c=e[a];try{c.abort()}catch(A){m.a.warn("error while disposing souceBuffer",A)}delete e[a]});a.i(h.k)(c);if(n)try{URL.revokeObjectURL(n)}catch(z){m.a.warn("error while revoking ObjectURL",z)}n=k=null}var k=void 0,n=void 0;g();if(f){if(!h.l)throw new MediaError("MEDIA_SOURCE_NOT_SUPPORTED",null,!0);k=new h.l;n=URL.createObjectURL(k)}else k=null,n=b;c.src=n;d.next({url:b,mediaSource:k});m.a.info("create mediasource object",
n);return g})}},function(b,e,a){e.a=function(a,b,e,f,d){var c=void 0,g=void 0;return b.filter(function(b){var h=b.type;b=b.value;if("data"===h)return!0;if("error"===h)b.pipelineType=a,d.next(b);else if("manifest"!==a)if("metrics"===h)e.next({type:a,value:b});else if("request"===h){if(h=b&&b.segment,null!=h){b=h.duration/h.timescale;var l=h.time/h.timescale;g=h.id;h={duration:isNaN(b)?void 0:b,time:isNaN(l)?void 0:l,requestTimestamp:Date.now(),id:g};c=new k.Subject;f.next(c);c.next({type:a,event:"requestBegin",
value:h})}}else"progress"===h&&b.size!==b.totalSize&&(h={duration:b.duration,size:b.size,totalSize:b.totalSize,timestamp:Date.now(),id:g},c.next({type:a,event:"progress",value:h}))}).map(function(a){return a.value})["finally"](function(){c&&(null!=g&&c.next({type:a,event:"requestEnd",value:{id:g}}),c.complete())}).share()};var k=a(6);a.n(k)},function(b,e,a){function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=
Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var e=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?this:e}k(b,a);b.prototype._append=function(){this.buffered.insert(0,
Number.MAX_VALUE)};return b}(a(56).a);e.a=b},function(b,e,a){a.d(e,"c",function(){return l});a.d(e,"d",function(){return f});a.d(e,"b",function(){return d});a.d(e,"a",function(){return c});var k=a(1),m=a(124),h=a(122),l=function(a){return"audio"==a||"video"==a},f=function(a,c,b,d){d[c]||(k.a.info("add sourcebuffer",b),d[c]=a.addSourceBuffer(b));return d[c]},d=function(a,c,b,d,e,u){var g=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{};if(l(b))g=f(c,b,d,e);else{var n=u[b];if(n)try{n.abort()}catch(v){k.a.warn(v)}finally{delete u[b]}if("text"==
b)k.a.info("add text sourcebuffer",d),g=new m.a(a,d,g.hideNativeSubtitle);else if("image"==b)k.a.info("add image sourcebuffer",d),g=new h.a(d);else throw k.a.error("unknown buffer type "+b),new MediaError("BUFFER_TYPE_UNKNOWN",null,!0);u[b]=g}return g},c=function(a,c,b,d,f){var g=l(b);g?(a=d[b],delete d[b]):(a=f[b],delete f[b]);if(a)try{a.abort(),g&&c.removeSourceBuffer(a)}catch(w){k.a.warn(w)}}},function(b,e,a){function k(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=a(56);var m=a(8),h=a(1),l=window.VTTCue||window.TextTrackCue;b=function(b){function d(c,f,e){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var g;g=b.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");g=!g||"object"!==typeof g&&
"function"!==typeof g?this:g;g.video=c;g.codec=f;g.isVTT=/^text\/vtt/.test(f);c=a.i(m.n)(c,e);f=c.trackElement;g.track=c.track;g.trackElement=f;return g}k(d,b);d.prototype.createCuesFromArray=function(a){for(var c=[],b=0;b<a.length;b++){var d=a[b],f=d.start,e=d.end;(d=d.text)&&c.push(new l(f,e,d))}return c};d.prototype._append=function(c){var b=this;if(this.isVTT)a.i(m.o)()&&this.trackElement?(c=new Blob([c],{type:"text/vtt"}),c=URL.createObjectURL(c),this.trackElement.src=c,this.buffered.insert(0,
Number.MAX_VALUE)):h.a.warn("vtt subtitles not supported");else if(c=this.createCuesFromArray(c),0<c.length){var d=c[0],f=c[c.length-1],e=this.track.cues;0<e.length&&d.startTime<e[e.length-1].startTime&&this._remove(d.startTime,Infinity);c.forEach(function(a){return b.track.addCue(a)});this.buffered.insert(d.startTime,f.endTime)}};d.prototype._remove=function(a,b){for(var c=this.track,d=c.cues,f=d.length-1;0<=f;f--){var g=d[f],e=g.startTime,h=g.endTime;e>=a&&e<=b&&h<=b&&c.removeCue(g)}this.buffered.remove(a,
b)};d.prototype._abort=function(){var a=this.trackElement,b=this.video;a&&b&&b.hasChildNodes(a)&&b.removeChild(a);this.track.mode="disabled";this.size=0;this.video=this.track=this.trackElement=null};return d}(b.a);e.a=b},function(b,e,a){a(2);var k=a(10);b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._ranges=[];this.length=0}b.prototype.insert=function(b,e){a.i(k.e)(this._ranges,{start:b,end:e});this.length=this._ranges.length};b.prototype.remove=
function(b,e){a.i(k.f)(this._ranges,[{start:0,end:b},{start:e,end:Infinity}]);this.length=this._ranges.length};b.prototype.start=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");return this._ranges[a].start};b.prototype.end=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");return this._ranges[a].end};return b}();e.a=b},function(b,e,a){var k=a(0);a.n(k);var m=a(1);e.a=function(a,b,f,d){d=d.pauseWhenStalled;var c=void 0,c=void 0===d||d?f.pairwise().map(function(a){var c=
a[1].stalled;a=a[0].stalled;if(!a!==!c||a&&c&&a.state!==c.state)return!a}).filter(function(a){return null!=a}).startWith(!1):k.Observable.of(!1).concat(k.Observable.never());return c.switchMap(function(c){return c?k.Observable.defer(function(){m.a.info("pause playback to build buffer");a.playbackRate=0;return k.Observable.of(0)}):b["do"](function(c){m.a.info("resume playback speed",c);a.playbackRate=c})})}},function(b,e,a){b=a(4);var k=a(1),m=a(10),h=a(8),l=b.a.DISCONTINUITY_THRESHOLD;e.a=function(b,
d,c){return c["do"](function(c){if(c.stalled){var d=c.buffered,f=c.currentTime,d=a.i(m.d)(d,f);a.i(h.m)(c)?(k.a.warn("after freeze seek",f,c.range),b.currentTime=f):d<l&&(c=f+d+1/60,k.a.warn("discontinuity seek",f,d,c),b.currentTime=c)}}).share().map(function(a){return a.stalled}).distinctUntilChanged(function(a,c){return!a&&!c||a&&c&&a.state===c.state})}},function(b,e,a){function k(a){return a.filter(function(a){return"seeking"==a.state&&(Infinity===a.bufferGap||-2>a.bufferGap)}).skip(1).startWith(!0)}
b=a(9);var m=a.n(b),h=a(26);e.a=function(b,f,d,c){f=f.map(function(f){var g;d?(g=m()({},f),g.currentTime=Math.min(f.currentTime,c.end),g.duration=Math.min(f.duration,c.end)):g=f;g.liveGap=b.isLive?a.i(h.d)(b)-f.currentTime:Infinity;return g});var g=k(f);return{timings:f,seekings:g}}},function(b,e,a){b.exports=a(83)["default"]},function(b,e,a){b=a(9);var k=a.n(b);b=a(21);var m=a.n(b),h=a(137),l=a(39);b=function(){function b(){var d=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof
b))throw new TypeError("Cannot call a class as a function");var f=a.i(l.a)();this.id=null==c.id?f:""+c.id;this.type=c.type||"";this.representations=Array.isArray(c.representations)?c.representations.map(function(a){return new h.a(k()({rootId:d.id},a))}).sort(function(a,c){return a.bitrate-c.bitrate}):[];null!=c.language?this.language=c.language:null!=c.language&&(this.language=c.language);null!=c.closedCaption&&(this.isClosedCaption=c.closedCaption);null!=c.audioDescription&&(this.isAudioDescription=
c.audioDescription);null!=c.contentProtection&&(this.contentProtection=c.contentProtection);null!=c.smoothProtection&&(this._smoothProtection=c.smoothProtection);this.manual=c.manual}b.prototype.getAvailableBitrates=function(){return this.representations.map(function(a){return a.bitrate})};b.prototype.getRepresentation=function(a){return m()(this.representations,function(c){return a===c.id})};b.prototype.getRepresentationsForBitrate=function(a){return this.representations.filter(function(c){return c.bitrate===
a})||null};return b}();e.a=b},function(b,e,a){b=a(21);var k=a.n(b),m=a(130),h=a(39);b=function(){function b(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var d=a.i(h.a)();this.id=null==f.id?d:""+f.id;this.transport=f.transportType||"";this.adaptations=f.adaptations?Object.keys(f.adaptations).reduce(function(a,b){a[b]=f.adaptations[b].map(function(a){return new m.a(a)});return a},{}):[];this.periods=
[{adaptations:this.adaptations}];this.isLive="dynamic"===f.type;this.uris=f.locations||[];this._duration=f.duration;this.suggestedPresentationDelay=f.suggestedPresentationDelay;this.availabilityStartTime=f.availabilityStartTime;this.presentationLiveGap=f.presentationLiveGap;this.timeShiftBufferDepth=f.timeShiftBufferDepth}b.prototype.getDuration=function(){return this._duration};b.prototype.getUrl=function(){return this.uris[0]};b.prototype.getAdaptations=function(){var a=this.adaptations;if(!a)return[];
var b=[],c;for(c in a)b.push.apply(b,a[c]);return b};b.prototype.getAdaptation=function(a){return k()(this.getAdaptations(),function(b){return a===b.id})};b.prototype.updateLiveGap=function(a){this.isLive&&(this.presentationLiveGap+=a)};return b}();e.a=b},function(b,e,a){b=a(9);b=a.n(b);var k=a(36);a=a(22);e.a=b()({},k.a,{getInitSegment:a.a,setTimescale:a.b,scale:a.c,_addSegmentInfos:function(a,b){if(b.timescale!==a.timescale){var e=a.timescale;a.timeline.push({ts:b.time/b.timescale*e,d:b.duration/
b.timescale*e,r:b.count,range:b.range})}else a.timeline.push({ts:b.time,d:b.duration,r:b.count,range:b.range});return!0},shouldRefresh:function(){return!1}})},function(b,e,a){a.d(e,"a",function(){return d});var k=a(36),m=a(134),h=a(136),l=a(135),f=a(132),d=function(a){switch(a.indexType){case "timeline":return k.a;case "list":return m.a;case "template":return h.a;case "smooth":return l.a;case "base":return f.a;default:return k.a}}},function(b,e,a){var k=a(25),m=a(22);e.a={getInitSegment:m.a,setTimescale:m.b,
scale:m.c,getSegments:function(b,e,f,d){var c=a.i(m.e)(e,f,d);f=e.duration;d=e.list;e=e.timescale;for(var g=Math.min(d.length-1,Math.floor(c.to/f)),h=[],c=Math.floor(c.up/f);c<=g;)h.push(new k.a({id:""+b+"_"+c,time:c*f,init:!1,range:d[c].range,duration:f,indexRange:null,timescale:e,media:d[c].media})),c++;return h},getFirstPosition:function(){return 0},getLastPosition:function(a){return a.list.length*a.duration/a.timescale},shouldRefresh:function(a,b,f,d){b=a.list;f=a.presentationTimeOffset;a=Math.floor((d*
a.timescale-(void 0===f?0:f))/a.duration);return!(0<=a&&a<b.length)},_addSegmentInfos:function(){return!1},checkDiscontinuity:function(){return-1}}},function(b,e,a){b=a(36);var k=a(22);e.a={getSegments:b.a.getSegments,getInitSegment:k.a,checkDiscontinuity:b.a.checkDiscontinuity,_addSegmentInfos:b.a._addSegmentInfos,setTimescale:k.b,scale:k.c,shouldRefresh:function(b,e,l,f){var d=b.timeline;l=b.timescale;b=b.presentationTimeOffset;b=void 0===b?0:b;e=e*l-b;d=d[d.length-1];if(!d)return!1;0>d.d&&(d={ts:d.ts,
d:0,r:d.r});d=a.i(k.d)(d);return 1>=(d-e)/l&&f*l-b>d},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(b){if(b.timeline.length){var e=b.timeline[b.timeline.length-1];return a.i(k.d)(e)/b.timescale}}}},function(b,e,a){var k=a(25),m=a(22);e.a={getInitSegment:m.a,setTimescale:m.b,scale:m.c,getSegments:function(b,e,f,d){var c=a.i(m.e)(e,f,d);f=c.to;d=e.duration;var g=e.startNumber,h=e.timescale;e=e.media;for(var l=[],c=c.up;c<=f;c+=d){var q=
Math.floor(c/d)+(null==g?1:g);l.push(new k.a({id:""+b+"_"+q,number:q,time:q*d,init:!1,duration:d,range:null,indexRange:null,timescale:h,media:e}))}return l},getFirstPosition:function(){},getLastPosition:function(){},shouldRefresh:function(){return!1},checkDiscontinuity:function(){return-1},_addSegmentInfos:function(){return!1}}},function(b,e,a){var k=a(39),m=a(138);e.a=function l(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");
var d=a.i(k.a)();this.id=null==b.id?d:b.id;this.bitrate=b.bitrate;this.codec=b.codecs;null!=b.height&&(this.height=b.height);null!=b.width&&(this.width=b.width);null!=b.mimeType&&(this.mimeType=b.mimeType);this.index=new m.a({index:b.index,rootId:this.id});this.baseURL=b.baseURL;null!=b.codecPrivateData&&(this._codecPrivateData=b.codecPrivateData);null!=b.channels&&(this._channels=b.channels);null!=b.bitsPerSample&&(this._bitsPerSample=b.bitsPerSample);null!=b.packetSize&&(this._packetSize=b.packetSize);
null!=b.samplingRate&&(this._samplingRate=b.samplingRate)}},function(b,e,a){var k=a(133);b=function(){function b(e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._index=e.index;this._rootId=e.rootId;this._indexHelpers=a.i(k.a)(this._index)}b.prototype.getInitSegment=function(){return this._indexHelpers.getInitSegment(this._rootId,this._index)};b.prototype.getSegments=function(a,b){return this._indexHelpers.getSegments(this._rootId,this._index,a,b)};b.prototype.shouldRefresh=
function(a,b,f){return this._indexHelpers.shouldRefresh(this._index,a,b,f)};b.prototype.getFirstPosition=function(){return this._indexHelpers.getFirstPosition(this._index)};b.prototype.getLastPosition=function(){return this._indexHelpers.getLastPosition(this._index)};b.prototype.checkDiscontinuity=function(a){return this._indexHelpers.checkDiscontinuity(this._index,a)};b.prototype.scale=function(a){return this._indexHelpers.scale(this._index,a)};b.prototype.setTimescale=function(a){return this._indexHelpers.setTimescale(this._index,
a)};b.prototype._addSegments=function(a,b){for(var f=[],d=0;d<a.length;d++)this._indexHelpers._addSegmentInfos(this._index,a[d],b)&&f.push(a[d]);return f};b.prototype.update=function(a){this._index=a._index};b.prototype.getType=function(){return this._index.indexType||""};return b}();e.a=b},function(b,e,a){b=a(149);var k=a(141);a=a(148);e.a={smooth:b.a,dash:k.a,directfile:a.a}},function(b,e,a){function k(a){return a.replace(f,"\n").replace(l,function(a,c){return String.fromCharCode(c)})}function m(b,
f){var e=/<sync[ >]/ig,l=/<sync[ >]|<\/body>/ig,m=[],n=b.match(d)[1],r,v;l.exec(b);r=/\.(\S+)\s*{([^}]*)}/gi;v={};for(var x;x=r.exec(n);){var y=x[1];x=x[2].match(/\s*lang:\s*(\S+);/i)[1];y&&x&&(v[x]=y)}n=v[f];for(a.i(h.a)(n,"sami: could not find lang "+f+" in CSS");;){r=e.exec(b);v=l.exec(b);if(!r&&!v)break;if(!r||!v||r.index>=v.index)throw Error("parse error");v=b.slice(r.index,v.index);r=v.match(g);if(!r)throw Error("parse error (sync time attribute)");y=+r[1];if(isNaN(y))throw Error("parse error (sync time attribute NaN)");
r=m;v=v.split("\n");y/=1E3;x=v.length;for(var z;0<=--x;)if(z=v[x].match(c)){var C=z[2];n===z[1]&&("&nbsp;"===C?r[r.length-1].end=y:r.push({text:k(C),start:y}))}}return m}a.d(e,"a",function(){return m});var h=a(2),l=/&#([0-9]+);/g,f=/<br>/gi,d=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,c=/\s*<p class=([^>]+)>(.*)/i,g=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i},function(b,e,a){var k=a(0);a.n(k);var m=a(1),h=a(19),l=a(12),f=a(37),d=a(58),c=a(57),g=a(145),n=a(142),r=a(60),q=a(61),p=a(147);e.a=function(){var b=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=a.i(p.a)(b.segmentLoader),t=b.contentProtectionParser;t||(t=function(){});b={loader:function(a){return e({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(c){var b=c.segment,d=c.adaptation,g=c.init;c=new Uint8Array(c.response.responseData);var e=void 0,l=c,h=b.indexRange;(h=a.i(f.a)(c,h?h[0]:0))&&(e=h);b.isInit?(b={time:-1,duration:0},g=a.i(f.b)(c),0<g&&(b.timescale=g),d.contentProtection&&
(l=a.i(f.c)(c,d.contentProtection))):b=a.i(n.a)(b,c,h,g);return k.Observable.of({segmentData:l,segmentInfos:b,nextSegments:e})}};return{directFile:!1,manifest:{loader:function(c){c=c.url;return a.i(r.a)({url:c,responseType:"document"})},parser:function(c){c=c.response;var b=c.responseData;return k.Observable.of({manifest:a.i(g.a)(b,t),url:c.url})}},audio:b,video:b,text:{loader:function(c){var b=c.segment,d=c.representation,f=b.media,g=b.range;c=b.indexRange;var e=b.isInit,l=0<=a.i(q.a)(d)?"arraybuffer":
"text";if(e&&!(f||g||c))return k.Observable.empty();b=f?a.i(q.b)(f,b,d):"";b=a.i(h.b)(d.baseURL,b);if(g&&c&&g[1]===c[0]-1)return a.i(r.a)({url:b,responseType:l,headers:{Range:a.i(q.c)([g[0],c[1]])}});g=a.i(r.a)({url:b,responseType:l,headers:g?{Range:a.i(q.c)(g)}:null});return c?(c=a.i(r.a)({url:b,responseType:l,headers:{Range:a.i(q.c)(c)}}),k.Observable.merge(g,c)):g},parser:function(c){var b=c.response,g=c.segment,e=c.representation,h=c.init,r=c.adaptation.language,p=g.isInit,t=g.indexRange,u,v=
c=void 0,w=[],G=a.i(q.a)(e);G?(u=new Uint8Array(b.responseData),b=a.i(l.a)(a.i(f.d)(u)),(t=a.i(f.a)(u,t?t[0]:0))&&(c=t),p||(v=a.i(n.a)(g,u,t,h))):u=b=b.responseData;if(p)v={time:-1,duration:0},G&&(g=a.i(f.b)(u),0<g&&(v.timescale=g));else switch(g=e.codec,(void 0===g?"":g).toLowerCase()){case "stpp":w=a.i(d.a)(b,r,0);break;default:m.a.warn("The codec used for the subtitle is not managed yet.")}return k.Observable.of({segmentData:w,segmentInfos:v,nextSegments:c})}},image:{loader:function(c){var b=c.segment;
c=c.representation;if(b.isInit)return k.Observable.empty();var d=b.media,b=d?a.i(q.b)(d,b,c):"",b=a.i(h.b)(c.baseURL,b);return a.i(r.a)({url:b,responseType:"arraybuffer"})},parser:function(b){var d=new Uint8Array(b.response.responseData);b={time:0,duration:Number.MAX_VALUE};var f=void 0;d&&(d=a.i(c.a)(d),f=d.thumbs,b.timescale=d.timescale);return k.Observable.of({segmentData:f,segmentInfos:b})}}}}},function(b,e,a){a(2);var k=a(37);e.a=function(b,e,l,f){l||(l=[]);var d=void 0,c=void 0,g=a.i(k.e)(e),
h=a.i(k.f)(e);f=f&&0<f.timescale?f.timescale:b.timescale;var m;f===b.timescale?(e=Math.min(.9*f,b.duration/4),m=b.time,b=b.duration):(e=Math.min(.9*f,b.duration/b.timescale*f/4),m=b.time/b.timescale*f,b=b.duration/b.timescale*f);0<=g&&Math.abs(g-m)<=e&&(d=g);0<=h&&Math.abs(h-b)<=e&&(c=h);null==d&&(1===l.length?(d=l[0].time,0<=d&&Math.abs(m-d)<=e?(g=l[0].timescale,d=null!=g&&g!==f?d/g*f:d):d=m):d=m);null==c&&(1===l.length?(c=l[0].duration,0<=c&&Math.abs(b-c)<=e?(l=l[0].timescale,c=null!=l&&l!==f?c/
l*f:c):c=b):c=b);return{timescale:f,time:d||0,duration:c||0}}},function(b,e,a){b=a(4);var k=a(2),m=a(28),h=a(59),l=[{k:"profiles",fn:h.g},{k:"width",fn:parseInt},{k:"height",fn:parseInt},{k:"frameRate",fn:h.h},{k:"audioSamplingRate",fn:h.g},{k:"mimeType",fn:h.g},{k:"segmentProfiles",fn:h.g},{k:"codecs",fn:h.g},{k:"maximumSAPPeriod",fn:parseFloat},{k:"maxPlayoutRate",fn:parseFloat},{k:"codingDependency",fn:h.i}],f=[{k:"timescale",fn:parseInt,def:1},{k:"timeShiftBufferDepth",fn:h.j},{k:"presentationTimeOffset",
fn:parseFloat,def:0},{k:"indexRange",fn:h.f},{k:"indexRangeExact",fn:h.i,def:!1},{k:"availabilityTimeOffset",fn:parseFloat},{k:"availabilityTimeComplete",fn:h.i,def:!0}],d=f.concat([{k:"duration",fn:parseInt},{k:"startNumber",fn:parseInt}]),c={ContentProtection:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:h.g}],SegmentURL:[{k:"media",fn:h.g},{k:"mediaRange",fn:h.f},{k:"index",fn:h.g},{k:"indexRange",fn:h.f}],S:[{k:"t",fn:parseInt,n:"ts"},{k:"d",fn:parseInt},{k:"r",fn:parseInt}],SegmentTimeline:[],SegmentBase:f,
SegmentTemplate:d.concat([{k:"initialization",fn:function(a){return{media:a,range:void 0}}},{k:"index",fn:h.g},{k:"media",fn:h.g},{k:"bitstreamSwitching",fn:h.g}]),SegmentList:d,ContentComponent:[{k:"id",fn:h.g},{k:"lang",fn:m.a,n:"language"},{k:"contentType",fn:h.g},{k:"par",fn:h.k}],Representation:l.concat([{k:"id",fn:h.g},{k:"bandwidth",fn:parseInt,n:"bitrate"},{k:"qualityRanking",fn:parseInt}]),AdaptationSet:l.concat([{k:"id",fn:h.g},{k:"group",fn:parseInt},{k:"lang",fn:m.a,n:"language"},{k:"contentType",
fn:h.g},{k:"par",fn:h.k},{k:"minBandwidth",fn:parseInt,n:"minBitrate"},{k:"maxBandwidth",fn:parseInt,n:"maxBitrate"},{k:"minWidth",fn:parseInt},{k:"maxWidth",fn:parseInt},{k:"minHeight",fn:parseInt},{k:"maxHeight",fn:parseInt},{k:"minFrameRate",fn:h.h},{k:"maxFrameRate",fn:h.h},{k:"segmentAlignment",fn:h.l},{k:"subsegmentAlignment",fn:h.l},{k:"bitstreamSwitching",fn:h.i}]),Period:[{k:"id",fn:h.g},{k:"start",fn:h.j},{k:"duration",fn:h.j},{k:"bitstreamSwitching",fn:h.i}],MPD:[{k:"id",fn:h.g},{k:"profiles",
fn:h.g},{k:"type",fn:h.g,def:"static"},{k:"availabilityStartTime",fn:h.m},{k:"availabilityEndTime",fn:h.m},{k:"publishTime",fn:h.m},{k:"mediaPresentationDuration",fn:h.j,n:"duration"},{k:"minimumUpdatePeriod",fn:h.j},{k:"minBufferTime",fn:h.j},{k:"timeShiftBufferDepth",fn:h.j},{k:"suggestedPresentationDelay",fn:h.j,def:b.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.DASH},{k:"maxSegmentDuration",fn:h.j},{k:"maxSubsegmentDuration",fn:h.j}],Role:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:h.g}],Accessibility:[{k:"schemeIdUri",
fn:h.g},{k:"value",fn:parseInt}]};e.a=function(b,d){var f=c[b.nodeName];a.i(k.a)(f,"no attributes for "+b.nodeName);for(var g=d||{},e=0;e<f.length;e++){var l=f[e],h=l.k,m=l.fn,n=l.n,l=l.def;b.hasAttribute(h)?g[n||h]=m(b.getAttribute(h)):null!=l&&(g[n||h]=l)}return g}},function(b,e,a){a.d(e,"a",function(){return k});a.d(e,"b",function(){return m});a.d(e,"c",function(){return h});a.d(e,"d",function(){return l});b=function(a){return function(b){return a.reduce(function(a,d){b.hasOwnProperty(d)&&(a[d]=
b[d]);return a},{})}};var k=b("availabilityStartTime baseURL duration id locations periods presentationLiveGap suggestedPresentationDelay timeShiftBufferDepth transportType type".split(" ")),m=b(["adaptations","baseURL","duration","id","start"]),h=b("contentProtection accessibility baseURL contentProtection id language representations type".split(" ")),l=b("bitrate baseURL codecs height id index mimeType width".split(" "))},function(b,e,a){function k(a,b){return"string"==typeof a?k.parseFromString(a,
b):k.parseFromDocument(a,b)}var m=a(2),h=a(146);k.parseFromString=function(a,b){return k.parseFromDocument((new DOMParser).parseFromString(a,"application/xml"),b)};k.parseFromDocument=function(b,f){var d=b.documentElement;m.a.equal(d.nodeName,"MPD","document root should be MPD");return a.i(h.a)(d,f)};e.a=k},function(b,e,a){function k(c,b){var d=a.i(q.a)(c,function(a,c,d){switch(c){case "BaseURL":a.baseURL=d.textContent;break;case "Location":a.locations.push(d.textContent);break;case "Period":a.periods.push(m(d,
b))}return a},{transportType:"dash",periods:[],locations:[]}),d=a.i(u.a)(c,d);if(/dynamic/.test(d.type)){var f=d.periods[0].adaptations.filter(function(a){return"video"==a.type})[0],f=a.i(q.b)(f);f||(r.a.warn("Live edge not deduced from manifest, setting a default one"),f=Date.now()/1E3-60);d.availabilityStartTime=d.availabilityStartTime.getTime()/1E3;d.presentationLiveGap=Date.now()/1E3-(f+d.availabilityStartTime)}return a.i(p.a)(d)}function m(c,b){var d=a.i(u.a)(c,a.i(q.a)(c,function(a,c,d){switch(c){case "BaseURL":a.baseURL=
d.textContent;break;case "AdaptationSet":c=h(d,b),null==c.id&&(c.id=a.adaptations.length),a.adaptations.push(c)}return a},{adaptations:[]}));return a.i(p.b)(d)}function h(b,g){var e=void 0,h=a.i(q.a)(b,function(b,h,k){switch(h){case "Accessibility":e=a.i(u.a)(k);break;case "BaseURL":b.baseURL=k.textContent;break;case "ContentComponent":h=a.i(u.a)(k);b.contentComponent=h;break;case "ContentProtection":h=g(a.i(u.a)(k),k);b.contentProtection=h;break;case "Representation":h=l(k);null==h.id&&(h.id=b.representations.length);
b.representations.push(h);break;case "Role":h=a.i(u.a)(k);b.role=h;break;case "SegmentBase":b.index=c(k);break;case "SegmentList":b.index=d(k);break;case "SegmentTemplate":b.index=f(k)}return b},{representations:[]}),k=a.i(u.a)(b,h);k.type=a.i(q.c)(k);k.accessibility=[];a.i(q.d)(e)&&k.accessibility.push("hardOfHearing");a.i(q.e)(e)&&k.accessibility.push("visuallyImpaired");k.representations=k.representations.map(function(a){w.forEach(function(c){!a.hasOwnProperty(c)&&k.hasOwnProperty(c)&&(a[c]=k[c])});
return a});return a.i(p.c)(k)}function l(b){var e=a.i(q.a)(b,function(a,b,e){switch(b){case "BaseURL":a.baseURL=e.textContent;break;case "SegmentBase":a.index=c(e);break;case "SegmentList":a.index=d(e);break;case "SegmentTemplate":a.index=f(e)}return a},{});b=a.i(u.a)(b,e);return a.i(p.d)(b)}function f(a){a=g(a);a.indexType||(a.indexType="template");return a}function d(c){var b=g(c);b.list=[];b.indexType="list";return a.i(q.a)(c,function(c,b,d){"SegmentURL"==b&&c.list.push(a.i(u.a)(d));return c},
b)}function c(c){var b=a.i(q.a)(c,function(c,b,d){if("Initialization"==b){var f=b=void 0;d.hasAttribute("range")&&(b=a.i(q.f)(d.getAttribute("range")));d.hasAttribute("sourceURL")&&(f=d.getAttribute("sourceURL"));c.initialization={range:b,media:f}}return c},a.i(u.a)(c));"SegmentBase"==c.nodeName&&(b.indexType="base",b.timeline=[]);return b}function g(b){return a.i(q.a)(b,function(a,c,b){"SegmentTimeline"==c&&(a.indexType="timeline",a.timeline=n(b));return a},c(b))}function n(c){return a.i(q.a)(c,
function(c,b,d){b=c.length;d=a.i(u.a)(d);null==d.ts&&(b=0<b&&c[b-1],d.ts=b?b.ts+b.d*(b.r+1):0);null==d.r&&(d.r=0);c.push(d);return c},[])}a.d(e,"a",function(){return k});var r=a(1);a(2);var q=a(59),p=a(144),u=a(143),w=["codecs","height","index","mimeType","width"]},function(b,e,a){function k(b){var c=b.url;b=b.segment;var d=b.range;b=b.indexRange;if(d&&b&&d[1]===b[0]-1)return a.i(l.a)({url:c,responseType:"arraybuffer",headers:{Range:a.i(f.c)([d[0],b[1]])}});d=d?{Range:a.i(f.c)(d)}:null;d=a.i(l.a)({url:c,
responseType:"arraybuffer",headers:d});return b?(c=a.i(l.a)({url:c,responseType:"arraybuffer",headers:{Range:a.i(f.c)(b)}}),m.Observable.merge(d,c)):d}var m=a(0);a.n(m);var h=a(19),l=a(60),f=a(61);e.a=function(b){return function(c){var d=c.segment,e=c.adaptation,l=c.representation;c=c.manifest;var q=d.media,p=d.range,u=d.indexRange;if(d.isInit&&!(q||p||u))return m.Observable.empty();var q=q?a.i(f.b)(q,d,l):"",q=a.i(h.b)(l.baseURL,q),w={adaptation:e,representation:l,manifest:c,segment:d,transport:"dash",
url:q};return b?m.Observable.create(function(a){var c=!1,d=!1,f=b(w,{reject:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.error(b))},resolve:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.next({responseData:b.data,size:b.size||0,duration:b.duration||0}),a.complete())},fallback:function(){d=!0;k(w).subscribe(a)}});return function(){c||d||"function"!==typeof f||f()}}):k(w)}}},function(b,e,a){var k=a(0);a.n(k);e.a={directFile:!0,
manifest:{parser:function(a){a=a.url;return k.Observable.of({manifest:{transportType:"directfile",locations:[a],periods:[],isLive:!1,duration:Infinity,adaptations:null},url:a})}}}},function(b,e,a){var k=a(0);a.n(k);var m=a(12),h=a(19),l=a(40),f=a(151),d=a(57);b=a(140);var c=a(58),g=a(38),n=a(62),r=a(63),q=a(150),p=a(152),u=g.a.patchSegment,w=g.a.getMdat,t={"application/x-sami":b.a,"application/smil":b.a,"application/ttml+xml":c.a,"application/ttml+xml+mp4":c.a,"text/vtt":function(a){return a}},v=
/\.wsx?(\?token=\S+)?/;e.a=function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.i(f.a)(c),e=a.i(p.a)(c.segmentLoader),c={loader:function(a){return e({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(c){var b=c.segment,d=c.manifest;c=c.response.responseData;if(b.isInit)return k.Observable.of({segmentData:c,segmentInfos:{timescale:b.timescale,time:-1,duration:0}});c=new Uint8Array(c);d=a.i(q.a)(c,b,d.isLive);b=
d.nextSegments;d=d.segmentInfos;c=u(c,d.time);return k.Observable.of({segmentData:c,segmentInfos:d,nextSegments:b})}};return{directFile:!1,manifest:{resolver:function(c){c=c.url;var b=void 0,d=a.i(r.a)(c),b=v.test(c)?a.i(l.a)({url:a.i(r.b)(c,""),responseType:"document",ignoreProgressEvents:!0}).map(function(a){return a.value}).map(r.c):k.Observable.of(c);return b.map(function(c){return{url:a.i(r.b)(a.i(r.d)(c),d)}})},loader:function(c){c=c.url;return a.i(n.a)({url:c,responseType:"document"})},parser:function(a){a=
a.response;var c=b(a.responseData);return k.Observable.of({manifest:c,url:a.url})}},audio:c,video:c,text:{loader:function(c){var b=c.segment,d=c.representation;if(b.isInit)return k.Observable.empty();c=d.mimeType;var f=a.i(h.b)(d.baseURL),b=a.i(r.e)(f,d,b);return 0<=c.indexOf("mp4")?a.i(n.a)({url:b,responseType:"arraybuffer"}):a.i(n.a)({url:b,responseType:"text"})},parser:function(c){var b=c.response,d=c.segment,f=c.manifest,e=c.adaptation.language,g=c.representation.mimeType;c=t[g];if(!c)throw Error("could not find a text-track parser for the type "+
g);var h=b.responseData;0<=g.indexOf("mp4")?(h=new Uint8Array(h),b=a.i(m.a)(w(h))):b=h;g=a.i(q.a)(h,d,f.isLive);f=g.nextSegments;g=g.segmentInfos;d=c(b,e,d.time/d.timescale);return k.Observable.of({segmentData:d,segmentInfos:g,nextSegments:f})}},image:{loader:function(c){var b=c.segment;c=c.representation;if(b.isInit)return k.Observable.empty();var d=a.i(h.b)(c.baseURL),b=a.i(r.e)(d,c,b);return a.i(n.a)({url:b,responseType:"arraybuffer"})},parser:function(c){var b=new Uint8Array(c.response.responseData);
c={time:0,duration:Number.MAX_VALUE};var f=void 0;b&&(b=a.i(d.a)(b),f=b.thumbs,c.timescale=b.timescale);return k.Observable.of({segmentData:f,segmentInfos:c})}}}}},function(b,e,a){var k=a(1),m=a(37);b=a(38);var h=b.a.getTraf,l=b.a.parseTfrf,f=b.a.parseTfxd;e.a=function(b,c,e){var d=void 0,g=void 0;e?(e=h(b))?(d=l(e),g=f(e)):k.a.warn("smooth: could not find traf atom"):d=null;g||(g=Math.min(.9*c.timescale,c.duration/4),b=a.i(m.f)(b),g=0<=b&&Math.abs(b-c.duration)<=g?{time:c.time,duration:b}:{time:c.time,
duration:c.duration});if(d)for(b=d.length-1;0<=b;b--)d[b].timescale=c.timescale;g&&(g.timescale=c.timescale);return{nextSegments:d,segmentInfos:g}}},function(b,e,a){function k(a){return"boolean"==typeof a?a:"string"==typeof a?"TRUE"===a.toUpperCase():!1}function m(a){if(!a)return Infinity;a=a.index;var c=a.timeline[a.timeline.length-1];return(c.ts+(c.r+1)*c.d)/a.timescale}function h(c){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:a.i(d.i)([8,1,18,16],c)}]}var l=a(18),f=a(4),
d=a(12),c=a(2),g=a(28),n={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},r={audio:"mp4a.40.2",video:"avc1.4D401E"};b={AACL:"audio/mp4",AVC1:"video/mp4",H264:"video/mp4",TTML:"application/ttml+xml+mp4"};var q={audio:[["Bitrate","bitrate",parseInt],["AudioTag","audiotag",parseInt],["FourCC","mimeType",b],["Channels","channels",parseInt],["SamplingRate","samplingRate",parseInt],["BitsPerSample","bitsPerSample",parseInt],["PacketSize","packetSize",parseInt],["CodecPrivateData","codecPrivateData",
String]],video:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b],["CodecPrivateData","codecs",function(a){return(a=(/00000001\d7([0-9a-fA-F]{6})/.exec(a)||[])[1])?"avc1."+a:""}],["MaxWidth","width",parseInt],["MaxHeight","height",parseInt],["CodecPrivateData","codecPrivateData",String]],text:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b]]};e.a=function(){function b(a,c,b){for(a=a.firstElementChild;a;)b=c(b,a.nodeName,a),a=a.nextElementSibling;return b}function e(d,f){d.hasAttribute("Timescale")&&
(f=+d.getAttribute("Timescale"));var e=d.getAttribute("Type"),h=d.getAttribute("Subtype"),l=d.getAttribute("Name"),k=a.i(g.a)(d.getAttribute("Language")),m=d.getAttribute("Url"),p=q[e],u=[];a.i(c.a)(p,"unrecognized QualityLevel type "+e);var t=0,v=b(d,function(a,c,b){switch(c){case "QualityLevel":c={};for(var d=0;d<p.length;d++){var f=p[d],g=f[0],h=f[2];c[f[1]]="function"==typeof h?h(b.getAttribute(g)):h[b.getAttribute(g)]}"audio"==e&&(b=b.getAttribute("FourCC")||"",d=c.codecPrivateData,b="AACH"==
b?5:d?(parseInt(d.substr(0,2),16)&248)>>3:2,c.codecs=b?"mp4a.40."+b:"");if("video"!=e||c.bitrate>C)c.id=t++,a.representations.push(c);break;case "c":c=a.index;var d=a.index.timeline,f=d.length,g=0<f?d[f-1]:{d:0,ts:0,r:0},h=+b.getAttribute("d"),l=b.getAttribute("t");(b=+b.getAttribute("r"))&&b--;0<f&&!g.d&&(g.d=l-g.ts,d[f-1]=g);0<f&&h==g.d&&null==l?g.r+=(b||0)+1:d.push({d:h,ts:null==l?g.ts+g.d*(g.r+1):+l,r:b});c.timeline=d}return a},{representations:[],index:{timeline:[],indexType:"smooth",timescale:f,
initialization:{}}}),w=v.representations,v=v.index;a.i(c.a)(w.length,"adaptation should have at least one representation");w.forEach(function(a){return a.codecs=a.codecs||r[e]});w.forEach(function(a){return a.mimeType=a.mimeType||n[e]});if("ADVT"==h)return null;"text"===e&&"DESC"===h&&u.push("hardOfHearing");return{type:e,accessibility:u,index:v,representations:w,name:l,language:k,baseURL:m}}function w(a){return t((new DOMParser).parseFromString(a,"application/xml"))}function t(f){f=f.documentElement;
c.a.equal(f.nodeName,"SmoothStreamingMedia","document root should be SmoothStreamingMedia");a.i(c.a)(/^[2]-[0-2]$/.test(f.getAttribute("MajorVersion")+"-"+f.getAttribute("MinorVersion")),"Version should be 2.0, 2.1 or 2.2");var g=+f.getAttribute("Timescale")||1E7,h=[],n=b(f,function(b,f,k){switch(f){case "Protection":k=k.firstElementChild;c.a.equal(k.nodeName,"ProtectionHeader","Protection should have ProtectionHeader child");f=a.i(d.b)(atob(k.textContent));var m;m=a.i(d.d)(f,8);m=a.i(d.l)(f.subarray(10,
10+m));m=(new DOMParser).parseFromString(m,"application/xml").querySelector("KID").textContent;m=a.i(d.m)(atob(m)).toLowerCase();var n=a.i(d.k)(m);k=k.getAttribute("SystemID").toLowerCase().replace(/\{|\}/g,"");f={keyId:m,keySystems:[{systemId:k,privateData:f}].concat(A(n))};b.protection=f;break;case "StreamIndex":if(f=e(k,g)){k=0;do m=f.type+"_"+(f.language?f.language+"_":"")+k++;while(a.i(l.a)(h,m));f.id=m;h.push(m);b.adaptations.push(f)}}return b},{protection:null,adaptations:[]}),r=n.protection,
n=n.adaptations;n.forEach(function(a){return a.smoothProtection=r});var q=void 0,p=void 0,u=void 0,t=void 0,v=k(f.getAttribute("IsLive"));if(v)var q=y,u=+f.getAttribute("DVRWindowLength")/g,t=z,p=n.filter(function(a){return"video"==a.type})[0],w=n.filter(function(a){return"audio"==a.type})[0],p=Math.min(m(p),m(w)),p=Date.now()/1E3-(p+t);return{transportType:"smooth",profiles:"",type:v?"dynamic":"static",suggestedPresentationDelay:q,timeShiftBufferDepth:u,presentationLiveGap:p,availabilityStartTime:t,
periods:[{duration:(+f.getAttribute("Duration")||Infinity)/g,adaptations:n,laFragCount:+f.getAttribute("LookAheadFragmentCount")}]}}function v(a){return"string"==typeof a?w(a):t(a)}var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=null==x.suggestedPresentationDelay?f.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.SMOOTH:x.suggestedPresentationDelay,z=x.referenceDateTime||Date.UTC(1970,0,1,0,0,0,0)/1E3,C=x.minRepresentationBitrate||19E4,A=x.keySystems||h;v.parseFromString=w;v.parseFromDocument=
t;return v}},function(b,e,a){function k(c){var b=c.url,d=void 0;(c=c.segment.range)&&(d={Range:a.i(f.f)(c)});return a.i(l.a)({url:b,responseType:"arraybuffer",headers:d})}var m=a(0);a.n(m);var h=a(19);b=a(38);var l=a(62),f=a(63),d=b.a.createVideoInitSegment,c=b.a.createAudioInitSegment;e.a=function n(b){return function(e){var l=e.segment,r=e.representation,q=e.adaptation;e=e.manifest;if(l.isInit){e={};var t=q._smoothProtection||{};switch(q.type){case "video":e=d(l.timescale,r.width,r.height,72,72,
4,r._codecPrivateData,t.keyId,t.keySystems);break;case "audio":e=c(l.timescale,r._channels,r._bitsPerSample,r._packetSize,r._samplingRate,r._codecPrivateData,t.keyId,t.keySystems)}return m.Observable.of({type:"data",value:{responseData:e}})}var t=a.i(f.e)(a.i(h.b)(r.baseURL),r,l),v={adaptation:q,representation:r,segment:l,transport:"smooth",url:t,manifest:e};return b?m.Observable.create(function(a){var c=!1,d=!1,f=b(v,{reject:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
{};d||(c=!0,a.error(b))},resolve:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};d||(c=!0,a.next({type:"response",value:{responseData:b.data,size:b.size||0,duration:b.duration||0}}),a.complete())},fallback:function(){d=!0;n(v).subscribe(a)}});return function(){c||d||"function"!==typeof f||f()}}):k(v)}}},function(b,e,a){a.d(e,"a",function(){return k});var k=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.hash=
{}}a.prototype.add=function(a){this.hash[a]=!0};a.prototype.remove=function(a){delete this.hash[a]};a.prototype.test=function(a){return!0===this.hash[a]};return a}()},function(b,e,a){b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.cache={}}a.prototype.add=function(a,b){var e=a.segment;e.isInit&&(this.cache[e.id]=b)};a.prototype.get=function(a){a=a.segment;return a.isInit&&(a=this.cache[a.id],null!=a)?a:null};return a}();e.a=b},function(b,
e,a){e.a=function(){for(var a=0,b=arguments.length;a<b;){if(void 0!==(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(b,e,a){e.a=function(){for(var a=0,b=arguments.length;a<b;){if(null!=(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(b,e,a){function k(a){return!a||"object"!==typeof a||"number"!==typeof a.length||"function"!==typeof a.copy||"function"!==typeof a.slice||0<a.length&&"number"!==
typeof a[0]?!1:!0}function m(a,b,e){var c,g;if(null===a||void 0===a||null===b||void 0===b||a.prototype!==b.prototype)return!1;if(f(a)){if(!f(b))return!1;a=h.call(a);b=h.call(b);return d(a,b,e)}if(k(a)){if(!k(b)||a.length!==b.length)return!1;for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0}try{var m=l(a);g=l(b)}catch(u){return!1}if(m.length!=g.length)return!1;m.sort();g.sort();for(c=m.length-1;0<=c;c--)if(m[c]!=g[c])return!1;for(c=m.length-1;0<=c;c--)if(g=m[c],!d(a[g],b[g],e))return!1;return typeof a===
typeof b}var h=Array.prototype.slice,l=a(159),f=a(158),d=b.exports=function(a,b,d){d||(d={});return a===b?!0:a instanceof Date&&b instanceof Date?a.getTime()===b.getTime():!a||!b||"object"!=typeof a&&"object"!=typeof b?d.strict?a===b:a==b:m(a,b,d)}},function(b,e){function a(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function k(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,
"callee")||!1}var m="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();e=b.exports=m?a:k;e.supported=a;e.unsupported=k},function(b,e){function a(a){var b=[],e;for(e in a)b.push(e);return b}e=b.exports="function"===typeof Object.keys?Object.keys:a;e.shim=a},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=
function(a){function b(b,f,d){a.call(this);this.parent=b;this.outerValue=f;this.outerIndex=d;this.index=0}k(b,a);b.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)};b.prototype._error=function(a){this.parent.notifyError(a,this);this.unsubscribe()};b.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return b}(a(3).Subscriber);e.InnerSubscriber=b},function(b,e,a){var k=a(0);b=function(){function a(a,b,f){this.kind=
a;this.value=b;this.error=f;this.hasValue="N"===a}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);case "C":return a.complete&&a.complete()}};a.prototype["do"]=function(a,b,f){switch(this.kind){case "N":return a&&a(this.value);case "E":return b&&b(this.error);case "C":return f&&f()}};a.prototype.accept=function(a,b,f){return a&&"function"===typeof a.next?this.observe(a):this["do"](a,b,f)};a.prototype.toObservable=
function(){switch(this.kind){case "N":return k.Observable.of(this.value);case "E":return k.Observable["throw"](this.error);case "C":return k.Observable.empty()}throw Error("unexpected notification kind value");};a.createNext=function(b){return"undefined"!==typeof b?new a("N",b):a.undefinedValueNotification};a.createError=function(b){return new a("E",void 0,b)};a.createComplete=function(){return a.completeNotification};a.completeNotification=new a("C");a.undefinedValueNotification=new a("N",void 0);
return a}();e.Notification=b},function(b,e,a){b=function(){function a(b,e){void 0===e&&(e=a.now);this.SchedulerAction=b;this.now=e}a.prototype.schedule=function(a,b,e){void 0===b&&(b=0);return(new this.SchedulerAction(this,a)).schedule(e,b)};a.now=Date.now?Date.now:function(){return+new Date};return a}();e.Scheduler=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=
b.prototype,new e)};b=function(a){function b(b,f){a.call(this);this.subject=b;this.subscriber=f;this.closed=!1}k(b,a);b.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,b=a.observers;this.subject=null;!b||0===b.length||a.isStopped||a.closed||(a=b.indexOf(this.subscriber),-1!==a&&b.splice(a,1))}};return b}(a(14).Subscription);e.SubjectSubscription=b},function(b,e,a){b=a(0);a=a(71);b.Observable.combineLatest=a.combineLatest},function(b,e,a){b=a(0);a=a(205);b.Observable.defer=
a.defer},function(b,e,a){b=a(0);a=a(206);b.Observable.empty=a.empty},function(b,e,a){b=a(0);a=a(207);b.Observable.from=a.from},function(b,e,a){b=a(0);a=a(30);b.Observable.merge=a.merge},function(b,e,a){b=a(0);a=a(208);b.Observable.never=a.never},function(b,e,a){b=a(0);a=a(209);b.Observable.of=a.of},function(b,e,a){b=a(0);a=a(210);b.Observable["throw"]=a._throw},function(b,e,a){b=a(0);a=a(211);b.Observable.timer=a.timer},function(b,e,a){b=a(0);a=a(212);b.Observable.prototype["catch"]=a._catch;b.Observable.prototype._catch=
a._catch},function(b,e,a){b=a(0);a=a(72);b.Observable.prototype.concat=a.concat},function(b,e,a){b=a(0);a=a(214);b.Observable.prototype.concatAll=a.concatAll},function(b,e,a){b=a(0);a=a(215);b.Observable.prototype.concatMap=a.concatMap},function(b,e,a){b=a(0);a=a(216);b.Observable.prototype.debounceTime=a.debounceTime},function(b,e,a){b=a(0);a=a(217);b.Observable.prototype.distinctUntilChanged=a.distinctUntilChanged},function(b,e,a){b=a(0);a=a(218);b.Observable.prototype["do"]=a._do;b.Observable.prototype._do=
a._do},function(b,e,a){b=a(0);a=a(219);b.Observable.prototype.filter=a.filter},function(b,e,a){b=a(0);a=a(220);b.Observable.prototype["finally"]=a._finally;b.Observable.prototype._finally=a._finally},function(b,e,a){b=a(0);a=a(221);b.Observable.prototype.ignoreElements=a.ignoreElements},function(b,e,a){b=a(0);a=a(222);b.Observable.prototype.map=a.map},function(b,e,a){b=a(0);a=a(223);b.Observable.prototype.mapTo=a.mapTo},function(b,e,a){b=a(0);a=a(73);b.Observable.prototype.merge=a.merge},function(b,
e,a){b=a(0);a=a(74);b.Observable.prototype.mergeMap=a.mergeMap;b.Observable.prototype.flatMap=a.mergeMap},function(b,e,a){b=a(0);a=a(43);b.Observable.prototype.multicast=a.multicast},function(b,e,a){b=a(0);a=a(225);b.Observable.prototype.pairwise=a.pairwise},function(b,e,a){b=a(0);a=a(226);b.Observable.prototype.publish=a.publish},function(b,e,a){b=a(0);a=a(227);b.Observable.prototype.scan=a.scan},function(b,e,a){b=a(0);a=a(228);b.Observable.prototype.share=a.share},function(b,e,a){b=a(0);a=a(229);
b.Observable.prototype.skip=a.skip},function(b,e,a){b=a(0);a=a(230);b.Observable.prototype.startWith=a.startWith},function(b,e,a){b=a(0);a=a(231);b.Observable.prototype.switchMap=a.switchMap},function(b,e,a){b=a(0);a=a(232);b.Observable.prototype.take=a.take},function(b,e,a){b=a(0);a=a(233);b.Observable.prototype.takeUntil=a.takeUntil},function(b,e,a){b=a(0);a=a(234);b.Observable.prototype.timeout=a.timeout},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=a}
for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(0);var m=a(41),h=a(23);a=function(a){function b(b,c){a.call(this);this.arrayLike=b;this.scheduler=c;c||1!==b.length||(this._isScalar=!0,this.value=b[0])}k(b,a);b.create=function(a,c){var d=a.length;return 0===d?new h.EmptyObservable:1===d?new m.ScalarObservable(a[0],c):new b(a,c)};b.dispatch=function(a){var b=a.arrayLike,d=a.index,e=a.subscriber;e.closed||(d>=a.length?e.complete():
(e.next(b[d]),a.index=d+1,this.schedule(a)))};b.prototype._subscribe=function(a){var c=this.arrayLike,d=this.scheduler,e=c.length;if(d)return d.schedule(b.dispatch,0,{arrayLike:c,index:0,length:e,subscriber:a});for(d=0;d<e&&!a.closed;d++)a.next(c[d]);a.complete()};return b}(b.Observable);e.ArrayLikeObservable=a},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)};b=a(6);var m=a(0),h=a(3),l=a(14);a=function(a){function b(b,c){a.call(this);this.source=b;this.subjectFactory=c;this._refCount=0;this._isComplete=!1}k(b,a);b.prototype._subscribe=function(a){return this.getSubject().subscribe(a)};b.prototype.getSubject=function(){var a=this._subject;if(!a||a.isStopped)this._subject=this.subjectFactory();return this._subject};b.prototype.connect=function(){var a=this._connection;a||(this._isComplete=!1,a=this._connection=new l.Subscription,a.add(this.source.subscribe(new f(this.getSubject(),
this))),a.closed?(this._connection=null,a=l.Subscription.EMPTY):this._connection=a);return a};b.prototype.refCount=function(){return this.lift(new d(this))};return b}(m.Observable);e.ConnectableObservable=a;a=a.prototype;e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},
refCount:{value:a.refCount}};var f=function(a){function b(b,c){a.call(this,b);this.connectable=c}k(b,a);b.prototype._error=function(b){this._unsubscribe();a.prototype._error.call(this,b)};b.prototype._complete=function(){this.connectable._isComplete=!0;this._unsubscribe();a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._connection;a._refCount=0;a._subject=null;a._connection=null;b&&b.unsubscribe()}};return b}(b.SubjectSubscriber),
d=function(){function a(a){this.connectable=a}a.prototype.call=function(a,b){var d=this.connectable;d._refCount++;var e=new c(a,d),f=b.subscribe(e);e.closed||(e.connection=d.connect());return f};return a}(),c=function(a){function b(b,c){a.call(this,b);this.connectable=c}k(b,a);b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._refCount;0>=b?this.connection=null:(a._refCount=b-1,1<b?this.connection=null:(b=this.connection,a=a._connection,this.connection=
null,!a||b&&a!==b||a.unsubscribe()))}else this.connection=null};return b}(h.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(0);var m=a(16);a=a(13);b=function(a){function b(b){a.call(this);this.observableFactory=b}k(b,a);b.create=function(a){return new b(a)};b.prototype._subscribe=function(a){return new h(a,this.observableFactory)};
return b}(b.Observable);e.DeferObservable=b;var h=function(a){function b(b,c){a.call(this,b);this.factory=c;this.tryDefer()}k(b,a);b.prototype.tryDefer=function(){try{this._callFactory()}catch(d){this._error(d)}};b.prototype._callFactory=function(){var a=this.factory();a&&this.add(m.subscribeToResult(this,a))};return b}(a.OuterSubscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?
Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b,e){a.call(this);this.error=b;this.scheduler=e}k(b,a);b.create=function(a,e){return new b(a,e)};b.dispatch=function(a){a.subscriber.error(a.error)};b.prototype._subscribe=function(a){var e=this.error,d=this.scheduler;a.syncErrorThrowable=!0;if(d)return d.schedule(b.dispatch,0,{error:e,subscriber:a});a.error(e)};return b}(a(0).Observable);e.ErrorObservable=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},m=a(24),h=a(77),l=a(81),f=a(69),d=a(204),c=a(15),g=a(198),n=a(44),r=a(0),q=a(224),p=a(45);b=function(a){function b(b,c){a.call(this,null);this.ish=b;this.scheduler=c}k(b,a);b.create=function(a,e){if(null!=a){if("function"===typeof a[p.observable])return a instanceof r.Observable&&!e?a:new b(a,e);if(m.isArray(a))return new c.ArrayObservable(a,e);if(l.isPromise(a))return new f.PromiseObservable(a,
e);if("function"===typeof a[n.iterator]||"string"===typeof a)return new d.IteratorObservable(a,e);if(h.isArrayLike(a))return new g.ArrayLikeObservable(a,e)}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};b.prototype._subscribe=function(a){var b=this.ish,c=this.scheduler;return null==c?b[p.observable]().subscribe(a):b[p.observable]().subscribe(new q.ObserveOnSubscriber(a,c,0))};return b}(r.Observable);e.FromObservable=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=
a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},m=a(79);b=a(0);var h=a(31);a=function(a){function b(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.period=b;this.scheduler=c;if(!m.isNumeric(b)||0>b)this.period=0;c&&"function"===typeof c.schedule||(this.scheduler=h.async)}k(b,a);b.create=function(a,c){void 0===a&&(a=0);void 0===c&&(c=h.async);return new b(a,c)};b.dispatch=function(a){var b=a.subscriber,d=a.period;
b.next(a.index);b.closed||(a.index+=1,this.schedule(a,d))};b.prototype._subscribe=function(a){var c=this.period;a.add(this.scheduler.schedule(b.dispatch,c,{index:0,subscriber:a,period:c}))};return b}(b.Observable);e.IntervalObservable=a},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},m=a(11);b=a(0);var h=a(44);a=function(a){function b(b,
c){a.call(this);this.scheduler=c;if(null==b)throw Error("iterator cannot be null.");var d;if((d=b[h.iterator])||"string"!==typeof b)if(d||void 0===b.length){if(!d)throw new TypeError("object is not iterable");d=b[h.iterator]()}else d=new f(b);else d=new l(b);this.iterator=d}k(b,a);b.create=function(a,c){return new b(a,c)};b.dispatch=function(a){var b=a.index,c=a.iterator,d=a.subscriber;if(a.hasError)d.error(a.error);else{var e=c.next();e.done?d.complete():(d.next(e.value),a.index=b+1,d.closed?"function"===
typeof c["return"]&&c["return"]():this.schedule(a))}};b.prototype._subscribe=function(a){var c=this.iterator,d=this.scheduler;if(d)return d.schedule(b.dispatch,0,{index:0,iterator:c,subscriber:a});do{d=c.next();if(d.done){a.complete();break}else a.next(d.value);if(a.closed){"function"===typeof c["return"]&&c["return"]();break}}while(1)};return b}(b.Observable);e.IteratorObservable=a;var l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.str=a;this.idx=b;this.len=c}a.prototype[h.iterator]=
function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return a}(),f=function(){function a(a,b,c){void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&m.root.isFinite(c)){var e;e=+c;e=0===e?e:isNaN(e)?e:0>e?-1:1;c=e*Math.floor(Math.abs(c));c=0>=c?0:c>d?d:c}this.arr=a;this.idx=b;this.len=c}a.prototype[h.iterator]=function(){return this};a.prototype.next=function(){return this.idx<
this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}};return a}(),d=Math.pow(2,53)-1},function(b,e,a){b=a(200);e.defer=b.DeferObservable.create},function(b,e,a){b=a(23);e.empty=b.EmptyObservable.create},function(b,e,a){b=a(202);e.from=b.FromObservable.create},function(b,e,a){b=a(68);e.never=b.NeverObservable.create},function(b,e,a){b=a(15);e.of=b.ArrayObservable.of},function(b,e,a){b=a(201);e._throw=b.ErrorObservable.create},function(b,e,a){b=a(70);e.timer=b.TimerObservable.create},
function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var m=a(16);e._catch=function(a){a=new h(a);var b=this.lift(a);return a.caught=b};var h=function(){function a(a){this.selector=a}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.selector,this.caught))};return a}(),l=function(a){function b(b,d,e){a.call(this,b);this.selector=
d;this.caught=e}k(b,a);b.prototype.error=function(b){if(!this.isStopped){var c=void 0;try{c=this.selector(b,this.caught)}catch(n){a.prototype.error.call(this,n);return}this._unsubscribeAndRecycle();this.add(m.subscribeToResult(this,c))}};return b}(b.OuterSubscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},m=a(15),h=a(24);b=a(13);
var l=a(16),f={};e.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=null;"function"===typeof a[a.length-1]&&(b=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());a.unshift(this);return this.lift.call(new m.ArrayObservable(a),new d(b))};var d=function(){function a(a){this.project=a}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.project))};return a}();e.CombineLatestOperator=d;var c=function(a){function b(b,c){a.call(this,b);this.project=c;
this.active=0;this.values=[];this.observables=[]}k(b,a);b.prototype._next=function(a){this.values.push(f);this.observables.push(a)};b.prototype._complete=function(){var a=this.observables,b=a.length;if(0===b)this.destination.complete();else{this.toRespond=this.active=b;for(var c=0;c<b;c++){var d=a[c];this.add(l.subscribeToResult(this,d,d,c))}}};b.prototype.notifyComplete=function(a){0===--this.active&&this.destination.complete()};b.prototype.notifyNext=function(a,b,c,d,e){a=this.values;d=a[c];d=this.toRespond?
d===f?--this.toRespond:this.toRespond:0;a[c]=b;0===d&&(this.project?this._tryProject(a):this.destination.next(a.slice()))};b.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(p){this.destination.error(p);return}this.destination.next(b)};return b}(b.OuterSubscriber);e.CombineLatestSubscriber=c},function(b,e,a){var k=a(42);e.concatAll=function(){return this.lift(new k.MergeAllOperator(1))}},function(b,e,a){var k=a(74);e.concatMap=function(a,b){return this.lift(new k.MergeMapOperator(a,
b,1))}},function(b,e,a){function k(a){a.debouncedNext()}var m=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var h=a(31);e.debounceTime=function(a,b){void 0===b&&(b=h.async);return this.lift(new l(a,b))};var l=function(){function a(a,b){this.dueTime=a;this.scheduler=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.dueTime,this.scheduler))};
return a}(),f=function(a){function b(b,c,d){a.call(this,b);this.dueTime=c;this.scheduler=d;this.lastValue=this.debouncedSubscription=null;this.hasValue=!1}m(b,a);b.prototype._next=function(a){this.clearDebounce();this.lastValue=a;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(k,this.dueTime,this))};b.prototype._complete=function(){this.debouncedNext();this.destination.complete()};b.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),
this.lastValue=null,this.hasValue=!1)};b.prototype.clearDebounce=function(){var a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)};return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var m=a(48),h=a(32);e.distinctUntilChanged=function(a,b){return this.lift(new l(a,
b))};var l=function(){function a(a,b){this.compare=a;this.keySelector=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.compare,this.keySelector))};return a}(),f=function(a){function b(b,c,d){a.call(this,b);this.keySelector=d;this.hasKey=!1;"function"===typeof c&&(this.compare=c)}k(b,a);b.prototype.compare=function(a,b){return a===b};b.prototype._next=function(a){var b=a;if(this.keySelector&&(b=m.tryCatch(this.keySelector)(a),b===h.errorObject))return this.destination.error(h.errorObject.e);
var c=!1;if(this.hasKey){if(c=m.tryCatch(this.compare)(this.key,b),c===h.errorObject)return this.destination.error(h.errorObject.e)}else this.hasKey=!0;!1===!!c&&(this.key=b,this.destination.next(a))};return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},m=a(3);e._do=function(a,b,c){return this.lift(new h(a,b,c))};var h=
function(){function a(a,b,e){this.nextOrObserver=a;this.error=b;this.complete=e}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.nextOrObserver,this.error,this.complete))};return a}(),l=function(a){function b(b,d,e,f){a.call(this,b);b=new m.Subscriber(d,e,f);b.syncErrorThrowable=!0;this.add(b);this.safeSubscriber=b}k(b,a);b.prototype._next=function(a){var b=this.safeSubscriber;b.next(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.next(a)};b.prototype._error=
function(a){var b=this.safeSubscriber;b.error(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.error(a)};b.prototype._complete=function(){var a=this.safeSubscriber;a.complete();a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.complete()};return b}(m.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=
b.prototype,new d)};b=a(3);e.filter=function(a,b){return this.lift(new m(a,b))};var m=function(){function a(a,b){this.predicate=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.predicate,this.thisArg))};return a}(),h=function(a){function b(b,c,e){a.call(this,b);this.predicate=c;this.thisArg=e;this.count=0;this.predicate=c}k(b,a);b.prototype._next=function(a){var b;try{b=this.predicate.call(this.thisArg,a,this.count++)}catch(g){this.destination.error(g);return}b&&this.destination.next(a)};
return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var m=a(14);e._finally=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.callback=a}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.callback))};return a}(),l=function(a){function b(b,d){a.call(this,b);this.add(new m.Subscription(d))}
k(b,a);return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var m=a(82);e.ignoreElements=function(){return this.lift(new h)};var h=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new l(a))};return a}(),l=function(a){function b(){a.apply(this,arguments)}k(b,a);b.prototype._next=function(a){m.noop()};
return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.map=function(a,b){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new m(a,b))};var m=function(){function a(a,b){this.project=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new h(a,
this.project,this.thisArg))};return a}();e.MapOperator=m;var h=function(a){function b(b,c,e){a.call(this,b);this.project=c;this.count=0;this.thisArg=e||this}k(b,a);b.prototype._next=function(a){var b;try{b=this.project.call(this.thisArg,a,this.count++)}catch(g){this.destination.error(g);return}this.destination.next(b)};return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===
b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.mapTo=function(a){return this.lift(new m(a))};var m=function(){function a(a){this.value=a}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.value))};return a}(),h=function(a){function b(b,c){a.call(this,b);this.value=c}k(b,a);b.prototype._next=function(a){this.destination.next(this.value)};return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var m=a(161);e.observeOn=function(a,b){void 0===b&&(b=0);return this.lift(new h(a,b))};var h=function(){function a(a,b){void 0===b&&(b=0);this.scheduler=a;this.delay=b}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.scheduler,this.delay))};return a}();e.ObserveOnOperator=h;var l=function(a){function b(b,c,d){void 0===d&&(d=0);a.call(this,b);this.scheduler=c;this.delay=d}k(b,a);b.dispatch=function(a){a.notification.observe(a.destination);
this.unsubscribe()};b.prototype.scheduleMessage=function(a){this.add(this.scheduler.schedule(b.dispatch,this.delay,new f(a,this.destination)))};b.prototype._next=function(a){this.scheduleMessage(m.Notification.createNext(a))};b.prototype._error=function(a){this.scheduleMessage(m.Notification.createError(a))};b.prototype._complete=function(){this.scheduleMessage(m.Notification.createComplete())};return b}(b.Subscriber);e.ObserveOnSubscriber=l;var f=function(){return function(a,b){this.notification=
a;this.destination=b}}();e.ObserveOnMessage=f},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.pairwise=function(){return this.lift(new m)};var m=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new h(a))};return a}(),h=function(a){function b(b){a.call(this,b);this.hasPrev=!1}k(b,a);b.prototype._next=function(a){this.hasPrev?
this.destination.next([this.prev,a]):this.hasPrev=!0;this.prev=a};return b}(b.Subscriber)},function(b,e,a){var k=a(6),m=a(43);e.publish=function(a){return a?m.multicast.call(this,function(){return new k.Subject},a):m.multicast.call(this,new k.Subject)}},function(b,e,a){var k=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.scan=function(a,b){var d=!1;2<=
arguments.length&&(d=!0);return this.lift(new m(a,b,d))};var m=function(){function a(a,b,c){void 0===c&&(c=!1);this.accumulator=a;this.seed=b;this.hasSeed=c}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.accumulator,this.seed,this.hasSeed))};return a}(),h=function(a){function b(b,c,e,f){a.call(this,b);this.accumulator=c;this._seed=e;this.hasSeed=f;this.index=0}k(b,a);Object.defineProperty(b.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0;this._seed=
a},enumerable:!0,configurable:!0});b.prototype._next=function(a){if(this.hasSeed)return this._tryNext(a);this.seed=a;this.destination.next(a)};b.prototype._tryNext=function(a){var b=this.index++,d;try{d=this.accumulator(this.seed,a,b)}catch(n){this.destination.error(n)}this.seed=d;this.destination.next(d)};return b}(b.Subscriber)},function(b,e,a){function k(){return new h.Subject}var m=a(43),h=a(6);e.share=function(){return m.multicast.call(this,k).refCount()}},function(b,e,a){var k=this&&this.__extends||
function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(3);e.skip=function(a){return this.lift(new m(a))};var m=function(){function a(a){this.total=a}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.total))};return a}(),h=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0}k(b,a);b.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)};
return b}(b.Subscriber)},function(b,e,a){var k=a(15),m=a(41),h=a(23),l=a(72),f=a(20);e.startWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];f.isScheduler(b)?a.pop():b=null;var e=a.length;return 1===e?l.concatStatic(new m.ScalarObservable(a[0],b),this):1<e?l.concatStatic(new k.ArrayObservable(a,b),this):l.concatStatic(new h.EmptyObservable(b),this)}},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&
(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var m=a(16);e.switchMap=function(a,b){return this.lift(new h(a,b))};var h=function(){function a(a,b){this.project=a;this.resultSelector=b}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.project,this.resultSelector))};return a}(),l=function(a){function b(b,d,e){a.call(this,b);this.project=d;this.resultSelector=e;this.index=0}k(b,a);b.prototype._next=function(a){var b,c=this.index++;try{b=this.project(a,
c)}catch(r){this.destination.error(r);return}this._innerSub(b,a,c)};b.prototype._innerSub=function(a,b,d){var c=this.innerSubscription;c&&c.unsubscribe();this.add(this.innerSubscription=m.subscribeToResult(this,a,b,d))};b.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){this.innerSubscription=null};b.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};
b.prototype.notifyNext=function(a,b,d,e,f){this.resultSelector?this._tryNotifyNext(a,b,d,e):this.destination.next(b)};b.prototype._tryNotifyNext=function(a,b,d,e){var c;try{c=this.resultSelector(a,b,d,e)}catch(p){this.destination.error(p);return}this.destination.next(c)};return b}(b.OuterSubscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)};b=a(3);var m=a(238),h=a(23);e.take=function(a){return 0===a?new h.EmptyObservable:this.lift(new l(a))};var l=function(){function a(a){this.total=a;if(0>this.total)throw new m.ArgumentOutOfRangeError;}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total))};return a}(),f=function(a){function b(b,c){a.call(this,b);this.total=c;this.count=0}k(b,a);b.prototype._next=function(a){var b=this.total,c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))};
return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var m=a(16);e.takeUntil=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.notifier=a}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.notifier))};return a}(),l=function(a){function b(b,d){a.call(this,b);this.notifier=d;
this.add(m.subscribeToResult(this,d))}k(b,a);b.prototype.notifyNext=function(a,b,d,e,f){this.complete()};b.prototype.notifyComplete=function(){};return b}(b.OuterSubscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},m=a(31),h=a(78);b=a(3);var l=a(76);e.timeout=function(a,b){void 0===b&&(b=m.async);var c=h.isDate(a),d=c?+a-b.now():Math.abs(a);
return this.lift(new f(d,c,b,new l.TimeoutError))};var f=function(){function a(a,b,c,d){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=d}a.prototype.call=function(a,b){return b.subscribe(new d(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return a}(),d=function(a){function b(b,c,d,e,f){a.call(this,b);this.absoluteTimeout=c;this.waitFor=d;this.scheduler=e;this.errorInstance=f;this.action=null;this.scheduleTimeout()}k(b,a);b.dispatchTimeout=function(a){a.error(a.errorInstance)};
b.prototype.scheduleTimeout=function(){var a=this.action;a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))};b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout();a.prototype._next.call(this,b)};b.prototype._unsubscribe=function(){this.errorInstance=this.scheduler=this.action=null};return b}(b.Subscriber)},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&
(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b,e){a.call(this)}k(b,a);b.prototype.schedule=function(a,b){return this};return b}(a(14).Subscription);e.Action=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)},m=a(11);b=function(a){function b(b,d){a.call(this,b,d);this.scheduler=
b;this.work=d;this.pending=!1}k(b,a);b.prototype.schedule=function(a,b){void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.pending=!0;var c=this.id,d=this.scheduler;null!=c&&(this.id=this.recycleAsyncId(d,c,b));this.delay=b;this.id=this.id||this.requestAsyncId(d,this.id,b);return this};b.prototype.requestAsyncId=function(a,b,c){void 0===c&&(c=0);return m.root.setInterval(a.flush.bind(a,this),c)};b.prototype.recycleAsyncId=function(a,b,c){void 0===c&&(c=0);return null!==c&&this.delay===
c&&!1===this.pending?b:(m.root.clearInterval(b),void 0)};b.prototype.execute=function(a,b){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var c=this._execute(a,b);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))};b.prototype._execute=function(a,b){var c=!1,d=void 0;try{this.work(a)}catch(n){c=!0,d=!!n&&n||Error(n)}if(c)return this.unsubscribe(),d};b.prototype._unsubscribe=function(){var a=this.id,b=this.scheduler,
c=b.actions,e=c.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==e&&c.splice(e,1);null!=a&&(this.id=this.recycleAsyncId(b,a,null));this.delay=null};return b}(a(235).Action);e.AsyncAction=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(){a.apply(this,arguments);this.actions=[];this.active=
!1;this.scheduled=void 0}k(b,a);b.prototype.flush=function(a){var b=this.actions;if(this.active)b.push(a);else{var d;this.active=!0;do if(d=a.execute(a.state,a.delay))break;while(a=b.shift());this.active=!1;if(d){for(;a=b.shift();)a.unsubscribe();throw d;}}};return b}(a(162).Scheduler);e.AsyncScheduler=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,
new e)};b=function(a){function b(){var b=a.call(this,"argument out of range");this.name=b.name="ArgumentOutOfRangeError";this.stack=b.stack;this.message=b.message}k(b,a);return b}(Error);e.ArgumentOutOfRangeError=b},function(b,e,a){var k=this&&this.__extends||function(a,b){function e(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)};b=function(a){function b(b){a.call(this);this.errors=b;b=Error.call(this,b?b.length+
" errors occurred during unsubscription:\n  "+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=b.name="UnsubscriptionError";this.stack=b.stack;this.message=b.message}k(b,a);return b}(Error);e.UnsubscriptionError=b},function(b,e,a){var k=a(3),m=a(46),h=a(66);e.toSubscriber=function(a,b,d){if(a){if(a instanceof k.Subscriber)return a;if(a[m.rxSubscriber])return a[m.rxSubscriber]()}return a||b||d?new k.Subscriber(a,b,d):new k.Subscriber(h.empty)}},function(b,e){var a;a=function(){return this}();
try{a=a||Function("return this")()||(0,eval)("this")}catch(k){"object"===typeof window&&(a=window)}b.exports=a}])});
