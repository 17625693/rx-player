var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");b!=Array.prototype&&b!=Object.prototype&&(b[d]=a.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(b){return $jscomp.SYMBOL_PREFIX+(b||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(b,d){$jscomp.initSymbolIterator();b instanceof String&&(b+="");var a=0,g={next:function(){if(a<b.length){var l=a++;return{value:d(l,b[l]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill=function(b,d,a,g){if(d){a=$jscomp.global;b=b.split(".");for(g=0;g<b.length-1;g++){var l=b[g];l in a||(a[l]={});a=a[l]}b=b[b.length-1];g=a[b];d=d(g);d!=g&&null!=d&&$jscomp.defineProperty(a,b,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b){return b})}},"es6-impl","es3");
$jscomp.polyfill("Object.getOwnPropertySymbols",function(b){return b?b:function(){return[]}},"es6-impl","es5");$jscomp.owns=function(b,d){return Object.prototype.hasOwnProperty.call(b,d)};$jscomp.polyfill("Object.assign",function(b){return b?b:function(b,a){for(var d=1;d<arguments.length;d++){var l=arguments[d];if(l)for(var h in l)$jscomp.owns(l,h)&&(b[h]=l[h])}return b}},"es6-impl","es3");
$jscomp.findInternal=function(b,d,a){b instanceof String&&(b=String(b));for(var g=b.length,l=0;l<g;l++){var h=b[l];if(d.call(a,h,l,b))return{i:l,v:h}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,a){return $jscomp.findInternal(this,b,a).v}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(b,a){return a})}},"es6","es3");
(function(b,d){"object"===typeof exports&&"object"===typeof module?module.exports=d():"function"===typeof define&&define.amd?define([],d):"object"===typeof exports?exports.RxPlayer=d():b.RxPlayer=d()})(this,function(){return function(b){function d(g){if(a[g])return a[g].exports;var l=a[g]={i:g,l:!1,exports:{}};b[g].call(l.exports,l,l.exports,d);l.l=!0;return l.exports}var a={};d.m=b;d.c=a;d.i=function(a){return a};d.d=function(a,b,h){d.o(a,b)||Object.defineProperty(a,b,{configurable:!1,enumerable:!0,
get:h})};d.n=function(a){var b=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(b,"a",b);return b};d.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};d.p="";return d(d.s=133)}([function(b,d,a){var g=a(11),l=a(259),h=a(48);b=function(){function a(a){this._isScalar=!1;a&&(this._subscribe=a)}a.prototype.lift=function(f){var c=new a;c.source=this;c.operator=f;return c};a.prototype.subscribe=function(a,c,e){var f=this.operator;a=l.toSubscriber(a,c,e);f?f.call(a,
this.source):a.add(this.source?this._subscribe(a):this._trySubscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a};a.prototype._trySubscribe=function(a){try{return this._subscribe(a)}catch(c){a.syncErrorThrown=!0,a.syncErrorValue=c,a.error(c)}};a.prototype.forEach=function(a,c){var e=this;c||(g.root.Rx&&g.root.Rx.config&&g.root.Rx.config.Promise?c=g.root.Rx.config.Promise:g.root.Promise&&(c=g.root.Promise));if(!c)throw Error("no Promise impl found");
return new c(function(c,f){var m;m=e.subscribe(function(c){if(m)try{a(c)}catch(r){f(r),m.unsubscribe()}else a(c)},f,c)})};a.prototype._subscribe=function(a){return this.source.subscribe(a)};a.prototype[h.observable]=function(){return this};a.create=function(f){return new a(f)};return a}();d.Observable=b},function(b,d,a){function g(){}var l={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},h=function(){};g.error=h;g.warn=h;g.info=h;g.debug=h;g.setLevel=function(a){"string"==typeof a&&(a=l[a]);g.error=a>=l.ERROR?
console.error.bind(console):h;g.warn=a>=l.WARNING?console.warn.bind(console):h;g.info=a>=l.INFO?console.info.bind(console):h;g.debug=a>=l.DEBUG?console.log.bind(console):h};d.a=g},function(b,d,a){function g(a){this.name="AssertionError";this.message=a;Error.captureStackTrace&&Error.captureStackTrace(this,g)}function l(a,f){if(!a)throw new g(f);}var h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":typeof a};g.prototype=Error();l.equal=function(a,f,c){return l(a===f,c)};l.iface=function(a,f,c){l(a,f+" should be an object");for(var e in c)l.equal(h(a[e]),c[e],f+" should have property "+e+" as a "+c[e])};d.a=l},function(b,d,a){var g=this&&this.__extends||function(a,e){function c(){this.constructor=a}for(var f in e)e.hasOwnProperty(f)&&(a[f]=e[f]);a.prototype=null===e?Object.create(e):(c.prototype=e.prototype,new c)},l=a(50);b=a(14);var h=a(69),k=a(49);a=function(a){function c(e,
k,b){a.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=h.empty;break;case 1:if(!e){this.destination=h.empty;break}if("object"===typeof e){e instanceof c?(this.destination=e,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,k,b)}}g(c,a);c.prototype[k.rxSubscriber]=function(){return this};c.create=
function(a,e,f){a=new c(a,e,f);a.syncErrorThrowable=!1;return a};c.prototype.next=function(a){this.isStopped||this._next(a)};c.prototype.error=function(a){this.isStopped||(this.isStopped=!0,this._error(a))};c.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};c.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))};c.prototype._next=function(a){this.destination.next(a)};c.prototype._error=function(a){this.destination.error(a);
this.unsubscribe()};c.prototype._complete=function(){this.destination.complete();this.unsubscribe()};c.prototype._unsubscribeAndRecycle=function(){var a=this._parent,c=this._parents;this._parents=this._parent=null;this.unsubscribe();this.isStopped=this.closed=!1;this._parent=a;this._parents=c;return this};return c}(b.Subscription);d.Subscriber=a;var f=function(a){function c(c,e,f,k){a.call(this);this._parentSubscriber=c;var m;c=this;l.isFunction(e)?m=e:e&&(m=e.next,f=e.error,k=e.complete,e!==h.empty&&
(c=Object.create(e),l.isFunction(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this._context=c;this._next=m;this._error=f;this._complete=k}g(c,a);c.prototype.next=function(a){if(!this.isStopped&&this._next){var c=this._parentSubscriber;c.syncErrorThrowable?this.__tryOrSetError(c,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}};c.prototype.error=function(a){if(!this.isStopped){var c=this._parentSubscriber;if(this._error)c.syncErrorThrowable?
this.__tryOrSetError(c,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(c.syncErrorThrowable)c.syncErrorValue=a,c.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a=this;if(!this.isStopped){var c=this._parentSubscriber;if(this._complete){var e=function(){return a._complete.call(a._context)};c.syncErrorThrowable?this.__tryOrSetError(c,e):this.__tryOrUnsub(e)}this.unsubscribe()}};c.prototype.__tryOrUnsub=function(a,
c){try{a.call(this._context,c)}catch(p){throw this.unsubscribe(),p;}};c.prototype.__tryOrSetError=function(a,c,e){try{c.call(this._context,e)}catch(q){return a.syncErrorValue=q,a.syncErrorThrown=!0}return!1};c.prototype._unsubscribe=function(){var a=this._parentSubscriber;this._parentSubscriber=this._context=null;a.unsubscribe()};return c}(a)},function(b,d,a){d.a={DEFAULT_UNMUTED_VOLUME:.1,DEFAULT_AUDIO_TRACK:{language:"fra",audioDescription:!1},DEFAULT_TEXT_TRACK:null,DEFAULT_AUTO_PLAY:!1,DEFAULT_SHOW_SUBTITLE:!0,
DEFAULT_WANTED_BUFFER_AHEAD:30,DEFAULT_MAX_BUFFER_AHEAD:Infinity,DEFAULT_MAX_BUFFER_BEHIND:Infinity,DEFAULT_INITIAL_BITRATES:{audio:0,video:0,other:0},DEFAULT_MAX_BITRATES:{audio:Infinity,video:Infinity,other:Infinity},DEFAULT_ADAPTIVE_BUFFER_THRESHOLD:.3,INACTIVITY_DELAY:6E4,DEFAULT_THROTTLE_WHEN_HIDDEN:!1,DEFAULT_LIMIT_VIDEO_WIDTH:!1,DEFAULT_LIVE_GAP:10,DEFAULT_SUGGESTED_PRESENTATION_DELAY:{SMOOTH:10,DASH:10},DISCONTINUITY_THRESHOLD:1,END_OF_PLAY:.5,BITRATE_REBUFFERING_RATIO:1.5,BUFFER_GC_GAPS:{CALM:240,
BEEFY:30},DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR:4,DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE:Infinity,INITIAL_BACKOFF_DELAY_BASE:200,MAX_BACKOFF_DELAY_BASE:3E3,SAMPLING_INTERVAL_MEDIASOURCE:1E3,SAMPLING_INTERVAL_NO_MEDIASOURCE:500,ABR_MINIMUM_TOTAL_BYTES:128E3,ABR_MINIMUM_CHUNK_SIZE:16E3,ABR_STARVATION_GAP:5,OUT_OF_STARVATION_GAP:7,RESUME_AFTER_SEEKING_GAP:.5,RESUME_AFTER_BUFFERING_GAP:5,STALL_GAP:.5,MAX_MISSING_FROM_COMPLETE_SEGMENT:.12,MAX_BUFFERED_DISTANCE:.1,MINIMUM_SEGMENT_SIZE:.3,EME_DEFAULT_ROBUSTNESSES:["HW_SECURE_ALL",
"HW_SECURE_DECODE","HW_SECURE_CRYPTO","SW_SECURE_DECODE","SW_SECURE_CRYPTO"],EME_KEY_SYSTEMS:{clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.chromecast.playready","com.youtube.playready"]}}},function(b,d,a){var g=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)},l=a(0);b=a(3);var h=
a(14),k=a(74),f=a(171),c=a(49),e=function(a){function c(c){a.call(this,c);this.destination=c}g(c,a);return c}(b.Subscriber);d.SubjectSubscriber=e;a=function(a){function b(){a.call(this);this.observers=[];this.hasError=this.isStopped=this.closed=!1;this.thrownError=null}g(b,a);b.prototype[c.rxSubscriber]=function(){return new e(this)};b.prototype.lift=function(a){var c=new m(this,this);c.operator=a;return c};b.prototype.next=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;if(!this.isStopped)for(var c=
this.observers,e=c.length,c=c.slice(),f=0;f<e;f++)c[f].next(a)};b.prototype.error=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;this.hasError=!0;this.thrownError=a;this.isStopped=!0;for(var c=this.observers,e=c.length,c=c.slice(),f=0;f<e;f++)c[f].error(a);this.observers.length=0};b.prototype.complete=function(){if(this.closed)throw new k.ObjectUnsubscribedError;this.isStopped=!0;for(var a=this.observers,c=a.length,a=a.slice(),e=0;e<c;e++)a[e].complete();this.observers.length=0};b.prototype.unsubscribe=
function(){this.closed=this.isStopped=!0;this.observers=null};b.prototype._trySubscribe=function(c){if(this.closed)throw new k.ObjectUnsubscribedError;return a.prototype._trySubscribe.call(this,c)};b.prototype._subscribe=function(a){if(this.closed)throw new k.ObjectUnsubscribedError;if(this.hasError)return a.error(this.thrownError),h.Subscription.EMPTY;if(this.isStopped)return a.complete(),h.Subscription.EMPTY;this.observers.push(a);return new f.SubjectSubscription(this,a)};b.prototype.asObservable=
function(){var a=new l.Observable;a.source=this;return a};b.create=function(a,c){return new m(a,c)};return b}(l.Observable);d.Subject=a;var m=function(a){function c(c,e){a.call(this);this.destination=c;this.source=e}g(c,a);c.prototype.next=function(a){var c=this.destination;c&&c.next&&c.next(a)};c.prototype.error=function(a){var c=this.destination;c&&c.error&&this.destination.error(a)};c.prototype.complete=function(){var a=this.destination;a&&a.complete&&this.destination.complete()};c.prototype._subscribe=
function(a){return this.source?this.source.subscribe(a):h.Subscription.EMPTY};return c}(a);d.AnonymousSubject=m},function(b,d,a){function g(a){return!!a&&!!a.type&&0<=l.a.keys.indexOf(a.type)}a.d(d,"d",function(){return g});var l=a(18),h=a(127),k=a(128),f=a(129),c=a(130),e=a(131),m=a(132);a.d(d,"b",function(){return l.b});a.d(d,"a",function(){return l.a});a.d(d,"j",function(){return l.c});a.d(d,"c",function(){return h.a});a.d(d,"g",function(){return k.a});a.d(d,"f",function(){return f.a});a.d(d,"i",
function(){return c.a});a.d(d,"e",function(){return e.a});a.d(d,"h",function(){return m.a})},function(b,d,a){function g(a){return!!r.a&&r.a.isTypeSupported(a)}function l(){return r.b}function h(a){return a.readyState>=r.c.HAVE_METADATA?p.Observable.of(null):u.f(a).take(1)}function k(c){return c.readyState>=r.c.HAVE_ENOUGH_DATA?p.Observable.of(null):a.i(q.a)(c,"canplay").take(1)}function f(a,c){var e,f=void 0;r.b?(e=a.textTracks.length,e=0<e?a.textTracks[e-1]:a.addTextTrack("subtitles"),e.mode=c?e.HIDDEN:
e.SHOWING):(f=document.createElement("track"),a.appendChild(f),e=f.track,f.kind="subtitles",e.mode=c?"hidden":"showing");return{track:e,trackElement:f}}function c(){return!r.b}function e(a){return r.d&&a.stalled&&"timeupdate"===a.state&&a.range&&10<a.range.end-a.currentTime}function m(a){a.src="";a.removeAttribute("src")}function n(){return!1===navigator.onLine}a.d(d,"n",function(){return f});a.d(d,"j",function(){return k});a.d(d,"i",function(){return h});a.d(d,"k",function(){return m});a.d(d,"p",
function(){return g});a.d(d,"q",function(){return n});a.d(d,"m",function(){return e});a.d(d,"o",function(){return c});a.d(d,"e",function(){return l});var p=a(0);a.n(p);var q=a(31);b=a(29);var r=a(35),u=a(17),w=a(85),t=a(83);a.d(d,"a",function(){return r.e});a.d(d,"f",function(){return t.a});a.d(d,"l",function(){return r.a});a.d(d,"c",function(){return w.a});a.d(d,"b",function(){return w.b});a.d(d,"r",function(){return r.b});a.d(d,"d",function(){return w.c});a.d(d,"g",function(){return t.b});a.d(d,
"h",function(){return t.c});if(window.WebKitSourceBuffer&&!window.WebKitSourceBuffer.prototype.addEventListener){d=window.WebKitSourceBuffer.prototype;for(var v in b.a.prototype)d[v]=b.a.prototype[v];d.__listeners=[];d.appendBuffer=function(a){if(this.updating)throw Error("updating");this.trigger("updatestart");this.updating=!0;try{this.append(a)}catch(y){this.__emitUpdate("error",y);return}this.__emitUpdate("update")};d.__emitUpdate=function(a,c){var e=this;setTimeout(function(){e.trigger(a,c);e.updating=
!1;e.trigger("updateend")},0)}}},function(b,d,a){var g=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;b.exports=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;for(var f={},a=0;10>a;a++)f["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(f).map(function(a){return f[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(e){return!1}}()?Object.assign:function(a,f){var c,e;if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");e=Object(a);for(var k,b=1;b<arguments.length;b++){c=Object(arguments[b]);for(var d in c)l.call(c,d)&&(e[d]=c[d]);if(g){k=g(c);for(var q=0;q<k.length;q++)h.call(c,k[q])&&(e[k[q]]=c[k[q]])}}return e}},function(b,d,a){d.a=function(a){return a instanceof g.Observable?
a:a&&"function"==typeof a.subscribe?new g.Observable(function(h){var k=a.subscribe(function(a){return h.next(a)},function(a){return h.error(a)},function(){return h.complete()});return function(){k&&k.dispose?k.dispose():k&&k.unsubscribe&&k.unsubscribe()}}):a&&"function"==typeof a.then?g.Observable.fromPromise(a):g.Observable.of(a)};var g=a(0);a.n(g)},function(b,d,a){function g(a,c){return{start:Math.min(a.start,c.start),end:Math.max(a.end,c.end)}}function l(a,c){var e=a.end;return a.start<=c&&c<e}
function h(a,c){return l(a,c.start)||a.start<c.end&&c.end<a.end||l(c,a.start)}function k(a){for(var c=[],e=0;e<a.length;e++)c.push({start:a.start(e),end:a.end(e)});return c}function f(a,c){for(var e=a.length-1;0<=e;e--){var f=a.start(e);if(c>=f){var k=a.end(e);if(c<k)return{start:f,end:k}}}return null}function c(a,c){for(var e=a.length,f=0;f<e;f++){var k=a.start(f);if(c<k)return k-c}return Infinity}function e(a,c){for(var e=null,f=[],k=a.length-1;0<=k;k--){var m=a.start(k),h=a.end(k);c<m||c>=h?f.push({start:m,
end:h}):e={start:m,end:h}}return{outerRanges:f,innerRange:e}}function m(a,c){var e=f(a,c);return e?e.end-e.start:0}function n(a,c){var e=f(a,c);return e?c-e.start:0}function p(a,c){var e=f(a,c);return e?e.end-c:Infinity}function q(a,c){if(c.start===c.end)return a;for(var e=0;e<a.length;e++){var f=a[e],k=h(c,f),m=Math.abs(f.start-c.end)<u||Math.abs(f.end-c.start)<u;if(k||m)c=g(c,f),a.splice(e--,1);else if(0===e){if(c.end<=a[0].start)break}else if(a[e-1].end<=c.start&&c.end<=f.start)break}a.splice(e,
0,c);for(e=0;e<a.length;e++)f=a[e],f.start===f.end&&a.splice(e++,1);for(e=1;e<a.length;e++)if(f=a[e-1],k=a[e],Math.abs(k.start-f.end)<u||Math.abs(k.end-f.start)<u)f=g(f,k),a.splice(--e,2,f);return a}function r(a,c){for(var e=0;e<a.length;e++){var f=a[e],k;a:{k=f;for(var m=c,b=0;b<m.length;b++)if(h(k,m[b])){k=m[b];break a}k=null}k?k.start>f.start?f.start=k.start:k.end<f.end&&(f.end=k.end):a.splice(e--,1)}return a}a.d(d,"h",function(){return k});a.d(d,"g",function(){return e});a.d(d,"a",function(){return p});
a.d(d,"d",function(){return c});a.d(d,"c",function(){return n});a.d(d,"i",function(){return f});a.d(d,"b",function(){return m});a.d(d,"e",function(){return q});a.d(d,"f",function(){return r});var u=1/60},function(b,d,a){(function(a){var b="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;a="undefined"!==typeof window&&window||"undefined"!==typeof a&&a||b;d.root=a;if(!a)throw Error("RxJS could not find any global context (window, self, global)");
}).call(d,a(260))},function(b,d,a){function g(a){for(var c=a.length,e=new Uint8Array(c),f=0;f<c;f++)e[f]=a.charCodeAt(f)&255;return e}function l(a){return String.fromCharCode.apply(null,a)}function h(a){for(var c="",e=a.length,f=0;f<e;f+=2)c+=String.fromCharCode(a[f]);return c}function k(a){for(var c=a.length,e=new Uint8Array(c/2),f=0,k=0;f<c;f+=2,k++)e[k]=parseInt(a.substr(f,2),16)&255;return e}function f(a,c){c||(c="");for(var e="",f=0;f<a.byteLength;f++)e+=(a[f]>>>4).toString(16),e+=(a[f]&15).toString(16),
c.length&&f<a.byteLength-1&&(e+=c);return e}function c(){for(var a=arguments.length,c=-1,e=0,f;++c<a;)f=arguments[c],e+="number"===typeof f?f:f.length;for(var e=new Uint8Array(e),k=0,c=-1;++c<a;)f=arguments[c],"number"===typeof f?k+=f:0<f.length&&(e.set(f,k),k+=f.length);return e}function e(a,c){return(a[0+c]<<8)+(a[1+c]<<0)}function m(a,c){return 65536*a[0+c]+256*a[1+c]+a[2+c]}function n(a,c){return 16777216*a[0+c]+65536*a[1+c]+256*a[2+c]+a[3+c]}function p(a,c){return 4294967296*(16777216*a[0+c]+
65536*a[1+c]+256*a[2+c]+a[3+c])+16777216*a[4+c]+65536*a[5+c]+256*a[6+c]+a[7+c]}function q(a){return new Uint8Array([a>>>8&255,a&255])}function r(a){return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255])}function u(a){var c=a%4294967296;a=(a-c)/4294967296;return new Uint8Array([a>>>24&255,a>>>16&255,a>>>8&255,a&255,c>>>24&255,c>>>16&255,c>>>8&255,c&255])}function w(a,c){return(a[0+c]<<0)+(a[1+c]<<8)}function t(a,c){return a[0+c]+256*a[1+c]+65536*a[2+c]+16777216*a[3+c]}function v(a){x.a.equal(a.length,
16,"UUID length should be 16");var c=g(a);a=c[0];var e=c[1],k=c[2],m=c[3],h=c[4],b=c[5],n=c[6],l=c[7],d=c.subarray(8,10),c=c.subarray(10,16),p=new Uint8Array(16);p[0]=m;p[1]=k;p[2]=e;p[3]=a;p[4]=b;p[5]=h;p[6]=l;p[7]=n;p.set(d,8);p.set(c,10);return f(p)}a.d(d,"b",function(){return g});a.d(d,"a",function(){return l});a.d(d,"l",function(){return h});a.d(d,"k",function(){return k});a.d(d,"p",function(){return f});a.d(d,"i",function(){return c});a.d(d,"g",function(){return e});a.d(d,"h",function(){return m});
a.d(d,"e",function(){return n});a.d(d,"f",function(){return p});a.d(d,"d",function(){return w});a.d(d,"c",function(){return t});a.d(d,"n",function(){return q});a.d(d,"j",function(){return r});a.d(d,"o",function(){return u});a.d(d,"m",function(){return v});var x=a(2)},function(b,d,a){var g=this&&this.__extends||function(a,h){function k(){this.constructor=a}for(var f in h)h.hasOwnProperty(f)&&(a[f]=h[f]);a.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)};b=function(a){function h(){a.apply(this,
arguments)}g(h,a);h.prototype.notifyNext=function(a,f,c,e,m){this.destination.next(f)};h.prototype.notifyError=function(a,f){this.destination.error(a)};h.prototype.notifyComplete=function(a){this.destination.complete()};return h}(a(3).Subscriber);d.OuterSubscriber=b},function(b,d,a){function g(a){return a.reduce(function(a,c){return a.concat(c instanceof e.UnsubscriptionError?c.errors:c)},[])}var l=a(26),h=a(79),k=a(50),f=a(51),c=a(34),e=a(258);b=function(){function a(a){this.closed=!1;this._subscriptions=
this._parents=this._parent=null;a&&(this._unsubscribe=a)}a.prototype.unsubscribe=function(){var a=!1,m;if(!this.closed){var b=this._parent,d=this._parents,u=this._unsubscribe,w=this._subscriptions;this.closed=!0;this._subscriptions=this._parents=this._parent=null;for(var t=-1,v=d?d.length:0;b;)b.remove(this),b=++t<v&&d[t]||null;k.isFunction(u)&&(b=f.tryCatch(u).call(this),b===c.errorObject&&(a=!0,m=m||(c.errorObject.e instanceof e.UnsubscriptionError?g(c.errorObject.e.errors):[c.errorObject.e])));
if(l.isArray(w))for(t=-1,v=w.length;++t<v;)b=w[t],h.isObject(b)&&(b=f.tryCatch(b.unsubscribe).call(b),b===c.errorObject&&(a=!0,m=m||[],b=c.errorObject.e,b instanceof e.UnsubscriptionError?m=m.concat(g(b.errors)):m.push(b)));if(a)throw new e.UnsubscriptionError(m);}};a.prototype.add=function(c){if(!c||c===a.EMPTY)return a.EMPTY;if(c===this)return this;var e=c;switch(typeof c){case "function":e=new a(c);case "object":if(e.closed||"function"!==typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),
e;"function"!==typeof e._addParent&&(c=e,e=new a,e._subscriptions=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this._subscriptions||(this._subscriptions=[])).push(e);e._addParent(this);return e};a.prototype.remove=function(a){var c=this._subscriptions;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1))};a.prototype._addParent=function(a){var c=this._parent,e=this._parents;c&&c!==a?e?-1===e.indexOf(a)&&e.push(a):this._parents=[a]:this._parent=a};a.EMPTY=function(a){a.closed=
!0;return a}(new a);return a}();d.Subscription=b},function(b,d,a){var g=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};b=a(0);var l=a(44),h=a(25),k=a(21);a=function(a){function c(c,f){a.call(this);this.array=c;this.scheduler=f;f||1!==c.length||(this._isScalar=!0,this.value=c[0])}g(c,a);c.create=function(a,f){return new c(a,f)};c.of=function(){for(var a=[],f=0;f<
arguments.length;f++)a[f-0]=arguments[f];f=a[a.length-1];k.isScheduler(f)?a.pop():f=null;var b=a.length;return 1<b?new c(a,f):1===b?new l.ScalarObservable(a[0],f):new h.EmptyObservable(f)};c.dispatch=function(a){var c=a.array,e=a.index,f=a.subscriber;e>=a.count?f.complete():(f.next(c[e]),f.closed||(a.index=e+1,this.schedule(a)))};c.prototype._subscribe=function(a){var e=this.array,f=e.length,k=this.scheduler;if(k)return k.schedule(c.dispatch,0,{array:e,index:0,count:f,subscriber:a});for(k=0;k<f&&
!a.closed;k++)a.next(e[k]);a.complete()};return c}(b.Observable);d.ArrayObservable=a},function(b,d,a){var g=a(11),l=a(76),h=a(80),k=a(79),f=a(0),c=a(47),e=a(168),m=a(48);d.subscribeToResult=function(a,b,d,r){var n=new e.InnerSubscriber(a,d,r);if(n.closed)return null;if(b instanceof f.Observable)if(b._isScalar)n.next(b.value),n.complete();else return b.subscribe(n);else if(l.isArrayLike(b)){a=0;for(d=b.length;a<d&&!n.closed;a++)n.next(b[a]);n.closed||n.complete()}else{if(h.isPromise(b))return b.then(function(a){n.closed||
(n.next(a),n.complete())},function(a){return n.error(a)}).then(null,function(a){g.root.setTimeout(function(){throw a;})}),n;if(b&&"function"===typeof b[c.iterator]){b=b[c.iterator]();do{a=b.next();if(a.done){n.complete();break}n.next(a.value);if(n.closed)break}while(1)}else if(b&&"function"===typeof b[m.observable])if(b=b[m.observable](),"function"!==typeof b.subscribe)n.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return b.subscribe(new e.InnerSubscriber(a,
d,r));else b=k.isObject(b)?"an invalid object":"'"+b+"'",n.error(new TypeError("You provided "+b+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}return null}},function(b,d,a){function g(a,c){return c.filter(function(c){var e;e=document.createElement(a.tagName);c="on"+c;c in e?e=!0:(e.setAttribute(c,"return;"),e="function"==typeof e[c]);return e})[0]}function l(a,e){return a.reduce(function(a,f){return a.concat((e||c.g).map(function(a){return a+f}))},[])}
function h(e,b){var h=void 0;e=l(e,b);return function(b){return b instanceof c.h?("undefined"==typeof h&&(h=g(b,e)||null),h?k.Observable.fromEvent(b,h):k.Observable.never()):a.i(f.a)(b,e)}}a.d(d,"b",function(){return p});a.d(d,"c",function(){return q});a.d(d,"f",function(){return r});a.d(d,"a",function(){return u});a.d(d,"e",function(){return w});a.d(d,"d",function(){return t});a.d(d,"i",function(){return v});a.d(d,"g",function(){return x});a.d(d,"h",function(){return y});a.d(d,"j",function(){return z});
var k=a(0);a.n(k);b=a(4);a(1);var f=a(31),c=a(35);b=b.a.INACTIVITY_DELAY;var e=window.devicePixelRatio||1;d=function(){var c=void 0;null!=document.hidden?c="":null!=document.mozHidden?c="moz":null!=document.msHidden?c="ms":null!=document.webkitHidden&&(c="webkit");var e=c?c+"Hidden":"hidden",c=c+"visibilitychange";return a.i(f.a)(document,c).map(function(){return document[e]})};var m=d().filter(function(a){return!1===a}),n=d().debounceTime(b).filter(function(a){return!0===a}),p=function(){return k.Observable.merge(m,
n).startWith(!1)},q=function(c){return k.Observable.merge(k.Observable.interval(2E4),a.i(f.a)(window,"resize").debounceTime(500)).startWith("init").map(function(){return c.clientWidth*e}).distinctUntilChanged()},r=h(["loadedmetadata"]),u=h(["fullscreenchange","FullscreenChange"],c.g.concat("MS")),w=h(["sourceopen","webkitsourceopen"]),t=h(["encrypted","needkey"]),v=h(["keymessage","message"]),x=h(["keyadded","ready"]),y=h(["keyerror","error"]),z=h(["keystatuseschange"])},function(b,d,a){a.d(d,"a",
function(){return g});a.d(d,"c",function(){return l});a.d(d,"b",function(){return h});b=a(161);var g=a.i(b.a)(["NETWORK_ERROR","MEDIA_ERROR","ENCRYPTED_MEDIA_ERROR","INDEX_ERROR","OTHER_ERROR"]),l=a.i(b.a)(["TIMEOUT","ERROR_EVENT","ERROR_HTTP_CODE","PARSE_ERROR"]),h=a.i(b.a)("PIPELINE_RESOLVE_ERROR PIPELINE_LOAD_ERROR PIPELINE_PARSING_ERROR MANIFEST_PARSE_ERROR MANIFEST_INCOMPATIBLE_CODECS_ERROR MEDIA_IS_ENCRYPTED_ERROR KEY_ERROR KEY_STATUS_CHANGE_ERROR KEY_UPDATE_ERROR KEY_LOAD_ERROR KEY_LOAD_TIMEOUT KEY_GENERATE_REQUEST_ERROR INCOMPATIBLE_KEYSYSTEMS LICENSE_SERVER_CERTIFICATE_ERROR BUFFER_APPEND_ERROR BUFFER_FULL_ERROR BUFFER_TYPE_UNKNOWN MEDIA_ERR_ABORTED MEDIA_ERR_NETWORK MEDIA_ERR_DECODE MEDIA_ERR_SRC_NOT_SUPPORTED MEDIA_SOURCE_NOT_SUPPORTED MEDIA_KEYS_NOT_SUPPORTED OUT_OF_INDEX_ERROR UNKNOWN_INDEX".split(" "))},
function(b,d,a){d.a=function(a,b,h){if("function"===typeof Array.prototype.includes)return a.includes(b,h);var k=a.length>>>0;if(0===k)return!1;h|=0;for(h=Math.max(0<=h?h:k-Math.abs(h),0);h<k;){var f=a[h],c=b;if(f===c||"number"===typeof f&&"number"===typeof c&&isNaN(f)&&isNaN(c))return!0;h++}return!1}},function(b,d,a){function g(){for(var a=arguments.length,c=Array(a),e=0;e<a;e++)c[e]=arguments[e];a=c.length;if(0===a)return"";for(var e="",b=0;b<a;b++){var n=c[b];"string"===typeof n&&""!==n&&(h.test(n)?
e=n:("/"===n[0]&&(n=n.substr(1)),"/"===e[e.length-1]&&(e=e.substr(0,e.length-1)),e=e+"/"+n))}a=e;if(k.test(a)){c=[];a=a.split("/");e=0;for(b=a.length;e<b;e++)".."==a[e]?c.pop():"."!=a[e]&&c.push(a[e]);c=c.join("/")}else c=a;return c}function l(a){var c=a.lastIndexOf("/");return 0<=c?a.substring(0,c+1):a}a.d(d,"b",function(){return g});a.d(d,"a",function(){return l});var h=/^(?:[a-z]+:)?\/\//i,k=/\/\.{1,2}\//},function(b,d,a){d.isScheduler=function(a){return a&&"function"===typeof a.schedule}},function(b,
d,a){b.exports=function(a,b,h){if("function"===typeof Array.prototype.find)return a.find(b,h);h=h||this;var k=a.length,f;if("function"!==typeof b)throw new TypeError(b+" is not a function");for(f=0;f<k;f++)if(b.call(h,a[f],f,a))return a[f]}},function(b,d,a){d.a=function(a,b,h){return a+"("+b+")"+(h?": "+h.message:"")}},function(b,d,a){a.d(d,"d",function(){return l});a.d(d,"e",function(){return h});a.d(d,"a",function(){return k});a.d(d,"b",function(){return f});a.d(d,"c",function(){return c});a(2);
var g=a(27),l=function(a,c,f){var e=a.presentationTimeOffset||0;a=a.timescale||1;return{up:c*a-e,to:(c+f)*a-e}},h=function(a){var c=a.ts,e=a.d;a=a.r;return-1===e?c:c+(a+1)*e},k=function(a,c){var e=c.initialization,e=void 0===e?{}:e;return new g.a({id:""+a+"_init",init:!0,range:e.range||null,indexRange:c.indexRange||null,media:e.media,timescale:c.timescale})},f=function(a,c){a.timescale!==c&&(a.timescale=c);return a},c=function(a,c){return c/a.timescale}},function(b,d,a){var g=this&&this.__extends||
function(a,b){function k(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)};b=function(a){function b(b){a.call(this);this.scheduler=b}g(b,a);b.create=function(a){return new b(a)};b.dispatch=function(a){a.subscriber.complete()};b.prototype._subscribe=function(a){var f=this.scheduler;if(f)return f.schedule(b.dispatch,0,{subscriber:a});a.complete()};return b}(a(0).Observable);d.EmptyObservable=b},function(b,d,a){d.isArray=
Array.isArray||function(a){return a&&"number"===typeof a.length}},function(b,d,a){d.a=function l(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.id=a.id;this.duration=a.duration;this.isInit=!!a.init;this.range=a.range;this.time=a.time;this.indexRange=a.indexRange;this.number=a.number;this.timescale=null==a.timescale?1:a.timescale;this.media=a.media}},function(b,d,a){function g(a,e){return new Date(1E3*
(a+e.availabilityStartTime))}function l(a,e){var c=a,f=e.suggestedPresentationDelay,b=e.presentationLiveGap,k=e.timeShiftBufferDepth;"number"!=typeof c&&(c=c.getTime());var h=Date.now();return Math.max(Math.min(c,h-1E3*(b+f)),h-1E3*k)/1E3-e.availabilityStartTime}function h(a){return f(a)[0]}function k(a){if(!a.isLive)return a.getDuration();var c=a.availabilityStartTime;a=a.presentationLiveGap;return Date.now()/1E3-c-a}function f(a){if(!a.isLive)return[0,a.getDuration()];var c=a.availabilityStartTime,
f=a.presentationLiveGap;a=a.timeShiftBufferDepth;c=Date.now()/1E3-c-f;return[Math.min(c,c-a+5),c]}a.d(d,"a",function(){return g});a.d(d,"b",function(){return l});a.d(d,"c",function(){return h});a.d(d,"d",function(){return k});a.d(d,"e",function(){return f})},function(b,d,a){function g(){this.__listeners={}}var l=a(1),h=a(2);g.prototype.addEventListener=function(b,f){a.i(h.a)("function"==typeof f,"eventemitter: second argument should be a function");this.__listeners[b]||(this.__listeners[b]=[]);this.__listeners[b].push(f)};
g.prototype.removeEventListener=function(a,f){if(0===arguments.length)this.__listeners={};else if(this.__listeners.hasOwnProperty(a))if(1===arguments.length)delete this.__listeners[a];else{var c=this.__listeners[a],e=c.indexOf(f);~e&&c.splice(e,1);c.length||delete this.__listeners[a]}};g.prototype.trigger=function(a,f){this.__listeners.hasOwnProperty(a)&&this.__listeners[a].slice().forEach(function(a){try{a(f)}catch(e){l.a.error(e,e.stack)}})};g.prototype.on=g.prototype.addEventListener;g.prototype.off=
g.prototype.removeEventListener;d.a=g},function(b,d,a){function g(a){if(null!=a){var c;"string"===typeof a?(c=a,a=!1):(c=a.language,a=!!a.closedCaption);return{language:c,closedCaption:a,normalized:h(c)}}return a}function l(a){if(null!=a){var c;"string"===typeof a?(c=a,a=!1):(c=a.language,a=!!a.audioDescription);return{language:c,audioDescription:a,normalized:h(c)}}return a}function h(a){if(null==a||""===a)return"";a=(""+a).toLowerCase().split("-");var c=a[0],b=void 0;2===c.length?b=k.a[c]:3===c.length&&
(b=f.a[c]);(c=b||c)&&(a[0]=c);return a.join("-")}a.d(d,"a",function(){return h});a.d(d,"b",function(){return l});a.d(d,"c",function(){return g});var k=a(159),f=a(160)},function(b,d,a){d.a=function(a,b){return Array.isArray(b)?g.Observable.merge.apply(null,b.map(function(b){return g.Observable.fromEvent(a,b)})):g.Observable.fromEvent(a,b)};var g=a(0);a.n(g)},function(b,d,a){var g=this&&this.__extends||function(a,b){function f(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=
null===b?Object.create(b):(f.prototype=b.prototype,new f)};b=a(5);var l=a(74);a=function(a){function b(f){a.call(this);this._value=f}g(b,a);Object.defineProperty(b.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0});b.prototype._subscribe=function(f){var c=a.prototype._subscribe.call(this,f);c&&!c.closed&&f.next(this._value);return c};b.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new l.ObjectUnsubscribedError;return this._value};
b.prototype.next=function(f){a.prototype.next.call(this,this._value=f)};return b}(b.Subject);d.BehaviorSubject=a},function(b,d,a){b=a(255);a=a(256);d.async=new a.AsyncScheduler(b.AsyncAction)},function(b,d,a){d.errorObject={e:{}}},function(b,d,a){a.d(d,"g",function(){return g});a.d(d,"h",function(){return l});a.d(d,"e",function(){return h});a.d(d,"a",function(){return k});a.d(d,"f",function(){return f});a.d(d,"b",function(){return c});a.d(d,"d",function(){return e});a.d(d,"c",function(){return m});
b=window;var g=["","webkit","moz","ms"],l=b.HTMLElement,h=b.HTMLVideoElement,k=b.MediaSource||b.MozMediaSource||b.WebKitMediaSource||b.MSMediaSource,f=b.MediaKeys||b.MozMediaKeys||b.WebKitMediaKeys||b.MSMediaKeys;f||(b=function(){throw new MediaError("MEDIA_KEYS_NOT_SUPPORTED",null,!0);},f={create:b,isTypeSupported:b});var c="Microsoft Internet Explorer"==navigator.appName||"Netscape"==navigator.appName&&/(Trident|Edge)\//.test(navigator.userAgent),e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox"),
m={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4}},function(b,d,a){a.d(d,"a",function(){return g});var g={STOPPED:"STOPPED",LOADED:"LOADED",LOADING:"LOADING",PLAYING:"PLAYING",PAUSED:"PAUSED",ENDED:"ENDED",BUFFERING:"BUFFERING",SEEKING:"SEEKING"}},function(b,d,a){a.d(d,"a",function(){return g});a.d(d,"b",function(){return l});b=a(108);var g=new b.a({load:function(){return[]},save:function(){}}),l=new b.b},function(b,d,a){Object.defineProperty(d,"__esModule",
{value:!0});var g=a(27),l=a(24),h=function(a,f){for(var c=a.timeline,e=0,b=c.length;e<b;){var k=e+b>>>1;c[k].ts<f?e=k+1:b=k}return 0<e?e-1:e};d["default"]={getInitSegment:l.a,setTimescale:l.b,scale:l.c,getSegments:function(b,f,c,e){e=a.i(l.d)(f,c,e);c=e.up;e=e.to;var k=f.timeline,n=f.timescale,d=f.media,q=[],r=k.length;f=h(f,c)-1;var u=k.length&&k[0].d||0;a:for(;!(++f>=r);){var w=k[f],t=w.d,v=w.ts,x=w.range,u=Math.max(u,t);if(0>t){v+u<e&&q.push(new g.a({id:""+b+"_"+v,time:v,init:!1,range:x,duration:void 0,
indexRange:null,timescale:n,media:d}));break}var y=k[f+1],z=w.r||0;0>z&&(z=Math.ceil(((y?y.t:Infinity)-w.ts)/w.d)-1);w=z;y=c-v;y=0<y?Math.floor(y/t):0;for(;(z=v+y*t)<e;)if(y++<=w)q.push(new g.a({id:""+b+"_"+z,time:z,init:!1,range:x,duration:t,indexRange:null,timescale:n,media:d}));else continue a;break}return q},shouldRefresh:function(b,f,c,e){c=b.timeline;f=b.timescale;b=b.presentationTimeOffset;c=c[c.length-1];if(!c)return!1;0>c.d&&(c={ts:c.ts,d:0,r:c.r});return!(e*f-(void 0===b?0:b)<=a.i(l.e)(c))},
getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(b){if(b.timeline.length){var f=b.timeline[b.timeline.length-1];return a.i(l.e)(f)/b.timescale}},checkDiscontinuity:function(b,f){var c=b.timeline,e=b.timescale,e=void 0===e?1:e,k=f*e;if(0>=k)return-1;var n=h(b,k);if(0>n||n>=c.length-1)return-1;var d=c[n];if(-1===d.d)return-1;var g=d.ts,d=a.i(l.e)(d),c=c[n+1];return d!==c.ts&&k>=g&&k<=d&&d-k<e?c.ts/e:-1},_addSegmentInfos:function(b,f,c){var e=
b.timeline,k=b.timescale,h=e.length,d=e[h-1];f=f.timescale===k?{time:f.time,duration:f.duration}:{time:f.time/f.timescale*k,duration:f.duration/f.timescale*k};var g=void 0;c&&(g=c.timescale===k?c.time:c.time/c.timescale*k);if(null!=g&&f.time===g){c=f.time+f.duration;k=c-(d.ts+d.d*d.r);if(0>=k)return!1;-1===d.d&&((h=e[h-2])&&h.d===k?(h.r++,e.pop()):d.d=k);b.timeline.push({d:-1,ts:c,r:0});return!0}return f.time>=a.i(l.e)(d)?(d.d===f.duration?d.r++:b.timeline.push({d:f.duration,ts:f.time,r:0}),!0):!1}}},
function(b,d,a){function g(c,e){for(var f=c.length,b=0,k,h=void 0;b+8<f&&(h=a.i(q.e)(c,b),k=a.i(q.e)(c,b+4),a.i(p.a)(0<h,"out of range size"),k!==e);)b+=h;if(b>=f)return-1;a.i(p.a)(b+h<=f,"atom out of range");return b}function l(c,e){var f=g(c,1936286840);if(-1==f)return null;var b=a.i(q.e)(c,f),f=f+4+4,k=c[f],f=f+8,h=a.i(q.e)(c,f),f=f+4;if(0===k)k=a.i(q.e)(c,f),f+=4,e+=a.i(q.e)(c,f)+b,f+=4;else if(1===k)k=a.i(q.f)(c,f),f+=8,e+=a.i(q.f)(c,f)+b,f+=8;else return null;for(var b=[],f=f+2,m=a.i(q.g)(c,
f),f=f+2;0<=--m;){var d=a.i(q.e)(c,f),f=f+4,n=d&2147483647;if(1==(d&2147483648)>>>31)throw Error("not implemented");d=a.i(q.e)(c,f);f+=4;f+=4;b.push({time:k,duration:d,count:0,timescale:h,range:[e,e+n-1]});k+=d;e+=n}return b}function h(e){e=c(e,1836019558);if(!e)return-1;e=c(e,1953653094);if(!e)return-1;var f=g(e,1952867444);if(-1==f)return-1;var f=f+4+4,b=e[f],f=f+4;return 1<b?-1:b?a.i(q.f)(e,f):a.i(q.e)(e,f)}function k(e){e=c(e,1836019558);if(!e)return-1;e=c(e,1953653094);if(!e)return-1;var f=g(e,
1953658222);if(-1==f)return-1;var f=f+4+4,b=e[f],f=f+1;if(1<b)return-1;var k=a.i(q.h)(e,f),f=f+3,b=k&256,h=0;if(!b)return f=g(e,1952868452),-1==f?h=-1:(f=f+4+4+1,b=a.i(q.h)(e,f),b&8?(f+=4,b&1&&(f+=8),b&2&&(f+=4),h=a.i(q.e)(e,f)):h=-1),0<=h?h:-1;var m=k&1,d=k&4,n=k&512,l=k&1024,k=k&2048,p=a.i(q.e)(e,f),f=f+4;m&&(f+=4);d&&(f+=4);m=p;for(d=0;m--;)b?(d+=a.i(q.e)(e,f),f+=4):d+=h,n&&(f+=4),l&&(f+=4),k&&(f+=4);return d}function f(e){e=c(e,1836019574);if(!e)return-1;e=c(e,1953653099);if(-1==f)return-1;e=
c(e,1835297121);if(-1==f)return-1;var f=g(e,1835296868);if(f/-1)return-1;var f=f+4+4,b=e[f],f=f+4;return 1===b?(f+=16,a.i(q.e)(e,f)):0==b?(f+=8,a.i(q.e)(e,f)):-1}function c(c,e){for(var f=c.length,b=0,k,h=void 0;b+8<f&&(h=a.i(q.e)(c,b),k=a.i(q.e)(c,b+4),a.i(p.a)(0<h,"out of range size"),k!==e);)b+=h;return b<f?c.subarray(b+8,b+h):null}function e(a){return c(a,1835295092)}function m(c){var e=c.systemId;c=c.privateData;e=e.replace(/-/g,"");a.i(p.a)(32===e.length);e=a.i(q.i)(4,a.i(q.k)(e),a.i(q.j)(c.length),
c);c=e.length+8;return a.i(q.i)(a.i(q.j)(c),a.i(q.b)("pssh"),e)}function n(c,e){if(!e||!e.length)return c;var f=g(c,1836019574);if(-1==f)return c;for(var b=a.i(q.e)(c,f),k=[c.subarray(f,f+b)],h=0;h<e.length;h++)k.push(m(e[h]));k=q.i.apply(null,k);k.set(a.i(q.j)(k.length),0);return a.i(q.i)(c.subarray(0,f),k,c.subarray(f+b))}a.d(d,"b",function(){return f});a.d(d,"e",function(){return h});a.d(d,"f",function(){return k});a.d(d,"a",function(){return l});a.d(d,"d",function(){return e});a.d(d,"c",function(){return n});
var p=a(2),q=a(12)},function(b,d,a){function g(c,e){var f=e.length+8,b=a.i(n.i),f=a.i(n.j)(f),k;q[c]?k=q[c]:(k=a.i(n.b)(c),q[c]=k);return b(f,k,e)}function l(c,e,f,b,k){for(var h=c.length,m=0,d;m<h;){d=a.i(n.e)(c,m);if(1970628964===a.i(n.e)(c,m+4)&&a.i(n.e)(c,m+8)===e&&a.i(n.e)(c,m+12)===f&&a.i(n.e)(c,m+16)===b&&a.i(n.e)(c,m+20)===k)return c.subarray(m+24,m+d);m+=d}}function h(c,f){for(var b=c.length,k=0,h,m=void 0;k+8<b&&(m=a.i(n.e)(c,k),h=a.i(n.e)(c,k+4),a.i(e.a)(0<m,"smooth: out of range size"),
h!==f);)k+=m;return k<b?c.subarray(k+8,k+m):null}function k(a,c,e,f){var b=[a,c,e];f.forEach(function(a){a=r.pssh(a.systemId,a.privateData,a.keyIds);b.push(a)});return b}function f(c,e,f,b){var k=c.length,h=e.length;f=f.length;c=c.subarray(f,k);k=new Uint8Array(h+(k-f));k.set(e,0);k.set(c,h);e=e.length+8;k.set(a.i(n.j)(e),b+16);return k}function c(c,e,f,b,h,m,d){f=r.mult("stbl",[f,g("stts",new Uint8Array(8)),g("stsc",new Uint8Array(8)),g("stsz",new Uint8Array(12)),g("stco",new Uint8Array(8))]);var l=
g("url ",new Uint8Array([0,0,0,1])),l=r.dref(l),l=r.mult("dinf",[l]);b=r.mult("minf",[b,l,f]);e=r.hdlr(e);f=r.mdhd(c);e=r.mult("mdia",[f,e,b]);h=r.tkhd(h,m,1);h=r.mult("trak",[h,e]);m=r.trex(1);m=r.mult("mvex",[m]);c=r.mvhd(c,1);d=r.mult("moov",k(c,m,h,d));c=r.ftyp("isom",["isom","iso2","iso6","avc1","dash"]);return a.i(n.i)(c,d)}var e=a(2),m=a(7),n=a(12),p=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],q={},r={mult:function(a,c){return g(a,n.i.apply(null,c))},avc1encv:function(c,
e,f,b,k,h,m,d,l,p){return g(c,a.i(n.i)(6,a.i(n.n)(e),16,a.i(n.n)(f),a.i(n.n)(b),a.i(n.n)(k),2,a.i(n.n)(h),6,[0,1,m.length],a.i(n.b)(m),31-m.length,a.i(n.n)(d),[255,255],l,"encv"===c?p:[]))},avcc:function(c,e,f){f=2===f?1:4===f?3:0;var b=c[1],k=c[2],h=c[3];return g("avcC",a.i(n.i)([1,b,k,h,252|f,225],a.i(n.n)(c.length),c,[1],a.i(n.n)(e.length),e))},dref:function(c){return g("dref",a.i(n.i)(7,[1],c))},esds:function(c,e){return g("esds",a.i(n.i)(4,[3,25],a.i(n.n)(c),[0,4,17,64,21],11,[5,2],a.i(n.k)(e),
[6,1,2]))},frma:function(c){return g("frma",a.i(n.b)(c))},free:function(a){return g("free",new Uint8Array(a-8))},ftyp:function(c,e){return g("ftyp",n.i.apply(null,[a.i(n.b)(c),[0,0,0,1]].concat(e.map(n.b))))},hdlr:function(c){var e;switch(c){case "video":c="vide";e="VideoHandler";break;case "audio":c="soun";e="SoundHandler";break;default:c="hint",e=""}return g("hdlr",a.i(n.i)(8,a.i(n.b)(c),12,a.i(n.b)(e),1))},mdhd:function(c){return g("mdhd",a.i(n.i)(12,a.i(n.j)(c),8))},moof:function(a,c){return r.mult("moof",
[a,c])},mp4aenca:function(c,e,f,b,k,h,m,d){return g(c,a.i(n.i)(6,a.i(n.n)(e),8,a.i(n.n)(f),a.i(n.n)(b),2,a.i(n.n)(k),a.i(n.n)(h),2,m,"enca"===c?d:[]))},mvhd:function(c,e){return g("mvhd",a.i(n.i)(12,a.i(n.j)(c),4,[0,1],2,[1,0],10,[0,1],14,[0,1],14,[64,0,0,0],26,a.i(n.n)(e+1)))},pssh:function(c){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];c=c.replace(/-/g,"");a.i(e.a)(32===c.length,"wrong system id length");var k,h=b.length;
0<h?(k=1,b=n.i.apply(null,[a.i(n.j)(h)].concat(b))):(k=0,b=[]);return g("pssh",a.i(n.i)([k,0,0,0],a.i(n.k)(c),b,a.i(n.j)(f.length),f))},saio:function(c,e,f,b){return g("saio",a.i(n.i)(4,[0,0,0,1],a.i(n.j)(c.length+e.length+f.length+b.length+8+8+8+8)))},saiz:function(c){if(0===c.length)return g("saiz",new Uint8Array);var e=a.i(n.e)(c,0),f=a.i(n.e)(c,4),b=new Uint8Array(9+f);b.set(a.i(n.j)(f),5);for(var f=9,k=8,h,m;k<c.length;)k+=8,2===(e&2)?(m=2,h=a.i(n.g)(c,k),k+=2+6*h):m=h=0,b[f]=6*h+8+m,f++;return g("saiz",
b)},schm:function(c,e){return g("schm",a.i(n.i)(4,a.i(n.b)(c),a.i(n.j)(e)))},senc:function(a){return g("senc",a)},smhd:function(){return g("smhd",new Uint8Array(8))},stsd:function(a){return g("stsd",n.i.apply(null,[7,[a.length]].concat(a)))},tkhd:function(c,e,f){return g("tkhd",a.i(n.i)(a.i(n.j)(7),8,a.i(n.j)(f),20,[1,0,0,0],[0,1,0,0],12,[0,1,0,0],12,[64,0,0,0],a.i(n.n)(c),2,a.i(n.n)(e),2))},trex:function(c){return g("trex",a.i(n.i)(4,a.i(n.j)(c),[0,0,0,1],12))},tfdt:function(c){return g("tfdt",a.i(n.i)([1,
0,0,0],a.i(n.o)(c)))},tenc:function(c,e,f){return g("tenc",a.i(n.i)(6,[c,e],a.i(n.k)(f)))},traf:function(a,c,e,f,b){var k=[a,c,e];f&&k.push(r.senc(f),r.saiz(f),r.saio(b,a,c,e));return r.mult("traf",k)},trun:function(c){if(c[11]&1)return c;var e=new Uint8Array(c.length+4);e.set(a.i(n.j)(c.length+4),0);e.set(c.subarray(4,16),4);e[11]|=1;e.set([0,0,0,0],16);e.set(c.subarray(16,c.length),20);return e},vmhd:function(){var a=new Uint8Array(12);a[3]=1;return g("vmhd",a)}},u={traf:function(a){return(a=h(a,
1836019558))?h(a,1953653094):null},senc:function(a){return l(a,2721664850,1520127764,2722393154,2086964724)},tfxd:function(a){return l(a,1830656773,1121273062,2162299933,2952222642)},tfrf:function(a){return l(a,3565190898,3392751253,2387879627,2655430559)},mdat:function(a){return h(a,1835295092)}};d.a={getMdat:u.mdat,getTraf:u.traf,parseTfrf:function(c){c=u.tfrf(c);if(!c)return[];for(var e=[],f=c[0],b=c[4],k=0;k<b;k++){var h,m;1==f?(m=a.i(n.f)(c,16*k+5),h=a.i(n.f)(c,16*k+13)):(m=a.i(n.e)(c,8*k+5),
h=a.i(n.e)(c,8*k+9));e.push({time:m,duration:h})}return e},parseTfxd:function(c){if(c=u.tfxd(c))return{duration:a.i(n.f)(c,12),time:a.i(n.f)(c,4)}},createVideoInitSegment:function(e,f,b,k,h,m,d,l,g){g||(g=[]);var p=d.split("00000001");d=p[1];p=p[2];d=a.i(n.k)(d);p=a.i(n.k)(p);m=r.avcc(d,p,m);g.length?(l=r.tenc(1,8,l),l=r.mult("schi",[l]),d=r.schm("cenc",65536),p=r.frma("avc1"),l=r.mult("sinf",[p,d,l]),k=r.avc1encv("encv",1,f,b,k,h,"AVC Coding",24,m,l)):k=r.avc1encv("avc1",1,f,b,k,h,"AVC Coding",24,
m);k=r.stsd([k]);return c(e,"video",k,r.vmhd(),f,b,g)},createAudioInitSegment:function(e,f,b,k,h,m,d,l){l||(l=[]);m||(m=(32|p.indexOf(h)&31)<<4,m=(m|f&31)<<3,m=a.i(n.p)(a.i(n.n)(m)));m=r.esds(1,m);if(l.length){d=r.tenc(1,8,d);d=r.mult("schi",[d]);var g=r.schm("cenc",65536),q=r.frma("mp4a");d=r.mult("sinf",[q,g,d]);f=r.mp4aenca("enca",1,f,b,k,h,m,d)}else f=r.mp4aenca("mp4a",1,f,b,k,h,m);f=r.stsd([f]);return c(e,"audio",f,r.smhd(),0,0,l)},patchSegment:function(c,e){var b=c.subarray(0,a.i(n.e)(c,0)),
k=r.tfdt(e),h=k.length,d=a.i(n.e)(b,8),l=a.i(n.e)(b,8+d),g=a.i(n.e)(b,8+d+8),p=a.i(n.e)(b,8+d+8+g),q=b.subarray(8,8+d),t=b.subarray(8+d+8,8+d+8+l-8),l=t.subarray(0,g),p=t.subarray(g,g+p);l.set([0,0,0,1],12);t=u.senc(t);p=r.trun(p);k=r.traf(l,k,p,t,q);q=r.moof(q,k);h=8+d+8+g+h;return m.r?f(c,q,b,h):8<=b.length-q.length?(b=b.length-q.length,c.set(q,0),c.set(r.free(b),q.length),b=q.length+8+b,c.set(a.i(n.j)(b),h+16),c):f(c,q,b,h)}}},function(b,d,a){var g=0;d.a=function(){var a=0;g<Number.MAX_VALUE&&
(a=g+1);g=a;return""+a}},function(b,d,a){var g=a(0);a.n(g);var l=a(6);d.a=function(a){var b={url:"",headers:null,method:"GET",responseType:"json",timeout:3E4,body:void 0},f;for(f in b)a.hasOwnProperty(f)&&(b[f]=a[f]);return g.Observable.create(function(c){var e=b.url,f=b.headers,k=b.responseType,h=b.timeout,d=b.body,g=new XMLHttpRequest;g.open(b.method,e,!0);0<=h&&(g.timeout=h);g.responseType=k;"document"===g.responseType&&g.overrideMimeType("text/xml");if(f)for(var u in f)g.setRequestHeader(u,f[u]);
var w=Date.now();g.onerror=function(){c.error(new l.h(g,e,l.j.ERROR_EVENT))};g.ontimeout=function(){c.error(new l.h(g,e,l.j.TIMEOUT))};a.ignoreProgressEvents||(g.onprogress=function(a){c.next({type:"progress",value:{url:e,sentTime:w,currentTime:Date.now(),loadedSize:a.loaded,totalSize:a.total}})});g.onload=function(a){if(4===g.readyState)if(200<=g.status&&300>g.status){var f=Date.now();a=a.total;var b=g.status,k=g.responseType,h=g.responseURL||e,m=void 0;if("json"===k)if("string"!=typeof g.response)m=
g.response;else try{m=JSON.parse(g.responseText)}catch(D){m=null}else m=g.response;null==m?c.error(new l.h(g,h,l.j.PARSE_ERROR)):(c.next({type:"response",value:{status:b,url:h,responseType:k,sentTime:w,receivedTime:f,size:a,responseData:m}}),c.complete())}else c.error(new l.h(g,e,l.j.ERROR_HTTP_CODE))};void 0!==d?g.send(d):g.send();return function(){g&&4!==g.readyState&&g.abort()}})}},function(b,d,a){d.a=function(a,b){try{return a(b)}catch(k){return g.Observable["throw"](k)}};var g=a(0);a.n(g)},function(b,
d,a){var g=this&&this.__extends||function(a,b){function k(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)};b=function(a){function b(b,f){a.call(this);this.value=b;this.scheduler=f;this._isScalar=!0;f&&(this._isScalar=!1)}g(b,a);b.create=function(a,f){return new b(a,f)};b.dispatch=function(a){var f=a.value,c=a.subscriber;a.done?c.complete():(c.next(f),c.closed||(a.done=!0,this.schedule(a)))};b.prototype._subscribe=
function(a){var f=this.value,c=this.scheduler;if(c)return c.schedule(b.dispatch,0,{done:!1,value:f,subscriber:a});a.next(f);a.closed||a.complete()};return b}(a(0).Observable);d.ScalarObservable=b},function(b,d,a){var g=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var f in c)c.hasOwnProperty(f)&&(a[f]=c[f]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,new e)};b=a(13);var l=a(16);d.mergeAll=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return this.lift(new h(a))};
var h=function(){function a(a){this.concurrent=a}a.prototype.call=function(a,e){return e.subscribe(new k(a,this.concurrent))};return a}();d.MergeAllOperator=h;var k=function(a){function c(c,f){a.call(this,c);this.concurrent=f;this.hasCompleted=!1;this.buffer=[];this.active=0}g(c,a);c.prototype._next=function(a){this.active<this.concurrent?(this.active++,this.add(l.subscribeToResult(this,a))):this.buffer.push(a)};c.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&
this.destination.complete()};c.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);this.active--;0<c.length?this._next(c.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return c}(b.OuterSubscriber);d.MergeAllSubscriber=k},function(b,d,a){var g=a(210);d.multicast=function(a,b){var f;f="function"===typeof a?a:function(){return a};if("function"===typeof b)return this.lift(new l(f,b));var c=Object.create(this,g.connectableObservableDescriptor);c.source=this;
c.subjectFactory=f;return c};var l=function(){function a(a,f){this.subjectFactory=a;this.selector=f}a.prototype.call=function(a,f){var c=this.selector,e=this.subjectFactory(),c=c(e).subscribe(a);c.add(f.subscribe(e));return c};return a}();d.MulticastOperator=l},function(b,d,a){function g(a){var b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof(new b)["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),
k=0;k<b.length;++k){var f=b[k];if("entries"!==f&&"size"!==f&&a.prototype[f]===a.prototype.entries)return f}return"@@iterator"}b=a(11);d.symbolIteratorPonyfill=g;d.iterator=g(b.root);d.$$iterator=d.iterator},function(b,d,a){function g(a){var b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a}b=a(11);d.getSymbolObservable=g;d.observable=g(b.root);d.$$observable=d.observable},function(b,d,a){b=a(11).root.Symbol;d.rxSubscriber="function"===
typeof b&&"function"===typeof b["for"]?b["for"]("rxSubscriber"):"@@rxSubscriber";d.$$rxSubscriber=d.rxSubscriber},function(b,d,a){d.isFunction=function(a){return"function"===typeof a}},function(b,d,a){function g(){try{return h.apply(this,arguments)}catch(k){return l.errorObject.e=k,l.errorObject}}var l=a(34),h;d.tryCatch=function(a){h=a;return g}},function(b,d,a){b.exports=function(a,b,h){if("function"===typeof Array.prototype.findIndex)return a.findIndex(b,h);if("function"!==typeof b)throw new TypeError("predicate must be a function");
a=Object(a);var k=a.length;if(0===k)return-1;for(var f=0;f<k;f++)if(b.call(h,a[f],f,a))return f;return-1}},function(b,d,a){function g(a,c){function e(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};a.errorCode&&(a={systemCode:a.systemCode,code:a.errorCode.code});this.name="KeySessionError";this.mediaKeyError=a;this.message="MediaKeyError code:"+a.code+" and systemCode:"+a.systemCode}e.prototype=Error();return function(f,b){var k="function"==typeof c?c.call(this):this,h=m.g(k),d=
m.h(k).map(function(a){throw new e(k.error||a);});try{return a.call(this,f,b),l.Observable.merge(h,d).take(1)}catch(G){return l.Observable["throw"](G)}}}a.d(d,"b",function(){return q});a.d(d,"a",function(){return p});b=a(8);b=a.n(b);var l=a(0);a.n(l);var h=a(29),k=a(12),f=a(2),c=a(9),e=a(35),m=a(17),n=a(54),p=void 0;navigator.requestMediaKeySystemAccess&&(p=function(e,f){return a.i(c.a)(navigator.requestMediaKeySystemAccess(e,f))});var q=function(){};if(!p&&e.e.prototype.webkitGenerateKeyRequest){var r=
function(a,c){var e=this;h.a.call(this);this.sessionId="";this._vid=a;this._key=c;this._con=l.Observable.merge(m.i(a),m.g(a),m.h(a)).subscribe(function(a){return e.trigger(a.type,a)})};r.prototype=b()({generateRequest:function(a,c){this._vid.webkitGenerateKeyRequest(this._key,c)},update:g(function(c,e){if(0<=this._key.indexOf("clearkey")){var f=JSON.parse(a.i(k.a)(c)),b=a.i(k.b)(atob(f.keys[0].k)),f=a.i(k.b)(atob(f.keys[0].kid));this._vid.webkitAddKey(this._key,b,f,e)}else this._vid.webkitAddKey(this._key,
c,null,e);this.sessionId=e}),close:function(){this._con&&this._con.unsubscribe();this._vid=this._con=null}},h.a.prototype);q=function(a){this.ks_=a};q.prototype={_setVideo:function(a){this._vid=a},createSession:function(){return new r(this._vid,this.ks_)}};var u=function(a){var c=document.querySelector("video")||document.createElement("video");return c&&c.canPlayType?!!c.canPlayType("video/mp4",a):!1},p=function(a,c){if(!u(a))return l.Observable["throw"]();for(var e=0;e<c.length;e++){var f=c[e],b=
f.videoCapabilities,k=f.audioCapabilities,h=f.initDataTypes,m=f.sessionTypes,d=f.distinctiveIdentifier,f=f.persistentState,g=!0;if(g=(g=(g=(g=g&&(!h||!!h.filter(function(a){return"cenc"===a})[0]))&&(!m||m.filter(function(a){return"temporary"===a}).length===m.length))&&"required"!==d)&&"required"!==f)return e={videoCapabilities:b,audioCapabilities:k,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"not-allowed",sessionTypes:["temporary"]},l.Observable.of(new n.a(a,new q(a),
e))}return l.Observable["throw"]()}}else if(e.f&&!p){var w=function(a){h.a.call(this);this.sessionId="";this._mk=a};w.prototype=b()({generateRequest:function(a,c){var e=this;this._ss=this._mk.memCreateSession("video/mp4",c);this._con=l.Observable.merge(m.i(this._ss),m.g(this._ss),m.h(this._ss)).subscribe(function(a){return e.trigger(a.type,a)})},update:g(function(c,e){a.i(f.a)(this._ss);this._ss.update(c,e);this.sessionId=e},function(){return this._ss}),close:function(){this._ss&&(this._ss.close(),
this._ss=null);this._con&&(this._con.unsubscribe(),this._con=null)}},h.a.prototype);e.f.prototype.alwaysRenew=!0;e.f.prototype.memCreateSession=e.f.prototype.createSession;e.f.prototype.createSession=function(){return new w(this)};p=function(a,c){if(!e.f.isTypeSupported(a))return l.Observable["throw"]();for(var f=0;f<c.length;f++){var b=c[f],k=b.videoCapabilities,h=b.audioCapabilities,m=b.initDataTypes,b=b.distinctiveIdentifier,d=!0;if(d=(d=d&&(!m||!!m.filter(function(a){return"cenc"===a})[0]))&&
"required"!==b)return f={videoCapabilities:k,audioCapabilities:h,initDataTypes:["cenc"],distinctiveIdentifier:"not-allowed",persistentState:"required",sessionTypes:["temporary","persistent-license"]},l.Observable.of(new n.a(a,new e.f(a),f))}return l.Observable["throw"]()}}},function(b,d,a){var g=a(0);a.n(g);var l=function(){function a(a,f){for(var c=0;c<f.length;c++){var e=f[c];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(a,e.key,e)}}return function(b,
f,c){f&&a(b.prototype,f);c&&a(b,c);return b}}();b=function(){function a(b,f,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._keyType=b;this._mediaKeys=f;this._configuration=c}a.prototype.createMediaKeys=function(){return g.Observable.of(this._mediaKeys)};a.prototype.getConfiguration=function(){return this._configuration};l(a,[{key:"keySystem",get:function(){return this._keyType}}]);return a}();d.a=b},function(b,d,a){b=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this._alpha=Math.exp(Math.log(.5)/b);this._totalWeight=this._lastEstimate=0}a.prototype.addSample=function(a,b){var k=Math.pow(this._alpha,a),k=b*(1-k)+k*this._lastEstimate;isNaN(k)||(this._lastEstimate=k,this._totalWeight+=a)};a.prototype.getEstimate=function(){return this._lastEstimate/(1-Math.pow(this._alpha,this._totalWeight))};return a}();d.a=b},function(b,d,a){function g(b,h,d){function l(e){return a.i(c.a)(e.createMediaKeys())}function g(c,
e){var h=e.keySystem,g=e.keySystemAccess;h.persistentLicense&&m.a.setStorage(h.licenseStorage);f.a.info("eme: encrypted event",c);return l(g).mergeMap(function(e){var f=h.serverCertificate,f=f&&"function"===typeof e.setServerCertificate?a.i(n.a)(e,f,d):k.Observable.empty(),m=g.getConfiguration();return f.concat(k.Observable.merge(a.i(p.a)(e,m,b,h,u),a.i(q.a)(e,m,h,c.initDataType,new Uint8Array(c.initData),d)))})}return k.Observable.combineLatest(a.i(e.d)(b),a.i(r.a)(h,u)).take(1).mergeMap(function(a){return g(a[0],
a[1])})}function l(){a.i(p.b)(u.$videoElement).subscribe(function(){});u.$mediaKeys=null;u.$keySystem=null;u.$videoElement=null;u.$mediaKeySystemConfiguration=null;m.b.dispose()}function h(){return a.i(r.b)(u)}a.d(d,"c",function(){return g});a.d(d,"b",function(){return h});a.d(d,"a",function(){return l});var k=a(0);a.n(k);var f=a(1),c=a(9);a(2);var e=a(17),m=a(37),n=a(105),p=a(110),q=a(106),r=a(104);a.d(d,"d",function(){return e.d});var u={$mediaKeys:null,$mediaKeySystemConfiguration:null,$keySystem:null,
$videoElement:null}},function(b,d,a){b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._entries=[]}a.prototype.find=function(a){for(var b=0;b<this._entries.length;b++)if(!0===a(this._entries[b]))return this._entries[b];return null};return a}();d.a=b},function(b,d,a){d.a=function(a){if("number"==typeof a)return a;for(var b=0,h,k=0;k<a.length;k++)h=a[k],b=(b<<5)-b+h,b&=b;return b}},function(b,d,a){function g(a,c){if("function"!==typeof c&&
null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}a.d(d,"a",function(){return c});b=a(29);var l=a(2),h=a(43),k=a(9),f=a(123),c=function(c){function e(a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var b;b=c.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
b=!b||"object"!==typeof b&&"function"!==typeof b?this:b;b.codec=a;b.updating=!1;b.readyState="opened";b.buffered=new f.a;return b}g(e,c);e.prototype.appendBuffer=function(a){var c=this;this._lock(function(){return c._append(a)})};e.prototype.remove=function(a,c){var e=this;this._lock(function(){return e._remove(a,c)})};e.prototype.abort=function(){this.remove(0,Infinity);this.updating=!1;this.readyState="closed";this._abort()};e.prototype._append=function(){};e.prototype._remove=function(){};e.prototype._abort=
function(){};e.prototype._lock=function(c){var e=this;a.i(l.a)(!this.updating,"updating");this.updating=!0;this.trigger("updatestart");a.i(h.a)(function(){return a.i(k.a)(c())}).subscribe(function(){return setTimeout(function(){return e._unlock("update")},0)},function(a){return setTimeout(function(){return e._unlock("error",a)},0)})};e.prototype._unlock=function(a,c){this.updating=!1;this.trigger(a,c);this.trigger("updateend")};return e}(b.a)},function(b,d,a){function g(b){var k=0,f=b.length,c=a.i(l.a)(b.subarray(k,
k+8)),k=k+8,e=b[k],k=k+1,h=b[k],k=k+1,d=b[k],k=k+1,g=b[k],k=k+1,e=[e,h,d,g].join("."),h=b[k]+a.i(l.c)(b,k+1),k=k+4,d=a.i(l.c)(b,k),k=k+4,g=a.i(l.a)(b.subarray(k,k+4)),k=k+4,q=a.i(l.d)(b,k),k=k+2,r=a.i(l.d)(b,k),k=k+2,u=[b[k],b[k+1]].join(":"),w=1===b[k+2],k=64,t=[],v=void 0,x=0;if(!h)throw Error("bif: no images to parse");for(;k<f;){var y=a.i(l.c)(b,k),k=k+4,z=a.i(l.c)(b,k),k=k+4;if(v){var A=v.index,D=d,C=x,v=b.subarray(v.offset,z);t.push({index:A,duration:D,ts:C,data:v});x+=d}if(4294967295===y)break;
v={index:y,offset:z}}return{fileFormat:c,version:e,imageCount:h,timescale:d,format:g,width:q,height:r,aspectRatio:u,isVod:w,thumbs:t}}a.d(d,"a",function(){return g});var l=a(12)},function(b,d,a){function g(a,c,e){a="string"==typeof a?(new DOMParser).parseFromString(a,"text/xml"):a;if(!(a instanceof window.Document||a instanceof window.HTMLElement))throw Error("ttml needs a Document to parse");a=a.querySelector("tt");if(!a)throw Error("ttml could not find <tt> tag");a=l(a.querySelector("body"),0);
for(c=0;c<a.length;c++){var f=a[c];f.start+=e;f.end+=e}return a}function l(a,c){var e=0;a=a.firstChild;for(var b=[],m;a;){if(1===a.nodeType)switch(a.tagName.toUpperCase()){case "P":m=a;var d=c,n=e,e=h(m.getAttribute("begin"),d),g=h(m.getAttribute("end"),d),p=h(m.getAttribute("dur"),0);if("number"==!("undefined"===typeof e||k(e))&&"number"==!("undefined"===typeof g||k(g))&&"number"==!("undefined"===typeof p||k(p)))throw Error("ttml unsupported timestamp format");0<p?(null==e&&(e=n||d),null==g&&(g=
e+p)):null==g&&(g=h(m.getAttribute("duration"),0),g=0<=g?g+e:Number.MAX_VALUE);d=m.innerHTML;null==d&&(d=(new XMLSerializer).serializeToString(m),d=(new DOMParser).parseFromString(d,"text/html").body.firstChild.innerHTML);d=window.escape(d.replace(f,"\r\n"));d=d.replace(/%C3%26nbsp%3B/gm,"%C3%A0");m={id:m.getAttribute("xml:id")||m.getAttribute("id"),text:decodeURIComponent(d),start:e,end:g};e=m.end;b.push(m);break;case "DIV":m=h(a.getAttribute("begin"),0),null==m&&(m=c),b.push.apply(b,l(a,m))}a=a.nextSibling}return b}
function h(a,f){if(!a)return null;var b;if(b=a.match(c)){var k=b[3],h=b[4],d=b[6];return 3600*parseInt(b[2]||0,10)+60*parseInt(k,10)+parseInt(h,10)+parseFloat("0."+d)}return(b=a.match(e))?(k=b[4],parseFloat(b[1])*m[k]+f):null}a.d(d,"a",function(){return g});var k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=/<br.*?>/gm,c=/^(([0-9]+):)?([0-9]+):([0-9]+)(\.([0-9]+))?$/,
e=/(([0-9]+)(\.[0-9]+)?)(ms|h|m|s)/,m={h:3600,m:60,s:1,ms:.001}},function(b,d,a){function g(a){if("timeline"===a.indexType){var c=a.timeline[a.timeline.length-1],e=c.d;return(c.ts+(c.r+1)*e)/a.timescale-Math.min(Math.max(e/a.timescale,5),10)}return Date.now()/1E3-5}function l(a){return a}function h(a){return"true"==a}function k(a){return"true"==a?!0:"false"==a?!1:parseInt(a)}function f(a){return new Date(Date.parse(a))}function c(c){if(!c)return 0;var e=v.exec(c);a.i(t.a)(e,c+" is not a valid ISO8601 duration");
return 31536E3*parseFloat(e[2]||0)+2592E3*parseFloat(e[4]||0)+86400*parseFloat(e[6]||0)+3600*parseFloat(e[8]||0)+60*parseFloat(e[10]||0)+parseFloat(e[12]||0)}function e(a){var c=y.exec(a);if(!c)return-1;a=parseInt(c[1])||0;c=parseInt(c[2])||0;return 0<c?a/c:a}function m(a){return a}function n(a){return(a=x.exec(a))?[+a[1],+a[2]]:null}function p(a,c,e){for(a=a.firstElementChild;a;)e=c(e,a.nodeName,a),a=a.nextElementSibling;return e}function q(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===
a.schemeIdUri&&1===a.value:!1}function r(c){var e=c.mimeType,e=void 0===e?"":e,f=e.split("/")[0];if(a.i(w.a)(z,f))return f;if("application/bif"===e)return"image";if("application/ttml+xml"===e)return"text";if("application/mp4"===e)return(c=c.role)&&"urn:mpeg:dash:role:2011"===c.schemeIdUri&&"subtitle"===c.value?"text":"metadata";c=c.representations;c=void 0===c?[]:c;return c.length&&(c=c[0].mimeType.split("/")[0],a.i(w.a)(z,c))?c:"unknown"}function u(a){return a?"urn:tva:metadata:cs:AudioPurposeCS:2007"===
a.schemeIdUri&&2===a.value:!1}a.d(d,"g",function(){return l});a.d(d,"h",function(){return e});a.d(d,"f",function(){return n});a.d(d,"i",function(){return h});a.d(d,"m",function(){return f});a.d(d,"j",function(){return c});a.d(d,"l",function(){return k});a.d(d,"k",function(){return m});a.d(d,"a",function(){return p});a.d(d,"b",function(){return A});a.d(d,"d",function(){return u});a.d(d,"e",function(){return q});a.d(d,"c",function(){return r});var w=a(19),t=a(2),v=/^P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,
x=/([0-9]+)-([0-9]+)/,y=/([0-9]+)(\/([0-9]+))?/,z=["audio","video","text","image"],A=function(a){if(a){var c=a.representations||[],e=c.filter(function(a){return a&&a.index});if(!c.length)return g(a.index);var f=Math.min.apply(Math,e.map(function(a){return g(a.index)}));if(!isNaN(f)){if(c.length===e.length)return f;if(a.index)return a=g(a.index),Math.min(f,a)}}}},function(b,d,a){function g(a){var b=a.value;return"response"===a.type?{type:"response",value:{responseData:b.responseData,size:b.size,duration:b.receivedTime-
b.sentTime,url:b.url}}:{type:"progress",value:{size:b.loadedSize,totalSize:b.totalSize,duration:b.currentTime-b.sentTime,url:b.url}}}var l=a(42);d.a=function(b){return a.i(l.a)(b).map(g)}},function(b,d,a){function g(a){return function(c,e,f){c=f?parseInt(f,10):1;e=""+a;e=e.toString();c=e.length>=c?e:(Array(c+1).join("0")+e).slice(-c);return c}}function l(a,c,e){return-1===a.indexOf("$")?a:a.replace(/\$\$/g,"$").replace(/\$RepresentationID\$/g,e.id).replace(/\$Bandwidth(|\%0(\d+)d)\$/g,g(e.bitrate)).replace(/\$Number(|\%0(\d+)d)\$/g,
g(c.number)).replace(/\$Time(|\%0(\d+)d)\$/g,g(c.time))}function h(a){return"application/mp4"===a.mimeType}function k(a){var c=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +c+"-"+ +a:"bytes="+ +c+"-"}a.d(d,"b",function(){return l});a.d(d,"a",function(){return h});a.d(d,"c",function(){return k})},function(b,d,a){function g(a){var b=a.value;return"response"===a.type?{type:"response",value:{responseData:b.responseData,size:b.size,duration:b.receivedTime-b.sentTime,url:b.url}}:{type:"progress",value:{size:b.loadedSize,
totalSize:b.totalSize,duration:b.currentTime-b.sentTime,url:b.url}}}var l=a(42);d.a=function(b){return a.i(l.a)(b).map(g)}},function(b,d,a){function g(a){var c=a[0];return(a=a[1])&&Infinity!==a?"bytes="+ +c+"-"+ +a:"bytes="+ +c+"-"}function l(a){return a.responseData.getElementsByTagName("media")[0].getAttribute("src")}function h(a){return(a=a.match(m))&&a[1]||""}function k(a,c){return c?a.replace(m,"?token="+c):a.replace(m,"")}function f(a){var c=a.match(e);return c?a.replace(c[1],c[1]+"/manifest"):
a}function c(a,c,e){return a.replace(/\{bitrate\}/g,c.bitrate).replace(/\{start time\}/g,e.time)}a.d(d,"f",function(){return g});a.d(d,"c",function(){return l});a.d(d,"a",function(){return h});a.d(d,"b",function(){return k});a.d(d,"d",function(){return f});a.d(d,"e",function(){return c});var e=/\.(isml?)(\?token=\S+)?$/,m=/\?token=(\S+)/},function(b,d,a){function g(a){return a*(1+(2*Math.random()-1)*h)}function l(a){return g(a*Math.pow(2,(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)-
1))}a.d(d,"b",function(){return g});a.d(d,"a",function(){return l});var h=.3},function(b,d,a){function g(a,e){var c=0;return function(){c&&clearTimeout(c);c=setTimeout(a,e)}}function l(c,e){var b=e.retryDelay,h=e.totalRetry,d=e.shouldRetry,l=e.resetDelay,r=e.errorSelector,u=e.onRetry,w=0,t=void 0;0<l&&(t=g(function(){return w=0},l));return c["catch"](function(c,e){if(d&&!d(c)||w++>=h){if(r)throw r(c,w);throw c;}u&&u(c,w);var m=a.i(f.a)(b,w);return k.Observable.timer(m).mergeMap(function(){t&&t();
return e})})}function h(c,e){var b=e.retryDelay,h=e.totalRetry,d=e.shouldRetry,l=e.resetDelay,r=e.errorSelector,u=e.onRetry,w=0,t=void 0;0<l&&(t=g(function(){return w=0},l));return function x(){for(var e=arguments.length,m=Array(e),g=0;g<e;g++)m[g]=arguments[g];return c.apply(void 0,m)["catch"](function(c){if(d&&!d(c)||w++>=h){if(r)throw r(c,w);throw c;}u&&u(c,w);c=a.i(f.a)(b,w);return k.Observable.timer(c).mergeMap(function(){t&&t();return x.apply(void 0,m)})})}}a.d(d,"a",function(){return l});a.d(d,
"b",function(){return h});var k=a(0);a.n(k);var f=a(67)},function(b,d,a){d.empty={closed:!0,next:function(a){},error:function(a){throw a;},complete:function(){}}},function(b,d,a){function g(a){var c=a.value;a=a.subscriber;a.closed||(a.next(c),a.complete())}function l(a){var c=a.err;a=a.subscriber;a.closed||a.error(c)}var h=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):(e.prototype=c.prototype,
new e)},k=a(11);b=function(a){function c(c,b){a.call(this);this.promise=c;this.scheduler=b}h(c,a);c.create=function(a,b){return new c(a,b)};c.prototype._subscribe=function(a){var c=this,e=this.promise,b=this.scheduler;if(null==b)this._isScalar?a.closed||(a.next(this.value),a.complete()):e.then(function(e){c.value=e;c._isScalar=!0;a.closed||(a.next(e),a.complete())},function(c){a.closed||a.error(c)}).then(null,function(a){k.root.setTimeout(function(){throw a;})});else if(this._isScalar){if(!a.closed)return b.schedule(g,
0,{value:this.value,subscriber:a})}else e.then(function(e){c.value=e;c._isScalar=!0;a.closed||a.add(b.schedule(g,0,{value:e,subscriber:a}))},function(c){a.closed||a.add(b.schedule(l,0,{err:c,subscriber:a}))}).then(null,function(a){k.root.setTimeout(function(){throw a;})})};return c}(a(0).Observable);d.PromiseObservable=b},function(b,d,a){function g(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];e=null;h.isScheduler(a[a.length-1])&&(e=a.pop());return null===e&&1===a.length&&a[0]instanceof
l.Observable?a[0]:(new k.ArrayObservable(a,e)).lift(new f.MergeAllOperator(1))}var l=a(0),h=a(21),k=a(15),f=a(45);d.concat=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];return this.lift.call(g.apply(void 0,[this].concat(a)))};d.concatStatic=g},function(b,d,a){function g(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];var e=Number.POSITIVE_INFINITY,b=null,d=a[a.length-1];f.isScheduler(d)?(b=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(e=a.pop())):"number"===
typeof d&&(e=a.pop());return null===b&&1===a.length&&a[0]instanceof l.Observable?a[0]:(new h.ArrayObservable(a,b)).lift(new k.MergeAllOperator(e))}var l=a(0),h=a(15),k=a(45),f=a(21);d.merge=function(){for(var a=[],e=0;e<arguments.length;e++)a[e-0]=arguments[e];return this.lift.call(g.apply(void 0,[this].concat(a)))};d.mergeStatic=g},function(b,d,a){var g=this&&this.__extends||function(a,c){function e(){this.constructor=a}for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);a.prototype=null===c?Object.create(c):
(e.prototype=c.prototype,new e)},l=a(16);b=a(13);d.mergeMap=function(a,c,e){void 0===e&&(e=Number.POSITIVE_INFINITY);"number"===typeof c&&(e=c,c=null);return this.lift(new h(a,c,e))};var h=function(){function a(a,e,b){void 0===b&&(b=Number.POSITIVE_INFINITY);this.project=a;this.resultSelector=e;this.concurrent=b}a.prototype.call=function(a,e){return e.subscribe(new k(a,this.project,this.resultSelector,this.concurrent))};return a}();d.MergeMapOperator=h;var k=function(a){function c(c,b,f,k){void 0===
k&&(k=Number.POSITIVE_INFINITY);a.call(this,c);this.project=b;this.resultSelector=f;this.concurrent=k;this.hasCompleted=!1;this.buffer=[];this.index=this.active=0}g(c,a);c.prototype._next=function(a){this.active<this.concurrent?this._tryNext(a):this.buffer.push(a)};c.prototype._tryNext=function(a){var c,e=this.index++;try{c=this.project(a,e)}catch(p){this.destination.error(p);return}this.active++;this._innerSub(c,a,e)};c.prototype._innerSub=function(a,c,b){this.add(l.subscribeToResult(this,a,c,b))};
c.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};c.prototype.notifyNext=function(a,c,b,f,k){this.resultSelector?this._notifyResultSelector(a,c,b,f):this.destination.next(c)};c.prototype._notifyResultSelector=function(a,c,b,f){var e;try{e=this.resultSelector(a,c,b,f)}catch(r){this.destination.error(r);return}this.destination.next(e)};c.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);this.active--;0<c.length?
this._next(c.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()};return c}(b.OuterSubscriber);d.MergeMapSubscriber=k},function(b,d,a){var g=this&&this.__extends||function(a,b){function k(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)};b=function(a){function b(){var b=a.call(this,"object unsubscribed");this.name=b.name="ObjectUnsubscribedError";this.stack=b.stack;this.message=b.message}
g(b,a);return b}(Error);d.ObjectUnsubscribedError=b},function(b,d,a){var g=this&&this.__extends||function(a,b){function k(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(k.prototype=b.prototype,new k)};b=function(a){function b(){var b=a.call(this,"Timeout has occurred");this.name=b.name="TimeoutError";this.stack=b.stack;this.message=b.message}g(b,a);return b}(Error);d.TimeoutError=b},function(b,d,a){d.isArrayLike=function(a){return a&&"number"===
typeof a.length}},function(b,d,a){d.isDate=function(a){return a instanceof Date&&!isNaN(+a)}},function(b,d,a){var g=a(26);d.isNumeric=function(a){return!g.isArray(a)&&0<=a-parseFloat(a)+1}},function(b,d,a){d.isObject=function(a){return null!=a&&"object"===typeof a}},function(b,d,a){d.isPromise=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then}},function(b,d,a){d.noop=function(){}},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});b=a(172);a.n(b);b=a(173);
a.n(b);b=a(174);a.n(b);b=a(175);a.n(b);b=a(176);a.n(b);b=a(177);a.n(b);b=a(178);a.n(b);b=a(179);a.n(b);b=a(180);a.n(b);b=a(181);a.n(b);b=a(182);a.n(b);b=a(183);a.n(b);b=a(184);a.n(b);b=a(185);a.n(b);b=a(186);a.n(b);b=a(187);a.n(b);b=a(188);a.n(b);b=a(189);a.n(b);b=a(190);a.n(b);b=a(191);a.n(b);b=a(192);a.n(b);b=a(193);a.n(b);b=a(194);a.n(b);b=a(195);a.n(b);b=a(196);a.n(b);b=a(197);a.n(b);b=a(198);a.n(b);b=a(199);a.n(b);b=a(200);a.n(b);b=a(201);a.n(b);b=a(202);a.n(b);b=a(203);a.n(b);b=a(204);a.n(b);
b=a(205);a.n(b);b=a(206);a.n(b);b=a(207);a.n(b);b=a(208);a.n(b);a(1);a=a(93);d["default"]=a.a},function(b,d,a){var g=a(53),l=a(84),h=a(54);a.d(d,"b",function(){return g.a});a.d(d,"c",function(){return l.a});a.d(d,"a",function(){return h.a})},function(b,d,a){function g(a,c){if(c instanceof k.b)return c._setVideo(a);if(a.setMediaKeys)return a.setMediaKeys(c);if(null!==c){if(a.WebkitSetMediaKeys)return a.WebkitSetMediaKeys(c);if(a.mozSetMediaKeys)return a.mozSetMediaKeys(c);if(a.msSetMediaKeys)return a.msSetMediaKeys(c)}}
var l=a(0);a.n(l);var h=a(9),k=a(53);d.a=function(b,c){return l.Observable.defer(function(){return a.i(h.a)(g(b,c))})}},function(b,d,a){function g(a){h()||(a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT))}function l(){h()&&(document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?
document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen())}function h(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}a.d(d,"c",function(){return g});a.d(d,"a",function(){return l});a.d(d,"b",function(){return h})},function(b,d,a){var g=a(55);b=a(4);var l=b.a.ABR_MINIMUM_TOTAL_BYTES,h=b.a.ABR_MINIMUM_CHUNK_SIZE;b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this._fast=new g.a(2);this._slow=new g.a(10);this._bytesSampled=0}a.prototype.addSample=function(a,c){if(!(c<h)){var e=8E3*c/a,b=a/1E3;this._bytesSampled+=c;this._fast.addSample(b,e);this._slow.addSample(b,e)}};a.prototype.getEstimate=function(){if(!(this._bytesSampled<l))return Math.min(this._fast.getEstimate(),this._slow.getEstimate())};a.prototype.reset=function(){this._fast=new g.a(2);this._slow=new g.a(10);this._bytesSampled=0};return a}();d.a=b},function(b,d,a){d.a=function(a,b){var k=g()(a,
function(a){return a.bitrate>b});return-1===k?a:a.slice(0,k)};b=a(52);var g=a.n(b)},function(b,d,a){d.a=function(a,b){var k=a.sort(function(a,e){return a.width-e.width}),f=g()(k,function(a){return a.width>=b});return f?a.filter(function(a){return a.width<=f}):a};b=a(22);var g=a.n(b)},function(b,d,a){d.a=function(a,b){var k=g()(a,function(a){return a.bitrate>b});return-1===k?a[a.length-1]:a[k-1]};b=a(52);var g=a.n(b)},function(b,d,a){var g=a(5);a.n(g);a(19);a(2);var l=a(91),h=function(a,b){if(!a._choosers[b]){var c=
a._choosers,e;e=a._chooserInstanceOptions;e=new l.a({limitWidth$:e.limitWidth[b],throttle$:e.throttle[b],initialBitrate:e.initialBitrates[b],manualBitrate:e.manualBitrates[b],maxAutoBitrate:e.maxAutoBitrates[b]});c[b]=e}};b=function(){function a(b,c){var e=this,f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._dispose$=new g.Subject;this._choosers={};this._chooserInstanceOptions={initialBitrates:f.initialBitrates||
{},manualBitrates:f.manualBitrates||{},maxAutoBitrates:f.maxAutoBitrates||{},throttle:f.throttle||{},limitWidth:f.limitWidth||{}};c.takeUntil(this._dispose$).subscribe(function(a){var c=a.type;a=a.value;h(e,c);e._choosers[c].addEstimate(a.duration,a.size)});b.mergeMap(function(a){return a}).takeUntil(this._dispose$).subscribe(function(a){var c=a.type,b=a.event;a=a.value;h(e,c);switch(b){case "requestBegin":e._choosers[c].addPendingRequest(a.id,a);break;case "requestEnd":e._choosers[c].removePendingRequest(a.id);
break;case "progress":e._choosers[c].addRequestProgress(a.id,a)}})}a.prototype.get$=function(a,c){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];h(this,a);return this._choosers[a].get$(c,e)};a.prototype.setManualBitrate=function(a,c){var e=this._choosers[a];e?e.manualBitrate$.next(c):this._chooserInstanceOptions.initialBitrates[a]=c};a.prototype.setMaxAutoBitrate=function(a,c){var e=this._choosers[a];e?e.maxAutoBitrate$.next(c):this._chooserInstanceOptions.maxAutoBitrates[a]=c};a.prototype.getManualBitrate=
function(a){var c=this._choosers[a];return c?c.manualBitrate$.getValue():this._chooserInstanceOptions.manualBitrates[a]};a.prototype.getMaxAutoBitrate=function(a){var c=this._choosers[a];return c?c.maxAutoBitrate$.getValue():this._chooserInstanceOptions.maxAutoBitrates[a]};a.prototype.dispose=function(){var a=this;Object.keys(this._choosers).forEach(function(c){a._choosers[c].dispose()});this._choosers=this._chooserInstanceOptions=null;this._dispose$.next();this._dispose$.complete()};return a}();
d.a=b},function(b,d,a){b=a(8);var g=a.n(b),l=a(32);a.n(l);var h=a(5);a.n(h);var k=a(0);a.n(k);b=a(4);a(2);var f=a(86),c=a(88),e=a(87),m=a(89),n=a(55),p=b.a.ABR_STARVATION_GAP,q=b.a.OUT_OF_STARVATION_GAP,r=function(c,e){var b=a.i(m.a)(c,e)||c[0];return k.Observable.of(b).concat(k.Observable.never())};b=function(){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._dispose$=new h.Subject;
this.manualBitrate$=(new l.BehaviorSubject(null!=a.manualBitrate?a.manualBitrate:-1)).takeUntil(this._dispose$);this.maxAutoBitrate$=(new l.BehaviorSubject(null!=a.maxAutoBitrate?a.maxAutoBitrate:Infinity)).takeUntil(this._dispose$);this.estimator=new f.a;this._currentRequests={};this.initialBitrate=a.initialBitrate||0;this._limitWidth$=a.limitWidth$;this._throttle$=a.throttle$}b.prototype.get$=function(b,f){var h=this;if(2>f.length)return k.Observable.of(f.length?f[0]:null).concat(k.Observable.never()).takeUntil(this._dispose$);
var d=this.initialBitrate,l=this.manualBitrate$,t=this.maxAutoBitrate$,u=[];this._limitWidth$&&u.push(this._limitWidth$.map(function(a){return{width:a}}));this._throttle$&&u.push(this._throttle$.map(function(a){return{bitrate:a}}));var w=u.length?k.Observable.combineLatest.apply(k.Observable,u).map(function(a){return g.a.apply(void 0,[{}].concat(a))}):k.Observable.of({});return l.switchMap(function(g){if(0<=g)return r(f,g);var l=!1;return k.Observable.combineLatest(b,t,w).map(function(b){var k=b[0],
g=b[1];b=b[2];var r=void 0,t=k.bufferGap;t<=p?l=!0:l&&t>=q&&(l=!1);if(l){var v=k.bitrate;a:{for(var u=h._currentRequests,t=t+k.position,y=Object.keys(u),x=y.length,w=0;w<x-1;w++){var C=u[y[w]];if(Math.abs(t-C.time)<C.duration){t=C;break a}}t=void 0}if(t&&(y=t.duration,u=t.requestTimestamp,u=(Date.now()-u)/1E3,y&&u>1+1.2*y)){x=t;y=void 0;t=x.duration;if(2<=x.progress.length){y=new n.a(2);x=x.progress;for(w=1;w<x.length;w++)C=x[w].timestamp-x[w-1].timestamp,y.addSample(C/1E3,8*(x[w].size-x[w-1].size)/
(C/1E3));y=y.getEstimate()}y||(y=t*v/(5*u/4));if(u=y)h.resetEstimate(),r=Math.min(u,v,g)}}null==r&&(r=h.estimator.getEstimate(),r=k.bufferGap<=l?.95*r:r,r=Math.min(null==r?d:r,g));1<k.speed&&(r/=k.speed);k=f;b.hasOwnProperty("bitrate")&&(k=a.i(e.a)(k,b.bitrate));b.hasOwnProperty("width")&&(k=a.i(c.a)(k,b.width));return a.i(m.a)(k,r)||f[0]})["do"](function(a){a&&(d=a.bitrate)})}).distinctUntilChanged(function(a,c){return(a&&a.bitrate)===(c&&c.bitrate)&&(a&&a.id)===(c&&c.id)})};b.prototype.addEstimate=
function(a,c){null!=a&&null!=c&&this.estimator.addSample(a,c)};b.prototype.resetEstimate=function(){this.estimator.reset()};b.prototype.addPendingRequest=function(a,c){this._currentRequests[a]=c;this._currentRequests[a].progress=[]};b.prototype.addRequestProgress=function(a,c){this._currentRequests[a].progress.push(c)};b.prototype.removePendingRequest=function(a){delete this._currentRequests[a]};b.prototype.resetRequests=function(){this._currentRequests={}};b.prototype.dispose=function(){this._dispose$.next()};
return b}();d.a=b},function(b,d,a){function g(c,e){var b=c.currentTime,f=c.paused,h=c.playbackRate,d=c.readyState,m=c.buffered;return{currentTime:b,buffered:m,duration:c.duration,bufferGap:a.i(k.a)(m,b),state:e,playbackRate:h,currentRange:a.i(k.i)(m,b),readyState:d,paused:f}}var l=a(0);a.n(l);var h=a(32);a.n(h);b=a(4);var k=a(10),f=b.a.SAMPLING_INTERVAL_MEDIASOURCE,c=b.a.SAMPLING_INTERVAL_NO_MEDIASOURCE,e=b.a.RESUME_AFTER_SEEKING_GAP,m=b.a.RESUME_AFTER_BUFFERING_GAP,n=b.a.STALL_GAP,p="canplay play progress seeking seeked loadedmetadata".split(" ");
d.a=function(a,b){var k=b.withMediaSource;return l.Observable.create(function(b){function h(c){c=g(a,c&&c.type||"timeupdate");var f;f=c.state;var h=c.currentTime,l=c.bufferGap,p=c.paused,q=c.readyState,r=d.stalled,t=d.state,u=d.currentTime,v;v=(v=c.currentRange)&&c.duration-(l+v.end)<=n;var x=1<=q&&"loadedmetadata"!=f&&!r&&!v,y=void 0,w=void 0;k?x&&(l<=n||Infinity===l||1===q)?y=!0:r&&1<q&&Infinity>l&&(l>("seeking"==r.state?e:m)||v)&&(w=!0):x&&(!p&&"timeupdate"==f&&"timeupdate"==t&&h===u||"seeking"==
f&&Infinity===l)?y=!0:r&&("seeking"!=f&&h!==u||"canplay"==f||Infinity>l&&(l>("seeking"==r.state?e:m)||v))&&(w=!0);f=y?{state:f,timestamp:Date.now()}:w?null:r;c.stalled=f;d=c;b.next(d)}var d=g(a,"init");d.stalled=null;var l=setInterval(h,k?f:c);p.forEach(function(c){return a.addEventListener(c,h)});b.next(d);return function(){clearInterval(l);p.forEach(function(c){return a.removeEventListener(c,h)})}}).multicast(function(){return new h.BehaviorSubject({})}).refCount()}},function(b,d,a){function g(a,
c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!==typeof c&&"function"!==typeof c?a:c}function l(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}function h(a,c){return a.filter(function(a){return a.type==
c}).map(function(a){return a.value})}var k=a(0);a.n(k);var f=a(5);a.n(f);var c=a(32);a.n(c);b=a(4);var e=a(1),m=a(31),n=a(29),p=a(2),q=a(10),r=a(7),u=a(17),w=a(143),t=a(28),v=a(6),x=a(116),y=a(56),z=a(36),A=a(92),D=a(97),C=a(94),G=a(96),B="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},H=function(){function a(a,c){for(var e=0;e<c.length;e++){var b=
c[e];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(a,b.key,b)}}return function(c,e,b){e&&a(c.prototype,e);b&&a(c,b);return c}}(),I=b.a.DEFAULT_UNMUTED_VOLUME;b=function(b){function d(k){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var h=g(this,b.call(this)),m=a.i(G.a)(k);k=m.defaultAudioTrack;var l=m.defaultTextTrack,n=m.initialAudioBitrate,q=m.initialVideoBitrate,t=m.limitVideoWidth,v=m.maxAudioBitrate,x=m.maxBufferAhead,
y=m.maxBufferBehind,w=m.maxVideoBitrate,C=m.throttleWhenHidden,A=m.transport,Q=m.transportOptions,B=m.videoElement,m=m.wantedBufferAhead;a.i(p.a)(B instanceof r.a,"videoElement needs to be an HTMLVideoElement");B.preload="auto";h.version="3.0.0-alpha9";h.log=e.a;h.state=void 0;h.defaultTransport=A;h.defaultTransportOptions=Q;h.videoElement=B;h._priv=a.i(D.a)(h);h._priv.destroy$=new f.Subject;h._priv.fullScreenSubscription=a.i(u.a)(B).takeUntil(h._priv.destroy$).subscribe(function(){return h.trigger("fullscreenChange",
h.isFullscreen())});h._priv.errorStream$=(new f.Subject).takeUntil(h._priv.destroy$);h._priv.playing$=new c.BehaviorSubject;h._priv.speed$=new c.BehaviorSubject(B.playbackRate);h._priv.clearLoadedContent$=(new f.Subject).takeUntil(h._priv.destroy$);h._priv.imageTrack$=(new f.Subject).takeUntil(h._priv.destroy$);h._priv.wantedBufferAhead$=new c.BehaviorSubject(m);h._priv.maxBufferAhead$=new c.BehaviorSubject(x);h._priv.maxBufferBehind$=new c.BehaviorSubject(y);h._priv.lastAudioTrack=k;h._priv.lastTextTrack=
l;h._priv.lastBitrates={audio:n,video:q};h._priv.initialMaxAutoBitrates={audio:v,video:w};h._priv.manualBitrates={audio:-1,video:-1};h._priv.throttleWhenHidden=C;h._priv.limitVideoWidth=t;h._priv.mutedMemory=I;"abrManager currentAdaptations currentImagePlaylist currentRepresentations fatalError initialAudioTrack initialTextTrack languageManager manifest recordedEvents".split(" ").forEach(function(a){h._priv[a]=void 0});h._priv.resetContentState();h._priv.setPlayerState(z.a.STOPPED);return h}l(d,b);
H(d,null,[{key:"ErrorTypes",get:function(){return v.a}},{key:"ErrorCodes",get:function(){return v.b}}]);d.prototype.stop=function(){this.state!==z.a.STOPPED&&(this._priv.resetContentState(),this._priv.clearLoadedContent$.next(),this._priv.setPlayerState(z.a.STOPPED))};d.prototype.dispose=function(){this.stop();a.i(y.a)();var c=this._priv;c.destroy$.next();c.destroy$.complete();c.playing$.complete();c.speed$.complete();c.wantedBufferAhead$.complete();c.maxBufferAhead$.complete();c.maxBufferBehind$.complete();
c.playing$=null;c.speed$=null;c.wantedBufferAhead$=null;c.maxBufferAhead$=null;c.maxBufferBehind$=null;c.clearLoadedContent$=null;c.imageTrack$=null;c.fullScreenSubscription=null;c.errorStream$=null;c.lastBitrates=null;c.manualBitrates=null;this.videoElement=c.initialMaxAutoBitrates=null};d.prototype.loadVideo=function(){var c=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.i(G.b)(b,this);e.a.info("loadvideo",b);var f=b,d=f.autoPlay,b=f.defaultAudioTrack,g=f.defaultTextTrack,
l=f.hideNativeSubtitle,n=f.keySystems,q=f.startAt,r=f.supplementaryImageTracks,t=f.supplementaryTextTracks,v=f.transport,y=f.transportOptions,f=f.url;a.i(p.a)(f,"you have to give an url");a.i(p.a)(v,"you have to set the transport type");var D=w.a[v];a.i(p.a)(D,'transport "'+v+'" not supported');D=D(y);this.stop();this._priv.initialAudioTrack=b;this._priv.initialTextTrack=g;this._priv.playing$.next(d);var y=this.videoElement,B=this._priv,b=B.errorStream$,g=B.clearLoadedContent$,F=B.wantedBufferAhead$,
H=B.maxBufferAhead$,B=B.maxBufferBehind$,J=!v.directFile,v=a.i(A.a)(y,{withMediaSource:J}),I={initialBitrates:this._priv.lastBitrates,manualBitrates:this._priv.manualBitrates,maxAutoBitrates:this._priv.initialMaxAutoBitrates,throttle:this._priv.throttleWhenHidden&&{video:a.i(u.b)().map(function(a){return a?0:Infinity}).takeUntil(g)},limitWidth:this._priv.limitVideoWidth&&{video:a.i(u.c)(y).takeUntil(g)}},F={wantedBufferAhead$:F,maxBufferAhead$:H,maxBufferBehind$:B},d=a.i(x.a)({adaptiveOptions:I,autoPlay:d,
bufferOptions:F,errorStream:b,hideNativeSubtitle:l,keySystems:n,speed$:this._priv.speed$,startAt:q,timings$:v,transport:D,url:f,videoElement:y,withMediaSource:J,supplementaryImageTracks:r,supplementaryTextTracks:t}).takeUntil(g).publish(),l=h(d,"stalled").startWith(null),l=h(d,"loaded").take(1).share().mapTo(z.a.LOADED).concat(k.Observable.combineLatest(this._priv.playing$,l,C.a)).distinctUntilChanged().startWith(z.a.LOADING),n=a.i(m.a)(y,["play","pause"]),q=a.i(m.a)(y.textTracks,["addtrack"]),K=
void 0;g.take(1).subscribe(function(){K&&K.unsubscribe()});r=function(){};n.takeUntil(g).subscribe(function(a){return c._priv.onPlayPauseNext(a)},r);q.takeUntil(g).subscribe(function(a){return c._priv.onNativeTextTrackNext(a)},r);v.takeUntil(g).subscribe(function(a){return c._priv.triggerTimeChange(a)},r);l.takeUntil(g).subscribe(function(a){return c._priv.setPlayerState(a)},r);d.subscribe(function(a){return c._priv.onStreamNext(a)},function(a){return c._priv.onStreamError(a)},function(){return c._priv.onStreamComplete()});
b.takeUntil(g).subscribe(function(a){return c._priv.onErrorStreamNext(a)});K=d.connect()};d.prototype.getError=function(){return this._priv.fatalError};d.prototype.getManifest=function(){return this._priv.manifest||null};d.prototype.getCurrentAdaptations=function(){return this._priv.manifest?this._priv.currentAdaptations:null};d.prototype.getCurrentRepresentations=function(){return this._priv.manifest?this._priv.currentRepresentations:null};d.prototype.getVideoElement=function(){return this.videoElement};
d.prototype.getNativeTextTrack=function(){return 0<this.videoElement.textTracks.length?this.videoElement.textTracks[0]:null};d.prototype.getPlayerState=function(){return this.state};d.prototype.isLive=function(){return this._priv.manifest?this._priv.manifest.isLive:!1};d.prototype.getUrl=function(){if(this._priv.manifest)return this._priv.manifest.getUrl()};d.prototype.getVideoDuration=function(){return this.videoElement.duration};d.prototype.getVideoBufferGap=function(){return a.i(q.a)(this.videoElement.buffered,
this.videoElement.currentTime)};d.prototype.getVideoLoadedTime=function(){return a.i(q.b)(this.videoElement.buffered,this.videoElement.currentTime)};d.prototype.getVideoPlayedTime=function(){return a.i(q.c)(this.videoElement.buffered,this.videoElement.currentTime)};d.prototype.getWallClockTime=function(){if(!this._priv.manifest)return 0;var c=this.videoElement.currentTime;return this.isLive()?+a.i(t.a)(c,this._priv.manifest)/1E3:c};d.prototype.getPosition=function(){return this.videoElement.currentTime};
d.prototype.getPlaybackRate=function(){return this._priv.speed$.getValue()};d.prototype.getVolume=function(){return this.videoElement.volume};d.prototype.isFullscreen=function(){return a.i(r.b)()};d.prototype.getAvailableVideoBitrates=function(){var a=this._priv.currentAdaptations.video;return a?a.representations.map(function(a){return a.bitrate}):[]};d.prototype.getAvailableAudioBitrates=function(){var a=this._priv.currentAdaptations.audio;return a?a.representations.map(function(a){return a.bitrate}):
[]};d.prototype.getManualAudioBitrate=function(){return this._priv.manualBitrates.audio};d.prototype.getManualVideoBitrate=function(){return this._priv.manualBitrates.video};d.prototype.getVideoBitrate=function(){return this._priv.recordedEvents.videoBitrate};d.prototype.getAudioBitrate=function(){return this._priv.recordedEvents.audioBitrate};d.prototype.getMaxVideoBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("video"):this._priv.initialMaxAutoBitrates.video};
d.prototype.getMaxAudioBitrate=function(){return this._priv.abrManager?this._priv.abrManager.getMaxAutoBitrate("audio"):this._priv.initialMaxAutoBitrates.audio};d.prototype.play=function(){this.videoElement.play()};d.prototype.pause=function(){this.videoElement.pause()};d.prototype.setPlaybackRate=function(a){this._priv.speed$.next(a)};d.prototype.seekTo=function(c){a.i(p.a)(this._priv.manifest,"player: no manifest loaded");var e=void 0,b="undefined"===typeof c?"undefined":B(c);if("number"===b)e=
c;else if("object"===b)if(e=this.videoElement.currentTime,null!=c.relative)e+=c.relative;else if(null!=c.position)e=c.position;else if(c.wallClockTime)e=a.i(t.b)(1E3*c.wallClockTime,this._priv.manifest);else throw Error('invalid time object. You must set one of the following properties: "relative", "position" or "wallClockTime"');if(void 0===e)throw Error("invalid time given");return this.videoElement.currentTime=e};d.prototype.exitFullscreen=function(){a.i(r.c)()};d.prototype.setFullscreen=function(){(0<
arguments.length&&void 0!==arguments[0]?arguments[0]:1)?a.i(r.d)(this.videoElement):a.i(r.c)()};d.prototype.setVolume=function(a){a!==this.videoElement.volume&&(this.videoElement.volume=a,this.trigger("volumeChange",a))};d.prototype.isMute=function(){return!this.getVolume()};d.prototype.mute=function(){this._priv.mutedMemory=this.getVolume();this.setVolume(0)};d.prototype.unMute=function(){0===this.getVolume()&&this.setVolume(this._priv.mutedMemory||I)};d.prototype.setVideoBitrate=function(a){this._priv.manualBitrates.video=
a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("video",a)};d.prototype.setAudioBitrate=function(a){this._priv.manualBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setManualBitrate("audio",a)};d.prototype.setMaxVideoBitrate=function(a){this._priv.initialMaxAutoBitrates.video=a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("video",a)};d.prototype.setMaxAudioBitrate=function(a){this._priv.initialMaxAutoBitrates.audio=a;this._priv.abrManager&&this._priv.abrManager.setMaxAutoBitrate("audio",
a)};d.prototype.setMaxBufferBehind=function(a){this._priv.maxBufferBehind$.next(a)};d.prototype.setMaxBufferAhead=function(a){this._priv.maxBufferAhead$.next(a)};d.prototype.setWantedBufferAhead=function(a){this._priv.wantedBufferAhead$.next(a)};d.prototype.getMaxBufferBehind=function(){return this._priv.maxBufferBehind$.getValue()};d.prototype.getMaxBufferAhead=function(){return this._priv.maxBufferAhead$.getValue()};d.prototype.getWantedBufferAhead=function(){return this._priv.wantedBufferAhead$.getValue()};
d.prototype.getCurrentKeySystem=function(){return a.i(y.b)()};d.prototype.getAvailableAudioTracks=function(){return this._priv.languageManager?this._priv.languageManager.getAvailableAudioTracks():null};d.prototype.getAvailableTextTracks=function(){return this._priv.languageManager?this._priv.languageManager.getAvailableTextTracks():null};d.prototype.getAudioTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentAudioTrack()};d.prototype.getTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.getCurrentTextTrack()};
d.prototype.setAudioTrack=function(c){a.i(p.a)(this._priv.languageManager,"No compatible content launched.");try{this._priv.languageManager.setAudioTrack(c)}catch(L){throw Error("player: unknown audio track");}};d.prototype.setTextTrack=function(c){a.i(p.a)(this._priv.languageManager,"No compatible content launched.");try{this._priv.languageManager.setTextTrack(c)}catch(L){throw Error("player: unknown text track");}};d.prototype.disableTextTrack=function(){if(this._priv.languageManager)return this._priv.languageManager.disableTextTrack()};
d.prototype.getImageTrackData=function(){return this._priv.manifest?this._priv.currentImagePlaylist:null};d.prototype.getMinimumPosition=function(){return this._priv.manifest?a.i(t.c)(this._priv.manifest):null};d.prototype.getMaximumPosition=function(){return this._priv.manifest?a.i(t.d)(this._priv.manifest):null};return d}(n.a);d.a=b},function(b,d,a){d.a=function(a,b){return b?"seeking"==b.state?g.a.SEEKING:g.a.BUFFERING:a?g.a.PLAYING:g.a.PAUSED};var g=a(36)},function(b,d,a){b=a(22);var g=a.n(b),
l=function(a,b){if(!b)return null;if(a.length)return g()(a,function(a){return b.normalized===a.normalizedLanguage&&b.closedCaption===a.isClosedCaption})},h=function(a,b){if(a.length&&b)return g()(a,function(a){return b.normalized===a.normalizedLanguage&&b.audioDescription===a.isAudioDescription})};a=function(){function a(b,c){var e=b.text,f=b.audio,d=c.text$,k=c.audio$,g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
var r=g.defaultAudioTrack,g=g.defaultTextTrack,e=e||[],f=f||[];this._currentTextAdaptation=this._currentAudioAdaptation=null;this._textAdaptations=e;this._audioAdaptations=f;this._text$=d;if(this._audio$=k)this._currentAudioAdaptation=r?h(f,r)||f[0]:f[0],k.next(this._currentAudioAdaptation);d&&(this._currentTextAdaptation=g?l(e,g)||null:null,d.next(this._currentTextAdaptation))}a.prototype.updateAdaptations=function(a){var c=a.audio;a=a.text;this._audioAdaptations=c||[];this._textAdaptations=a||[];
var b=this._currentAudioAdaptation,f=b&&b.id,d=void 0;null!=f&&(d=g()(c,function(a){return a.id===f}));d||(this._currentAudioAdaptation=h(c,{language:b.language,audioDescription:!!b.isAudioDescription})||c[0],this._audio$.next(this._currentAudioAdaptation));var k=(c=this._currentTextAdaptation)&&c.id,b=void 0;null!=k&&(b=g()(a,function(a){return a.id===k}));null===k||b||(this._currentTextAdaptation=l(a,{language:c.language,closedCaption:!!c.isClosedCaption})||a[0],this._text$.next(this._currentTextAdaptation))};
a.prototype.setAudioTrack=function(a){var c=g()(this._audioAdaptations,function(c){return c.id===a});if(void 0===c)throw Error("Audio Track not found.");this._currentAudioAdaptation=c;this._audio$.next(this._currentAudioAdaptation)};a.prototype.setTextTrack=function(a){var c=g()(this._textAdaptations,function(c){return c.id===a});if(void 0===c)throw Error("Text Track not found.");this._currentTextAdaptation=c;this._text$.next(this._currentTextAdaptation)};a.prototype.disableTextTrack=function(){this._currentTextAdaptation=
null;this._text$.next(this._currentTextAdaptation)};a.prototype.getCurrentAudioTrack=function(){var a=this._currentAudioAdaptation;return a?{language:a.language,normalized:a.normalizedLanguage,audioDescription:a.isAudioDescription,id:a.id}:null};a.prototype.getCurrentTextTrack=function(){var a=this._currentTextAdaptation;return a?{language:a.language,normalized:a.normalizedLanguage,closedCaption:a.isClosedCaption,id:a.id}:null};a.prototype.getAvailableAudioTracks=function(){var a=this._currentAudioAdaptation,
c=a&&a.id;return this._audioAdaptations.map(function(a){return{language:a.language,normalized:a.normalizedLanguage,audioDescription:a.isAudioDescription,id:a.id,active:null==c?!1:c===a.id}})};a.prototype.getAvailableTextTracks=function(){var a=this._currentTextAdaptation,c=a&&a.id;return this._textAdaptations.map(function(a){return{language:a.language,normalized:a.normalizedLanguage,closedCaption:a.isClosedCaption,id:a.id,active:null==c?!1:c===a.id}})};return a}();d.a=a},function(b,d,a){function g(){var c=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b={transport:c.transport,transportOptions:x(c.transportOptions,{}),maxBufferAhead:x(c.maxBufferAhead,q),maxBufferBehind:x(c.maxBufferBehind,r),limitVideoWidth:x(c.limitVideoWidth,v),defaultAudioTrack:a.i(f.b)(x(c.defaultAudioTrack,m)),defaultTextTrack:a.i(f.c)(x(c.defaultTextTrack,n)),wantedBufferAhead:x(c.wantedBufferAhead,p),throttleWhenHidden:x(c.throttleWhenHidden,t),videoElement:c.videoElement?c.videoElement:document.createElement("video")},
e=u||{},d=w||{};b.initialAudioBitrate=x(c.initialAudioBitrate,e.audio,e.other);b.initialVideoBitrate=x(c.initialVideoBitrate,e.video,e.other);b.maxAudioBitrate=x(c.maxAudioBitrate,d.audio,d.other);b.maxVideoBitrate=x(c.maxVideoBitrate,d.video,d.other);return b}function l(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=arguments[1],h=d.defaultTransportOptions,m=d._priv,g=m.lastTextTrack,m=m.lastAudioTrack,d={url:b.url,transport:x(b.transport,d.defaultTransport),autoPlay:x(b.autoPlay,
c),keySystems:x(b.keySystems,[]),transportOptions:x(b.transportOptions,h),hideNativeSubtitle:x(b.hideNativeSubtitle,!e),supplementaryTextTracks:x(b.supplementaryTextTracks,[]),supplementaryImageTracks:x(b.supplementaryImageTracks,[]),defaultAudioTrack:a.i(f.b)(x(b.defaultAudioTrack,m)),defaultTextTrack:a.i(f.c)(x(b.defaultTextTrack,g))};d.startAt=b.startAt&&b.startAt.wallClockTime instanceof Date?k()({},b.startAt,{wallClockTime:b.startAt.wallClockTime/1E3}):b.startAt;b.directFile&&(d.transport="directfile");
return d}a.d(d,"a",function(){return g});a.d(d,"b",function(){return l});b=a(4);d=a(163);var h=a(8),k=a.n(h),f=a(30),c=b.a.DEFAULT_AUTO_PLAY,e=b.a.DEFAULT_SHOW_SUBTITLE,m=b.a.DEFAULT_AUDIO_TRACK,n=b.a.DEFAULT_TEXT_TRACK,p=b.a.DEFAULT_WANTED_BUFFER_AHEAD,q=b.a.DEFAULT_MAX_BUFFER_AHEAD,r=b.a.DEFAULT_MAX_BUFFER_BEHIND,u=b.a.DEFAULT_INITIAL_BITRATES,w=b.a.DEFAULT_MAX_BITRATES,t=b.a.DEFAULT_THROTTLE_WHEN_HIDDEN,v=b.a.DEFAULT_LIMIT_VIDEO_WIDTH,x=d.a},function(b,d,a){b=a(165);var g=a.n(b),l=a(1);a(2);var h=
a(28),k=a(36),f=a(95);d.a=function(c){return{resetContentState:function(){c._priv.initialAudioTrack=void 0;c._priv.initialTextTrack=void 0;c._priv.languageManager=null;c._priv.abrManager=null;c._priv.manifest=null;c._priv.currentRepresentations={};c._priv.currentAdaptations={};c._priv.recordedEvents={};c._priv.fatalError=null;c._priv.imageTrack$.next(null);c._priv.currentImagePlaylist=null},recordState:function(a,b){var e=c._priv.recordedEvents[a];g()(e,b)||(c._priv.recordedEvents[a]=b,c.trigger(a+
"Change",b))},onStreamNext:function(a){var b=a.value;switch(a.type){case "representationChange":c._priv.onRepresentationChange(b);break;case "manifestUpdate":c._priv.onManifestUpdate(b);break;case "adaptationChange":c._priv.onAdaptationChange(b);break;case "manifestChange":c._priv.onManifestChange(b);break;case "pipeline":a=b.parsed,"image"===b.bufferType&&(b=a.segmentData,c._priv.currentImagePlaylist=b,c.trigger("imageTrackUpdate",{data:c._priv.currentImagePlaylist}),c._priv.imageTrack$.next(b))}},
onErrorStreamNext:function(a){c.trigger("warning",a)},onStreamError:function(a){c._priv.resetContentState();c._priv.fatalError=a;c._priv.setPlayerState(k.a.STOPPED);c._priv.clearLoadedContent$.next();c.trigger("error",a)},onStreamComplete:function(){c._priv.resetContentState();c._priv.setPlayerState(k.a.ENDED);c._priv.clearLoadedContent$.next()},onManifestChange:function(a){var b=a.manifest,e=a.adaptations$,d=void 0===e?{}:e;c._priv.manifest=b;c._priv.languageManager=new f.a(b.adaptations,{audio$:d.audio,
text$:d.text},{defaultAudioTrack:c._priv.initialAudioTrack,defaultTextTrack:c._priv.initialTextTrack});Object.keys(d).forEach(function(a){"audio"!==a&&"text"!==a&&d[a].next((b.adaptations[a]||[])[0]||null)});c._priv.abrManager=a.abrManager;c.trigger("manifestChange",b)},onManifestUpdate:function(a){a=a.manifest;c._priv.manifest=a;c._priv.languageManager.updateAdaptations(a.adaptations);c.trigger("manifestUpdate",a)},onAdaptationChange:function(a){var b=a.type;c._priv.currentAdaptations[b]=a.adaptation;
c._priv.languageManager&&("audio"===b?(a=c._priv.languageManager.getCurrentAudioTrack(),c._priv.lastAudioTrack=a,c._priv.recordState("audioTrack",a)):"text"===b&&(a=c._priv.languageManager.getCurrentTextTrack(),c._priv.lastTextTrack=a,c._priv.recordState("textTrack",a)))},onRepresentationChange:function(a){var b=a.type;a=a.representation;a=(c._priv.currentRepresentations[b]=a)&&a.bitrate;null!=a&&(c._priv.lastBitrates[b]=a);"video"==b?c._priv.recordState("videoBitrate",null!=a?a:-1):"audio"==b&&c._priv.recordState("audioBitrate",
null!=a?a:-1)},onPlayPauseNext:function(a){!0!==c.videoElement.ended&&c._priv.playing$.next("play"==a.type)},onNativeTextTrackNext:function(a){(a=a.target[0])&&c.trigger("nativeTextTrackChange",a)},setPlayerState:function(a){c.state!==a&&(c.state=a,l.a.info("playerStateChange",a),c.trigger("playerStateChange",a))},triggerTimeChange:function(b){if(c._priv.manifest&&b){var e={position:b.currentTime,duration:b.duration,playbackRate:b.playbackRate,bufferGap:isFinite(b.bufferGap)?b.bufferGap:0};c._priv.manifest.isLive&&
0<b.currentTime&&(e.wallClockTime=a.i(h.a)(b.currentTime,c._priv.manifest).getTime()/1E3,e.liveGap=a.i(h.d)(c._priv.manifest)-b.currentTime);c.trigger("positionUpdate",e)}}}}},function(b,d,a){d.a=function(b,d,f,c){if(!isFinite(f)&&!isFinite(c))return g.Observable.empty();var e=[],k=a.i(l.g)(b.getBuffered(),d),h=k.innerRange,p=k.outerRanges;(function(){if(isFinite(f)){for(var a=0;a<p.length;a++){var c=p[a];d-f>=c.end?e.push(c):d>=c.end&&d-f>c.start&&d-f<c.end&&e.push({start:c.start,end:d-f})}h&&d-
f>h.start&&e.push({start:h.start,end:d-f})}})();(function(){if(isFinite(c)){for(var a=0;a<p.length;a++){var b=p[a];d+c<=b.start?e.push(b):d<=b.start&&d+c<b.end&&d+c>b.start&&e.push({start:d+c,end:b.end})}h&&d+c<h.end&&e.push({start:d+c,end:h.end})}})();return g.Observable.from(e.map(function(a){return b.removeBuffer(a)})).concatAll().ignoreElements()};var g=a(0);a.n(g);var l=a(10)},function(b,d,a){function g(c,b,f){var e=a.i(k.g)(b,c);b=e.innerRange;for(var e=e.outerRanges,d=[],m=0;m<e.length;m++){var g=
e[m];c-f<g.end?d.push(g):c+f>g.start&&d.push(g)}b&&(h.a.debug("buffer: gc removing part of inner range",d),c-f>b.start&&d.push({start:b.start,end:c-f}),c+f<b.end&&d.push({start:c+f,end:b.end}));return d}d.a=function(a,b){h.a.warn("buffer: running garbage collector");return a.take(1).mergeMap(function(a){var e=b.getBuffered(),d=g(a.currentTime,e,f);0===d.length&&(d=g(a.currentTime,e,c));h.a.debug("buffer: gc cleaning",d);return l.Observable.from(d.map(function(a){return b.removeBuffer(a)})).concatAll()})};
var l=a(0);a.n(l);b=a(4);var h=a(1),k=a(10),f=b.a.BUFFER_GC_GAPS.CALM,c=b.a.BUFFER_GC_GAPS.BEEFY},function(b,d,a){function g(b){function d(b){function k(a){if(g.test(a.id))return!1;if(a.isInit||0>a.time)return!0;a=L.hasCompleteSegment(a.time,a.duration,a.timescale);return!a||a.bitrate*w<b.bitrate}c.a.info("bitrate",B,b.bitrate);var g=new e.a,p=function(a){return l({segment:a,representation:b,init:I}).map(function(c){return f()({segment:a},c)})},q=h.Observable.combineLatest(A,D,C,G).mergeMap(function(e,
f){var d,l,q=e[0],r=e[2],t=e[3];l=Math.min(e[1],t);d=M.getBuffered();L.addBufferedInfos(d);if(q.stalled&&H){var v=b.index.checkDiscontinuity(q.currentTime);0<v&&F.next({type:"index-discontinuity",value:{ts:v+1}})}v=null;0===f&&(c.a.debug("add init segment",B),v=b.index.getInitSegment());if(0===q.readyState)v=v?[v]:[];else{var x=J,w=Q,C=w,w=q.currentTime+q.timeOffset,y=(q.duration||Infinity)-w;l=Math.max(0,null==q.liveGap?Math.min(l,y):Math.min(l,q.liveGap,y));d=a.i(m.a)(d,w);d=w+(d>x&&Infinity>d?
Math.min(d,C):0);x=l=w+l;l=x-d;b.index.shouldRefresh(q.currentTime+q.timeOffset,d,x)&&(x=new n.g("OUT_OF_INDEX_ERROR",b.index.getType(),!1),F.next({type:"out-of-index",value:x}));d=b.index.getSegments(d,l);v&&d.unshift(v);v=d}v=v.filter(k);for(d=0;d<v.length;d++)g.add(v[d].id);v=h.Observable.of.apply(h.Observable,v).concatMap(p);q=a.i(u.a)(M,q.currentTime,r,t);return h.Observable.merge(v,q)}).concatMap(function(c){var e=c.segment,d=c.parsed,k=d.segmentData,h=d.nextSegments,m=d.segmentInfos;e.isInit&&
(I=m);var l=h?b.index._addSegments(h,m):[],p=function(){g.remove(e.id);if(!e.isInit){var a=m?m:e,c=a.time,f=a.timescale;L.insert(e,c/f,(c+a.duration)/f,b.bitrate)}},q=function(){return M.appendBuffer(k)["do"](p)};return q()["catch"](function(c){if("QuotaExceededError"!=c.name)throw g.remove(e.id),new n.f("BUFFER_APPEND_ERROR",c,!0);return a.i(r.a)(A,M).mergeMap(q)["catch"](function(a){g.remove(e.id);throw new n.f("BUFFER_FULL_ERROR",a,!0);})}).map(function(){return{type:"pipeline",value:f()({bufferType:B,
addedSegments:l},c)}})});return h.Observable.merge(q,F)["catch"](function(a){if(!H||a.type!=n.a.NETWORK_ERROR||!a.isHttpError(412))throw a;return h.Observable.of({type:"precondition-failed",value:a}).concat(h.Observable.timer(2E3)).concat(d(b))}).startWith({type:"representationChange",value:{type:B,representation:b}})}var g=b.sourceBuffer,l=b.downloader,t=b.switch$,A=b.clock$,D=b.wantedBufferAhead,C=b.maxBufferBehind,G=b.maxBufferAhead,B=b.bufferType,H=b.isLive,I=null,F=new k.Subject,J="video"==B?
4:1,Q="video"==B?6:1,L=new p.a,M=new q.a(g);return t.switchMap(d)["finally"](function(){return M.dispose()})}function l(a){return h.Observable.of({type:"representationChange",value:{type:a.bufferType,representation:null}})}a.d(d,"b",function(){return g});a.d(d,"a",function(){return l});var h=a(0);a.n(h);var k=a(5);a.n(k);b=a(8);var f=a.n(b);b=a(4);var c=a(1),e=a(157),m=a(10),n=a(6),p=a(102),q=a(101),r=a(99),u=a(98),w=b.a.BITRATE_REBUFFERING_RATIO},function(b,d,a){var g=a(5);a.n(g);b=function(){function a(b){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");this.buffer=b;this.queue=[];this.flushing=null;this.__onUpdate=this._onUpdate.bind(this);this.__onError=this._onError.bind(this);this.__flush=this._flush.bind(this);this.buffer.addEventListener("update",this.__onUpdate);this.buffer.addEventListener("error",this.__onError);this.buffer.addEventListener("updateend",this.__flush)}a.prototype.appendBuffer=function(a){return this._queueAction("append",a)};a.prototype.removeBuffer=function(a){return this._queueAction("remove",
{start:a.start,end:a.end})};a.prototype.getBuffered=function(){return this.buffer.buffered};a.prototype.dispose=function(){this.buffer.removeEventListener("update",this.__onUpdate);this.buffer.removeEventListener("error",this.__onError);this.buffer.removeEventListener("updateend",this.__flush);this.buffer=null;this.queue.length=0;this.flushing=null};a.prototype._onUpdate=function(a){this.flushing&&(this.flushing.next(a),this.flushing.complete(),this.flushing=null)};a.prototype._onError=function(a){this.flushing&&
(this.flushing.error(a),this.flushing=null)};a.prototype._queueAction=function(a,b){var f=new g.Subject;1===this.queue.unshift({type:a,args:b,subj:f})&&this._flush();return f};a.prototype._flush=function(){if(!this.flushing&&0!==this.queue.length&&!this.buffer.updating){var a=this.queue.pop(),b=a.type,f=a.args;this.flushing=a.subj;try{switch(b){case "append":this.buffer.appendBuffer(f);break;case "remove":this.buffer.remove(f.start,f.end)}}catch(c){this._onError(c)}}};return a}();d.a=b},function(b,
d,a){b=a(4);var g=a(1);a(2);var l=a(164),h=a(10),k=b.a.MAX_MISSING_FROM_COMPLETE_SEGMENT,f=b.a.MAX_BUFFERED_DISTANCE,c=b.a.MINIMUM_SEGMENT_SIZE;b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._inventory=[]}b.prototype.addBufferedInfos=function(b){b=a.i(h.h)(b);for(var e=b.length-1,d=this._inventory,k=0,m=d[0],u=0;u<=e;u++){if(!m){g.a.warn("Some buffered ranges do not link to any segment");return}var w=b[u],t=w.start,w=w.end;if(!(w-t<
c)){for(var v=k;m&&a.i(l.a)(m.bufferedEnd,m.end)-t<c;)m=d[++k];var x=-1,y=k-v;y&&(k=d[v+y-1],x=a.i(l.a)(k.bufferedEnd,k.end),d.splice(v,y),k=v);if(!m){g.a.warn("Some buffered ranges do not link to any segment");return}w-a.i(l.a)(m.bufferedStart,m.start)>=c&&(null!=m.bufferedStart&&m.bufferedStart<t?m.bufferedStart=t:null==m.bufferedStart&&(-1!==x&&x>t?m.bufferedStart-x<=f&&(m.bufferedStart=x):m.bufferedStart=m.start-t<=f?t:m.start),m=d[++k]);for(;m&&w-a.i(l.a)(m.bufferedStart,m.start)>=c;)t=d[k-1],
null==t.bufferedEnd&&(t.bufferedEnd=t.end),m.bufferedStart=t.bufferedEnd,m=d[++k];if(t=d[k-1])null!=t.bufferedEnd&&t.bufferedEnd>w?t.bufferedEnd=w:null==t.bufferedEnd&&(t.bufferedEnd=w-t.end<=f?w:t.end)}}m&&d.splice(k,d.length-k)};b.prototype.insert=function(a,c,b,e){if(null!=b){var f=this._inventory;b={bitrate:e,start:c,end:b,bufferedStart:void 0,bufferedEnd:void 0,segment:a};for(e=f.length-1;0<=e;e--){var d=f[e];if(d.start<=c){d.end<=c?this._inventory.splice(e+1,0,b):d.start>=c?this._inventory.splice(e,
1,b):(null!=d.end&&(d.end=c),this._inventory.splice(e+1,0,b));return}}(f=this._inventory[0])?null==a.end?f.start===c?this._inventory.splice(0,1,b):this._inventory.splice(0,0,b):f.start>=a.end?this._inventory.splice(0,0,b):f.end<=a.end?this._inventory.splice(0,1,b):(f.start=a.end,this._inventory.splice(0,0,b)):this._inventory.push(b)}};b.prototype.hasCompleteSegment=function(a,c,b){for(var e=this._inventory,f=e.length-1;0<=f;f--){var d=e[f],h=d.segment,m=a,g=c;h.timescale!==b&&(m=a*h.timescale/b,g=
c*h.timescale/b);if(h.time===m&&h.duration===g){if((a=e[f-1])&&null==a.bufferedEnd||null==d.bufferedStart)break;if((!a||a.bufferedEnd<d.bufferedStart)&&d.bufferedStart-d.start>k)break;if((e=e[f+1])&&null==e.bufferedStart||null==d.bufferedEnd)break;if(null!=d.end&&(!e||e.bufferedStart>d.bufferedEnd)&&d.end-d.bufferedEnd>k)break;return d}}return null};return b}();d.a=b},function(b,d,a){a.d(d,"a",function(){return g});var g={expired:!0,"internal-error":!0}},function(b,d,a){function g(b){var e=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{},f=e.$keySystem,d=e.$mediaKeys,k=e.$mediaKeySystemConfiguration;return f&&d&&!a.i(c.e)()?(e=b.filter(function(a){return a.type!==f.type||a.persistentLicense&&"required"!=k.persistentState||a.distinctiveIdentifierRequired&&"required"!=k.distinctiveIdentifier?!1:!0})[0])?{keySystem:e,keySystemAccess:new c.f(f,d,k)}:null:null}function l(a){var c=["temporary"],b="optional",e="optional";a.persistentLicense&&(b="required",c.push("persistent-license"));a.persistentStateRequired&&
(b="required");a.distinctiveIdentifierRequired&&(e="required");var f=a.audioRobustnesses||m;a=(a.videoRobustnesses||m).map(function(a){return{contentType:'video/mp4;codecs="avc1.4d401e"',robustness:a}});f=f.map(function(a){return{contentType:'audio/mp4;codecs="mp4a.40.2"',robustness:a}});return[{initDataTypes:["cenc"],videoCapabilities:a,audioCapabilities:f,distinctiveIdentifier:e,persistentState:b,sessionTypes:c},{initDataTypes:["cenc"],videoCapabilities:void 0,audioCapabilities:void 0,distinctiveIdentifier:e,
persistentState:b,sessionTypes:c}]}function h(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return a.$keySystem&&a.$keySystem.type}a.d(d,"b",function(){return h});var k=a(0);a.n(k);b=a(4);var f=a(1),c=a(7),e=a(6),m=b.a.EME_DEFAULT_ROBUSTNESSES,n=b.a.EME_KEY_SYSTEMS;d.a=function(b,d){var h=g(b,d);if(h)return f.a.debug("eme: found compatible keySystem quickly",h),k.Observable.of(h);var m=b.reduce(function(a,c){return a.concat((n[c.type]||[]).map(function(a){return{keyType:a,keySystem:c}}))},
[]);return k.Observable.create(function(b){function d(g){if(!k)if(g>=m.length)b.error(new e.c("INCOMPATIBLE_KEYSYSTEMS",null,!0));else{var n=m[g],p=n.keyType,q=n.keySystem,r=l(q);f.a.debug("eme: request keysystem access "+p+","+(g+1+" of "+m.length),r);h=a.i(c.g)(p,r).subscribe(function(a){f.a.info("eme: found compatible keysystem",p,r);b.next({keySystem:q,keySystemAccess:a});b.complete()},function(){f.a.debug("eme: rejected access to keysystem",p,r);h=null;d(g+1)})}}var k=!1,h=null;d(0);return function(){k=
!0;h&&h.unsubscribe()}})}},function(b,d,a){function g(c,b){return h.Observable.defer(function(){return a.i(k.a)(c.setServerCertificate(b)).ignoreElements()["catch"](function(a){throw new f.c("LICENSE_SERVER_CERTIFICATE_ERROR",a,!0);})})}function l(a,b,f){return g(a,b)["catch"](function(a){a.fatal=!1;f.next(a);return h.Observable.empty()})}a.d(d,"a",function(){return l});var h=a(0);a.n(h);var k=a(9),f=a(6)},function(b,d,a){function g(a,c,b){return{type:"eme",value:e()({name:a,session:c},b)}}function l(c,
b,e){function f(a,c){return a.type===w.a.ENCRYPTED_MEDIA_ERROR?(a.fatal=c,a):new w.c("KEY_LOAD_ERROR",a,c)}v.a.debug("eme: handle message events",c);var d=void 0,k={totalRetry:2,retryDelay:200,errorSelector:function(a){return f(a,!0)},onRetry:function(a){return e.next(f(a,!1))}},h=a.i(u.h)(c).map(function(a){throw new w.c("KEY_ERROR",a,!0);}),l=a.i(u.j)(c).mergeMap(function(e){d=e.sessionId;v.a.debug("eme: keystatuseschange event",d,c,e);c.keyStatuses.forEach(function(a,c){if(t.a[c]||t.a[a])throw new w.c("KEY_STATUS_CHANGE_ERROR",
c,!0);});return b.onKeyStatusesChange?a.i(p.a)(function(){return a.i(q.a)(b.onKeyStatusesChange(e,c))})["catch"](function(a){throw new w.c("KEY_STATUS_CHANGE_ERROR",a,!0);}):(v.a.info("eme: keystatuseschange event not handled"),m.Observable.empty())}),x=a.i(u.i)(c).mergeMap(function(e){d=e.sessionId;var f=new Uint8Array(e.message),h=e.messageType||"license-request";v.a.debug("eme: event message type "+h,c,e);e=m.Observable.defer(function(){return a.i(q.a)(b.getLicense(f,h)).timeout(1E4)["catch"](function(a){if(a instanceof
n.TimeoutError)throw new w.c("KEY_LOAD_TIMEOUT",null,!1);throw a;})});return a.i(r.a)(e,k)}),l=m.Observable.merge(x,l).concatMap(function(b){v.a.debug("eme: update session",d,b);return a.i(q.a)(c.update(b,d))["catch"](function(a){throw new w.c("KEY_UPDATE_ERROR",a,!0);}).mapTo(g("session-update",c,{updatedWith:b}))}),h=m.Observable.merge(l,h);return c.closed?h.takeUntil(a.i(q.a)(c.closed)):h}function h(a,c,b,e,f){v.a.debug("eme: create a new "+c+" session");var d=a.createSession(c);a=l(d,b,f)["finally"](function(){x.b.deleteAndClose(d);
x.a["delete"](e)}).publish();return{session:d,sessionEvents:a}}function k(c,b,e,f,d,k){c=h(c,e,b,d,k);var l=c.session;c=c.sessionEvents;x.b.add(d,l,c);v.a.debug("eme: generate request",f,d);f=a.i(q.a)(l.generateRequest(f,d))["catch"](function(a){throw new w.c("KEY_GENERATE_REQUEST_ERROR",a,!1);})["do"](function(){"persistent-license"==e&&x.a.add(d,l)}).mapTo(g("generated-request",l,{initData:d,initDataType:f}));return m.Observable.merge(c,f)}function f(a,c,b,e,f,d){return k(a,c,b,e,f,d)["catch"](function(h){if(h.code!==
w.b.KEY_GENERATE_REQUEST_ERROR)throw h;var m=x.b.getFirst();if(!m)throw h;v.a.warn("eme: could not create a new session, retry after closing a currently loaded session",h);return x.b.deleteAndClose(m).mergeMap(function(){return k(a,c,b,e,f,d)})})}function c(c,b,e,d,k,l){v.a.debug("eme: load persisted session",e);var n=h(c,"persistent-license",b,k,l),p=n.session,r=n.sessionEvents;return a.i(q.a)(p.load(e))["catch"](function(){return m.Observable.of(!1)}).mergeMap(function(a){if(a)return x.b.add(k,
p,r),x.a.add(k,p),r.startWith(g("loaded-session",p,{storedSessionId:e}));v.a.warn("eme: no data stored for the loaded session, do fallback",e);x.b.deleteById(e);x.a["delete"](k);p.sessionId&&p.remove();return f(c,b,"persistent-license",d,k,l).startWith(g("loaded-session-failed",p,{storedSessionId:e}))})}b=a(8);var e=a.n(b),m=a(0);a.n(m);var n=a(75);a.n(n);var p=a(43),q=a(9),r=a(68),u=a(17),w=a(6),t=a(103),v=a(1),x=a(37);d.a=function(a,b,e,d,k,h){return m.Observable.defer(function(){var l=x.b.get(k);
if(l&&l.sessionId)return v.a.debug("eme: reuse loaded session",l.sessionId),m.Observable.of(g("reuse-session",l));var n=(l=b.sessionTypes)&&0<=l.indexOf("persistent-license"),l=n&&e.persistentLicense?"persistent-license":"temporary";return n&&e.persistentLicense&&(n=x.a.get(k))?c(a,e,n.sessionId,d,k,h):f(a,e,l,d,k,h)})}},function(b,d,a){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&
b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var l=a(0);a.n(l);var h=a(1),k=a(9);b=a(57);var f=a(58);b=function(c){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=c.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}g(b,c);
b.prototype.getFirst=function(){if(0<this._entries.length)return this._entries[0].session};b.prototype.find=function(a){for(var c=0;c<this._entries.length;c++)if(!0===a(this._entries[c]))return this._entries[c];return null};b.prototype.get=function(c){c=a.i(f.a)(c);var b=this.find(function(a){return a.initData===c});return b?b.session:null};b.prototype.add=function(c,b,e){c=a.i(f.a)(c);var d=this.get(c);d&&this.deleteAndClose(d);e=e.connect();c={session:b,initData:c,eventSubscription:e};h.a.debug("eme-mem-store: add session",
c);this._entries.push(c)};b.prototype.deleteById=function(a){var c=this.find(function(c){return c.session.sessionId===a});return c?this["delete"](c.session):null};b.prototype["delete"]=function(a){var c=this.find(function(c){return c.session===a});if(!c)return null;var b=c.session,e=c.eventSubscription;h.a.debug("eme-mem-store: delete session",c);c=this._entries.indexOf(c);this._entries.splice(c,1);e.unsubscribe();return b};b.prototype.deleteAndClose=function(c){return(c=this["delete"](c))?(h.a.debug("eme-mem-store: close session",
c),a.i(k.a)(c.close())["catch"](function(){return l.Observable.of(null)})):l.Observable.of(null)};b.prototype.dispose=function(){var a=this,c=this._entries.map(function(c){return a.deleteAndClose(c.session)});this._entries=[];return l.Observable.merge.apply(null,c)};return b}(b.a);d.a=b},function(b,d,a){var g=a(107),l=a(109);a.d(d,"b",function(){return g.a});a.d(d,"a",function(){return l.a})},function(b,d,a){function g(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+
typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}var l=a(1),h=a(2);b=a(57);var k=a(58);b=function(b){function c(a){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");var e;e=b.call(this);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!==typeof e&&"function"!==typeof e?this:
e;e.setStorage(a);return e}g(c,b);c.prototype.setStorage=function(c){if(this._storage!==c){a.i(h.a)(c,"no licenseStorage given for keySystem with persistentLicense");h.a.iface(c,"licenseStorage",{save:"function",load:"function"});this._storage=c;try{this._entries=this._storage.load(),a.i(h.a)(Array.isArray(this._entries))}catch(m){l.a.warn("eme-persitent-store: could not get entries from license storage",m),this.dispose()}}};c.prototype.get=function(c){c=a.i(k.a)(c);return this.find(function(a){return a.initData===
c})||null};c.prototype.add=function(c,b){var e=b&&b.sessionId;if(e){c=a.i(k.a)(c);var f=this.get(c);f&&f.sessionId===e||(f&&this["delete"](c),l.a.info("eme-persitent-store: add new session",e,b),this._entries.push({sessionId:e,initData:c}),this._save())}};c.prototype["delete"]=function(c){c=a.i(k.a)(c);var b=this.find(function(a){return a.initData===c});b&&(l.a.warn("eme-persitent-store: delete session from store",b),b=this._entries.indexOf(b),this._entries.splice(b,1),this._save())};c.prototype.dispose=
function(){this._entries=[];this._save()};c.prototype._save=function(){try{this._storage.save(this._entries)}catch(e){l.a.warn("eme-persitent-store: could not save licenses in localStorage")}};return c}(b.a);d.a=b},function(b,d,a){function g(c){return c?a.i(k.h)(c,null):l.Observable.empty()}a.d(d,"b",function(){return g});var l=a(0);a.n(l);var h=a(1),k=a(7),f=a(37);d.a=function(c,b,d,g,p){return l.Observable.defer(function(){var e=p.$videoElement,m=p.$mediaKeys;p.$mediaKeys=c;p.$mediaKeySystemConfiguration=
b;p.$keySystem=g;p.$videoElement=d;if(d.mediaKeys===c)return l.Observable.of(c);m&&m!==c&&f.b.dispose();e&&e!==d?(h.a.debug("eme: unlink old video element and set mediakeys"),e=a.i(k.h)(e,null).concat(a.i(k.h)(d,c))):(h.a.debug("eme: set mediakeys"),e=a.i(k.h)(d,c));return e.mapTo(c)})}},function(b,d,a){function g(c){var b=a.i(u.a)(c.locations[0]);(c=c.periods[0])&&c.baseURL&&(b+=""+c.baseURL);return b}function l(a,c,b,f){if(!c.transportType)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);c.id=c.id||
"gen-manifest-"+A++;c.type=c.type||"static";c.isLive="dynamic"==c.type;var d=c.locations;d&&d.length||(c.locations=[a]);var k={rootURL:g(c),baseURL:c.baseURL,isLive:c.isLive};a=c.periods.map(function(a){return h(a,k,b,f)});c=e(c,a[0]);c.periods=null;c.duration||(c.duration=Infinity);c.isLive&&(c.suggestedPresentationDelay=c.suggestedPresentationDelay||0,c.availabilityStartTime=c.availabilityStartTime||0);return new x.a(c)}function h(a,b,e,d){"undefined"==typeof a.id&&(a.id="gen-period-"+A++);var h=
a.adaptations.map(function(a){return k(a,b)});e&&h.push.apply(h,f(e).map(function(a){return k(a,b)}));d&&h.push.apply(h,c(d).map(function(a){return k(a,b)}));e=h.filter(function(a){return 0>D.indexOf(a.type)?(r.a.info("not supported adaptation type",a.type),!1):!0});if(0===e.length)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);d={};for(h=0;h<e.length;h++){var m=e[h],g=m.representations,l=m.type;d[l]||(d[l]=[]);0<g.length&&d[l].push(m)}for(var n in d)if(0===d[n].length)throw new t.f("MANIFEST_INCOMPATIBLE_CODECS_ERROR",
null,!0);a.adaptations=d;return a}function k(c,b){if("undefined"==typeof c.id)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);var f=e(b,c),d={};z.forEach(function(a){a in f&&(d[a]=f[a])});var k=f.representations.map(function(c){var b=f.rootURL,k=f.baseURL;if("undefined"==typeof c.id)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);c=e(d,c);c.index=c.index||{};c.index.timescale||(c.index.timescale=1);c.bitrate||(c.bitrate=1);"mp4a.40.02"==c.codecs&&(c.codecs="mp4a.40.2");c.baseURL=a.i(u.b)(b,k,c.baseURL);
c.codec=c.codecs;return c}).sort(function(a,c){return a.bitrate-c.bitrate}),h=f.type,m=f.accessibility,m=void 0===m?[]:m;if(!h)throw new t.f("MANIFEST_PARSE_ERROR",null,!0);"video"==h||"audio"==h?(k=k.filter(function(c){return a.i(w.p)(n(c))}),"audio"===h&&(h=a.i(q.a)(m,"visuallyImpaired"),f.audioDescription=h)):"text"===h&&(h=a.i(q.a)(m,"hardOfHearing"),f.closedCaption=h);f.representations=k;f.bitrates=k.map(function(a){return a.bitrate});return f}function f(c){return(Array.isArray(c)?c:[c]).reduce(function(c,
b){var e=b.mimeType,f=b.codecs,d=b.url,k=b.language,h=b.languages,m=b.closedCaption;k&&(h=[k]);return c.concat(h.map(function(c){return{id:"gen-text-ada-"+A++,type:"text",language:c,normalizedLanguage:a.i(v.a)(c),accessibility:m?["hardOfHearing"]:[],baseURL:d,representations:[{id:"gen-text-rep-"+A++,mimeType:e,codecs:f,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}}))},[])}function c(a){return(Array.isArray(a)?a:[a]).map(function(a){var c=a.mimeType;a=a.url;return{id:"gen-image-ada-"+
A++,type:"image",baseURL:a,representations:[{id:"gen-image-rep-"+A++,mimeType:c,index:{indexType:"template",duration:Number.MAX_VALUE,timescale:1,startNumber:0}}]}})}function e(){for(var a={},c=arguments.length,b=Array(c),f=0;f<c;f++)b[f]=arguments[f];for(c=b.length-1;0<=c;c--){var f=b[c],d;for(d in f)if(!a.hasOwnProperty(d)){var k=f[d];k&&"object"===("undefined"===typeof k?"undefined":y(k))?k instanceof Date?a[d]=new Date(k.getTime()):Array.isArray(k)?a[d]=k.slice(0):a[d]=e(k):a[d]=k}}return a}function m(a,
c){for(var b=function(a,c){return p()(c,function(c){return c.id===a})},e=a.getAdaptations(),f=c.getAdaptations(),d=0;d<e.length;d++){var k=b(e[d].id,f);if(k)for(var h=e[d].representations,k=k.representations,m=0;m<h.length;m++){var g=b(h[m].id,k);g?h[m].index.update(g.index):r.a.warn('manifest: representation "'+h[m].id+'" not found when merging.')}else r.a.warn('manifest: adaptation "'+e[d].id+'" not found when merging.')}return a}function n(a){return a.mimeType+';codecs="'+a.codec+'"'}a.d(d,"a",
function(){return l});a.d(d,"c",function(){return n});a.d(d,"b",function(){return m});b=a(22);var p=a.n(b),q=a(19),r=a(1),u=a(20),w=a(7),t=a(6),v=a(30),x=a(135),y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},z="audioSamplingRate codecs codingDependency frameRate height index maxPlayoutRate maximumSAPPeriod mimeType profiles segmentProfiles width".split(" "),
A=0,D=["audio","video","text","image"]},function(b,d,a){var g=a(0);a.n(g);var l=a(6),h=a(7),k=a(67);d.a=function(b,c){var e=c.baseDelay,f=c.maxDelay,d=c.maxRetryRegular,p=c.maxRetryOffline,q=c.onRetry,r=0,u=0;return b["catch"](function(c,b){var m;m=c instanceof l.h?c.type===l.j.ERROR_HTTP_CODE?500<=c.status||404==c.status:c.type===l.j.TIMEOUT||c.type===l.j.ERROR_EVENT:!1;if(!m)throw c;m=c.type===l.j.ERROR_EVENT&&a.i(h.q)()?2:1;var n=2===m?p:d;m!==u&&(r=0,u=m);if(++r>n)throw c;q&&q(c,r);m=Math.min(e*
Math.pow(2,r-1),f);m=a.i(k.b)(m);return g.Observable.timer(m).mergeMap(function(){return b})})}},function(b,d,a){function g(c,b){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;a.i(f.d)(b)||(b=new (b instanceof f.h?f.i:f.e)(c,b,e));return b}d.a=function(b){var f=b.resolver,d=b.loader,x=b.parser,w=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},z=w.maxRetry,A=w.cache,D=new k.Subject;f||(f=h.Observable.of);d||(d=h.Observable.of);x||(x=h.Observable.of);var C={baseDelay:u,maxDelay:r,
maxRetryRegular:"number"===typeof z?z:p,maxRetryOffline:q,onRetry:function(a){D.next(g("PIPELINE_LOAD_ERROR",a,!1))}},G=function(c){return a.i(e.a)(f,c)["catch"](function(a){throw g("PIPELINE_RESOLVE_ERROR",a);})},B=function(c,b){var f=function(c){return a.i(n.a)(a.i(e.a)(d,c),C)["catch"](function(a){throw g("PIPELINE_LOAD_ERROR",a);})["do"](function(a){var b=a.value;"response"===a.type&&A&&A.add(c,b)}).startWith({type:"request",value:b})},k=A?A.get(c):null;return null===k?f(c):a.i(m.a)(k).map(function(a){return{type:"cache",
value:a}})["catch"](function(){return f(c)})},H=function(c){return a.i(e.a)(x,c)["catch"](function(a){throw g("PIPELINE_PARSING_ERROR",a);})};return function(b){var e=G(b).mergeMap(function(e){return B(e,b).mergeMap(function(b){var f=b.type;b=b.value;if(a.i(c.a)(["cache","data","response"],f)){var d=l()({response:b},e);return("response"===f?h.Observable.of({type:"metrics",value:{size:b.size,duration:b.duration}}):h.Observable.empty()).concat(H(d).map(function(a){return{type:"data",value:l()({parsed:a},
d)}}))}return h.Observable.of({type:f,value:b})})})["do"](null,null,function(){f.complete()}),f=D.map(function(a){return{type:"error",value:a}});return h.Observable.merge(e,f)}};b=a(8);var l=a.n(b),h=a(0);a.n(h);var k=a(5);a.n(k);b=a(4);var f=a(6),c=a(19),e=a(43),m=a(9),n=a(112),p=b.a.DEFAULT_MAX_PIPELINES_RETRY_ON_ERROR,q=b.a.DEFAULT_MAX_PIPELINES_RETRY_ON_OFFLINE,r=b.a.MAX_BACKOFF_DELAY_BASE,u=b.a.INITIAL_BACKOFF_DELAY_BASE},function(b,d,a){var g=a(6),l=a(1),h=a(56);d.a=function(b,f,c){return f&&
f.length?a.i(h.c)(b,f,c):a.i(h.d)(b).map(function(){l.a.error("eme: ciphered media and no keySystem passed");throw new g.c("MEDIA_IS_ENCRYPTED_ERROR",null,!0);})}},function(b,d,a){d.a=function(b){return a.i(l.a)(b,"error").mergeMap(function(){var a=void 0;switch(b.error.code){case 1:a="MEDIA_ERR_ABORTED";break;case 2:a="MEDIA_ERR_NETWORK";break;case 3:a="MEDIA_ERR_DECODE";break;case 4:a="MEDIA_ERR_SRC_NOT_SUPPORTED"}g.a.error("stream: video element MEDIA_ERR("+a+")");throw new MediaError(a,null,!0);
})};var g=a(1),l=a(31)},function(b,d,a){d.a=function(b){function f(b,e,f,d,k,h,m,l){var n=F(e);return m.switchMap(function(m){if(!m)return a.i(y.a)(E,b,e,P,S),a.i(w.a)({bufferType:e}).startWith({type:"adaptationChange",value:{type:e,adaptation:m}});var p=null,q=R.map(function(a){var c=void 0,b=void 0;p&&(c=p.bitrate,p.index&&(b=p.index.getLastPosition()));return{bitrate:c,bufferGap:a.bufferGap,duration:a.duration,isLive:h.isLive,lastIndexPosition:b,position:a.currentTime,speed:U.getValue()}}),r=l.get$(e,
q,m.representations)["do"](function(a){return p=a}),q=a.i(y.b)(E,b,e,f,P,S,{hideNativeSubtitle:ga}),r=g.Observable.combineLatest(r,k).map(function(a){return a[0]});return a.i(w.b)({sourceBuffer:q,downloader:function(c){var b=c.segment,f=c.representation;c=c.init;b=a.i(t.a)(V[e],n)({segment:b,representation:f,adaptation:m,manifest:h,init:c});return a.i(C.a)(e,b,X,Y,O)},switch$:r,clock$:d,wantedBufferAhead:ha,maxBufferBehind:ia,maxBufferAhead:ja,bufferType:e,isLive:h.isLive}).startWith({type:"adaptationChange",
value:{type:e,adaptation:m}})["catch"](function(b){c.a.error("buffer",e,"has crashed",b);if(!a.i(y.c)(e))return O.next(b),g.Observable.empty();throw b;})})}function d(b,e){var f=a.i(x.a)(b,ca),d=f,h=a.i(q.i)(E)["do"](function(){c.a.info("set initial time",f);E.playbackRate=1;E.currentTime=f;d=0}),m=a.i(q.j)(E)["do"](function(){c.a.info("canplay event");T&&E.play();T=!0});return{clock$:e.map(function(a){return k()({timeOffset:d},a)}),loaded$:g.Observable.combineLatest(h,m).take(1).mapTo({type:"loaded",
value:!0})}}function n(c){return Z(c.getUrl()).map(function(b){return{type:"manifestUpdate",value:{manifest:a.i(u.b)(c,b)}}})}function J(b,e){b&&a.i(z.a)(b,e.getDuration());var k=a.i(A.a)(e,R),m=k.timings,l=k.seekings,p=d(e,m),k=p.loaded$,q=p.clock$,r=new v.a(Y,X,aa),t={},p=Object.keys(e.adaptations).map(function(c){t[c]=new h.BehaviorSubject;var d=a.i(u.c)(e.adaptations[c][0].representations[0]);a.i(y.c)(c)&&a.i(y.d)(b,c,d,P);return f(b,c,d,q,l,e,t[c],r)}),p=e.isLive?g.Observable.merge.apply(g.Observable,
p).mergeMap(function(a){a:{switch(a.type){case "index-discontinuity":c.a.warn("explicit discontinuity seek",a.value.ts);E.currentTime=a.value.ts;break;case "precondition-failed":e.updateLiveGap(1);c.a.warn("precondition failed",e.presentationLiveGap);break;case "out-of-index":c.a.info("out of index");a=n(e);break a}a=g.Observable.of(a)}return a}):g.Observable.merge.apply(g.Observable,p),x=g.Observable.of({type:"manifestChange",value:{manifest:e,adaptations$:t,abrManager:r}}),w=a.i(H.a)(E,ba,O),C=
a.i(G.a)(E,U,m,{changePlaybackRate:K}).map(function(a){return{type:"speed",value:a}}),m=a.i(B.a)(E,e,m).map(function(a){return{type:"stalled",value:a}}),J=a.i(D.a)(E);return g.Observable.merge(p,w,k,x,J,C,m)["finally"](function(){return r.dispose()})}var aa=b.adaptiveOptions,T=b.autoPlay,N=b.bufferOptions,ba=b.keySystems,ca=b.startAt,da=b.url,E=b.videoElement,U=b.speed$,ea=b.supplementaryTextTracks,fa=b.supplementaryImageTracks,R=b.timings$,ga=b.hideNativeSubtitle,O=b.errorStream,W=b.withMediaSource,
K=void 0===W?!0:W,V=b.transport,ha=N.wantedBufferAhead$,ja=N.maxBufferAhead$,ia=N.maxBufferBehind$,X=new l.Subject,Y=new l.Subject,ka=a.i(t.a)(V.manifest),Z=a.i(m.a)(function(c){c=ka({url:c});var b=new l.Subject;return a.i(C.a)("manifest",c,b,b,O).map(function(c){c=c.parsed;return a.i(u.a)(c.url,c.manifest,ea,fa)})}),P={},S={};b=R.filter(function(a){var c=a.currentTime;a=a.duration;return 0<a&&a-c<I});N=a.i(e.b)(function(c){var b=c.url,e=c.mediaSource;c=e?a.i(r.e)(e):g.Observable.of(null);return g.Observable.combineLatest(Z(b),
c).mergeMap(function(a){return J(e,a[0])})},{totalRetry:3,retryDelay:250,resetDelay:6E4,shouldRetry:function(a){return!0!==a.fatal},errorSelector:function(c){a.i(p.d)(c)||(c=new p.e("NONE",c,!0));c.fatal=!0;return c},onRetry:function(a,b){c.a.warn("stream retry",a,b);O.next(a)}});return a.i(z.b)(da,E,K,S,P).mergeMap(N).takeUntil(b)};var g=a(0);a.n(g);var l=a(5);a.n(l);var h=a(32);a.n(h);b=a(8);var k=a.n(b);b=a(4);var f=a(19),c=a(1);a(2);var e=a(68),m=a(162),n=a(158),p=a(6),q=a(7),r=a(17),u=a(111),
w=a(100),t=a(113),v=a(90),x=a(117),y=a(121),z=a(118),A=a(126),D=a(115),C=a(119),G=a(124),B=a(125),H=a(114),I=b.a.END_OF_PLAY,F=function(c){var b={};a.i(f.a)(["audio","video"],c)?b.cache=new n.a:"image"===c&&(b.maxRetry=0);return b}},function(b,d,a){d.a=function(b,d){if(d){var f=a.i(g.e)(b),c=f[0],f=f[1];if(null!=d.position)return Math.max(Math.min(d.position,f),c);if(null!=d.wallClockTime)return Math.max(Math.min(b.isLive?d.wallClockTime-b.availabilityStartTime:d.wallClockTime,f),c);if(null!=d.fromFirstPosition){var e=
d.fromFirstPosition;return 0>=e?c:Math.min(c+e,f)}if(null!=d.fromLastPosition)return e=d.fromLastPosition,0<=e?f:Math.max(c,f+e)}return b.isLive?(c=b.suggestedPresentationDelay,a.i(g.d)(b)-(null==c?l:c)):0};b=a(4);var g=a(28),l=b.a.DEFAULT_LIVE_GAP},function(b,d,a){a.d(d,"b",function(){return f});a.d(d,"a",function(){return k});var g=a(0);a.n(g);var l=a(1),h=a(7),k=function(a,b){var c;c=Infinity===b?Number.MAX_VALUE:b;a.duration!==c&&(a.duration=c,l.a.info("set duration",a.duration))},f=function(c,
b,f,d,k){return g.Observable.create(function(e){function m(){if(g&&"closed"!=g.readyState)for(var c=g,e=c.readyState,c=c.sourceBuffers,f=0;f<c.length;f++){var m=c[f];try{"open"==e&&m.abort(),g.removeSourceBuffer(m)}catch(z){l.a.warn("error while disposing souceBuffer",z)}}Object.keys(k).forEach(function(a){delete k[a]});Object.keys(d).forEach(function(a){var c=d[a];try{c.abort()}catch(D){l.a.warn("error while disposing souceBuffer",D)}delete d[a]});a.i(h.k)(b);if(n)try{URL.revokeObjectURL(n)}catch(z){l.a.warn("error while revoking ObjectURL",
z)}n=g=null}var g=void 0,n=void 0;m();if(f){if(!h.l)throw new MediaError("MEDIA_SOURCE_NOT_SUPPORTED",null,!0);g=new h.l;n=URL.createObjectURL(g)}else g=null,n=c;b.src=n;e.next({url:c,mediaSource:g});l.a.info("create mediasource object",n);return m})}},function(b,d,a){d.a=function(a,b,d,f,c){var e=void 0,k=void 0;return b.filter(function(b){var h=b.type;b=b.value;if("data"===h)return!0;if("error"===h)b.pipelineType=a,c.next(b);else if("manifest"!==a)if("metrics"===h)d.next({type:a,value:b});else if("request"===
h){if(h=b&&b.segment,null!=h){b=h.duration/h.timescale;var m=h.time/h.timescale;k=h.id;h={duration:isNaN(b)?void 0:b,time:isNaN(m)?void 0:m,requestTimestamp:Date.now(),id:k};e=new g.Subject;f.next(e);e.next({type:a,event:"requestBegin",value:h})}}else"progress"===h&&b.size!==b.totalSize&&(h={duration:b.duration,size:b.size,totalSize:b.totalSize,timestamp:Date.now(),id:k},e.next({type:a,event:"progress",value:h}))}).map(function(a){return a.value})["finally"](function(){e&&(null!=k&&e.next({type:a,
event:"requestEnd",value:{id:k}}),e.complete())}).share()};var g=a(5);a.n(g)},function(b,d,a){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}b=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");
var d=a.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!==typeof d&&"function"!==typeof d?this:d}g(b,a);b.prototype._append=function(){this.buffered.insert(0,Number.MAX_VALUE)};return b}(a(59).a);d.a=b},function(b,d,a){a.d(d,"c",function(){return k});a.d(d,"d",function(){return f});a.d(d,"b",function(){return c});a.d(d,"a",function(){return e});var g=a(1),l=a(122),h=a(120),k=function(a){return"audio"==a||"video"==
a},f=function(a,c,b,e){e[c]||(g.a.info("add sourcebuffer",b),e[c]=a.addSourceBuffer(b));return e[c]},c=function(a,c,b,e,d,u){var m=6<arguments.length&&void 0!==arguments[6]?arguments[6]:{};if(k(b))m=f(c,b,e,d);else{var n=u[b];if(n)try{n.abort()}catch(v){g.a.warn(v)}finally{delete u[b]}if("text"==b)g.a.info("add text sourcebuffer",e),m=new l.a(a,e,m.hideNativeSubtitle);else if("image"==b)g.a.info("add image sourcebuffer",e),m=new h.a(e);else throw g.a.error("unknown buffer type "+b),new MediaError("BUFFER_TYPE_UNKNOWN",
null,!0);u[b]=m}return m},e=function(a,c,b,e,f){var d=k(b);d?(a=e[b],delete e[b]):(a=f[b],delete f[b]);if(a)try{a.abort(),d&&c.removeSourceBuffer(a)}catch(w){g.a.warn(w)}}},function(b,d,a){function g(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=
b)}function l(a){for(var c=[],b=0;b<a.length;b++){var d=a[b],k=d.start,h=d.end;(d=d.text)&&c.push(new f(k,h,d))}return c}b=a(59);var h=a(7),k=a(1),f=window.VTTCue||window.TextTrackCue;b=function(c){function b(e,f,d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var k;k=c.call(this,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");k=!k||"object"!==typeof k&&"function"!==typeof k?this:k;var m=a.i(h.n)(e,d);d=m.track;
m=m.trackElement;k._videoElement=e;k._isVtt=/^text\/vtt/.test(f);k._track=d;k._trackElement=m;return k}g(b,c);b.prototype._append=function(c){var b=this,e=c.timescale,f=c.start,d=c.end;c=c.data;if(!(0>=d-f))if(f/=e,e=null!=d?d/e:void 0,this._isVtt)a.i(h.o)()&&this._trackElement?(d=new Blob([c],{type:"text/vtt"}),d=URL.createObjectURL(d),this._trackElement.src=d,this.buffered.insert(f,null!=e?e:Number.MAX_VALUE)):k.a.warn("vtt subtitles not supported");else if(d=l(c),0<d.length){c=d[0];var m=this._track.cues;
0<m.length&&c.startTime<m[m.length-1].startTime&&this._remove(c.startTime,Infinity);d.forEach(function(a){return b._track.addCue(a)});this.buffered.insert(f,null!=e?e:d[d.length-1].endTime)}};b.prototype._remove=function(a,c){for(var b=this._track,e=b.cues,f=e.length-1;0<=f;f--){var d=e[f],k=d.startTime,h=d.endTime;k>=a&&k<=c&&h<=c&&b.removeCue(d)}this.buffered.remove(a,c)};b.prototype._abort=function(){var a=this._trackElement,c=this._videoElement;a&&c&&c.hasChildNodes(a)&&c.removeChild(a);this._track.mode=
"disabled";this.size=0;this._videoElement=this._track=this._trackElement=null};return b}(b.a);d.a=b},function(b,d,a){a(2);var g=a(10);b=function(){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._ranges=[];this.length=0}b.prototype.insert=function(b,d){a.i(g.e)(this._ranges,{start:b,end:d});this.length=this._ranges.length};b.prototype.remove=function(b,d){var f=[];0<b&&f.push({start:0,end:b});Infinity>d&&f.push({start:d,end:Infinity});a.i(g.f)(this._ranges,
f);this.length=this._ranges.length};b.prototype.start=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");return this._ranges[a].start};b.prototype.end=function(a){if(a>=this._ranges.length)throw Error("INDEX_SIZE_ERROR");return this._ranges[a].end};return b}();d.a=b},function(b,d,a){var g=a(0);a.n(g);var l=a(1);d.a=function(a,b,f,c){c=c.pauseWhenStalled;var e=void 0,e=void 0===c||c?f.pairwise().map(function(a){var c=a[1].stalled;a=a[0].stalled;if(!a!==!c||a&&c&&a.state!==c.state)return!a}).filter(function(a){return null!=
a}).startWith(!1):g.Observable.of(!1).concat(g.Observable.never());return e.switchMap(function(c){return c?g.Observable.defer(function(){l.a.info("pause playback to build buffer");a.playbackRate=0;return g.Observable.of(0)}):b["do"](function(c){l.a.info("resume playback speed",c);a.playbackRate=c})})}},function(b,d,a){b=a(4);var g=a(1),l=a(10),h=a(7),k=b.a.DISCONTINUITY_THRESHOLD;d.a=function(b,c,e){return e["do"](function(c){if(c.stalled){var e=c.buffered,f=c.currentTime,e=a.i(l.d)(e,f);a.i(h.m)(c)?
(g.a.warn("after freeze seek",f,c.range),b.currentTime=f):e<k&&(c=f+e+1/60,g.a.warn("discontinuity seek",f,e,c),b.currentTime=c)}}).share().map(function(a){return a.stalled}).distinctUntilChanged(function(a,c){return!a&&!c||a&&c&&a.state===c.state})}},function(b,d,a){function g(a){return a.filter(function(a){return"seeking"==a.state&&(Infinity===a.bufferGap||-2>a.bufferGap)}).skip(1).startWith(!0)}b=a(8);var l=a.n(b),h=a(28);d.a=function(b,f){var c=f.map(function(c){var e=l()({},c);e.liveGap=b.isLive?
a.i(h.d)(b)-c.currentTime:Infinity;return e}),e=g(c);return{timings:c,seekings:e}}},function(b,d,a){function g(b,f,c){this.name="EncryptedMediaError";this.type=l.a.ENCRYPTED_MEDIA_ERROR;this.reason=f;this.code=l.b[b];this.fatal=c;this.message=a.i(h.a)(this.name,this.code,this.reason)}var l=a(18),h=a(23);g.prototype=Error();d.a=g},function(b,d,a){function g(b,f,c){this.name="IndexError";this.type=l.a.INDEX_ERROR;this.indexType=f;this.reason=null;this.code=l.b[b];this.fatal=c;this.message=a.i(h.a)(this.name,
this.code,null)}var l=a(18),h=a(23);g.prototype=Error();d.a=g},function(b,d,a){function g(b,f,c){this.name="MediaError";this.type=l.a.MEDIA_ERROR;this.reason=f;this.code=l.b[b];this.fatal=c;this.message=a.i(h.a)(this.name,this.code,this.reason)}var l=a(18),h=a(23);g.prototype=Error();d.a=g},function(b,d,a){function g(b,f,c){this.name="NetworkError";this.type=l.a.NETWORK_ERROR;this.xhr=f.xhr;this.url=f.url;this.status=f.status;this.reqType=f.type;this.reason=f;this.code=l.b[b];this.fatal=c;this.reason?
this.message=a.i(h.a)(this.name,this.code,this.reason):(b=""+this.reqType+(0<this.status?"("+this.status+")":"")+" on "+this.url,this.message=a.i(h.a)(this.name,this.code,{message:b}))}var l=a(18),h=a(23);g.prototype=Error();g.prototype.isHttpError=function(a){return this.reqType==l.c.ERROR_HTTP_CODE&&this.status==a};d.a=g},function(b,d,a){function g(b,f,c){this.name="OtherError";this.type=l.a.OTHER_ERROR;this.reason=f;this.code=l.b[b];this.fatal=c;this.message=a.i(h.a)(this.name,this.code,this.reason)}
var l=a(18),h=a(23);g.prototype=Error();d.a=g},function(b,d,a){function g(a,b,d){this.name="RequestError";this.url=b;this.xhr=a;this.status=a.status;this.message=this.type=d}g.prototype=Error();d.a=g},function(b,d,a){b.exports=a(82)["default"]},function(b,d,a){b=a(8);var g=a.n(b);b=a(22);var l=a.n(b),h=a(141),k=a(41);b=function(){function b(){var c=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var f=
a.i(k.a)();this.id=null==e.id?f:""+e.id;this.type=e.type||"";this.representations=Array.isArray(e.representations)?e.representations.map(function(a){return new h.a(g()({rootId:c.id},a))}).sort(function(a,c){return a.bitrate-c.bitrate}):[];null!=e.language&&(this.language=e.language);null!=e.normalizedLanguage&&(this.normalizedLanguage=e.normalizedLanguage);null!=e.closedCaption&&(this.isClosedCaption=e.closedCaption);null!=e.audioDescription&&(this.isAudioDescription=e.audioDescription);null!=e.contentProtection&&
(this.contentProtection=e.contentProtection);null!=e.smoothProtection&&(this._smoothProtection=e.smoothProtection);this.manual=e.manual}b.prototype.getAvailableBitrates=function(){return this.representations.map(function(a){return a.bitrate})};b.prototype.getRepresentation=function(a){return l()(this.representations,function(c){return a===c.id})};b.prototype.getRepresentationsForBitrate=function(a){return this.representations.filter(function(c){return c.bitrate===a})||null};return b}();d.a=b},function(b,
d,a){b=a(22);var g=a.n(b),l=a(134),h=a(41);b=function(){function b(){var f=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var c=a.i(h.a)();this.id=null==f.id?c:""+f.id;this.transport=f.transportType||"";this.adaptations=f.adaptations?Object.keys(f.adaptations).reduce(function(a,c){a[c]=f.adaptations[c].map(function(a){return new l.a(a)});return a},{}):[];this.periods=[{adaptations:this.adaptations}];this.isLive=
"dynamic"===f.type;this.uris=f.locations||[];this._duration=f.duration;this.suggestedPresentationDelay=f.suggestedPresentationDelay;this.availabilityStartTime=f.availabilityStartTime;this.presentationLiveGap=f.presentationLiveGap;this.timeShiftBufferDepth=f.timeShiftBufferDepth}b.prototype.getDuration=function(){return this._duration};b.prototype.getUrl=function(){return this.uris[0]};b.prototype.getAdaptations=function(){var a=this.adaptations;if(!a)return[];var c=[],b;for(b in a)c.push.apply(c,
a[b]);return c};b.prototype.getAdaptation=function(a){return g()(this.getAdaptations(),function(c){return a===c.id})};b.prototype.updateLiveGap=function(a){this.isLive&&(this.presentationLiveGap+=a)};return b}();d.a=b},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});b=a(8);b=a.n(b);var g=a(38);a=a(24);d["default"]=b()({},g["default"],{getInitSegment:a.a,setTimescale:a.b,scale:a.c,_addSegmentInfos:function(a,b){if(b.timescale!==a.timescale){var d=a.timescale;a.timeline.push({ts:b.time/
b.timescale*d,d:b.duration/b.timescale*d,r:b.count,range:b.range})}else a.timeline.push({ts:b.time,d:b.duration,r:b.count,range:b.range});return!0},shouldRefresh:function(){return!1}})},function(b,d,a){var g={};g.smooth=a(139)["default"];g.timeline=a(38)["default"];g.template=a(140)["default"];g.list=a(138)["default"];g.base=a(136)["default"];d.a=function(a){return g[a.indexType]}},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});var g=a(27),l=a(24);d["default"]={getInitSegment:l.a,
setTimescale:l.b,scale:l.c,getSegments:function(b,d,f,c){var e=a.i(l.d)(d,f,c);f=d.duration;c=d.list;d=d.timescale;for(var k=Math.min(c.length-1,Math.floor(e.to/f)),h=[],e=Math.floor(e.up/f);e<=k;)h.push(new g.a({id:""+b+"_"+e,time:e*f,init:!1,range:c[e].range,duration:f,indexRange:null,timescale:d,media:c[e].media})),e++;return h},getFirstPosition:function(){return 0},getLastPosition:function(a){return a.list.length*a.duration/a.timescale},shouldRefresh:function(a,b,f,c){b=a.list;f=a.presentationTimeOffset;
a=Math.floor((c*a.timescale-(void 0===f?0:f))/a.duration);return!(0<=a&&a<b.length)},_addSegmentInfos:function(){return!1},checkDiscontinuity:function(){return-1}}},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});b=a(38);var g=a(24);d["default"]={getSegments:b["default"].getSegments,getInitSegment:g.a,checkDiscontinuity:b["default"].checkDiscontinuity,_addSegmentInfos:b["default"]._addSegmentInfos,setTimescale:g.b,scale:g.c,shouldRefresh:function(b,d,k,f){var c=b.timeline;k=b.timescale;
b=b.presentationTimeOffset;b=void 0===b?0:b;d=d*k-b;c=c[c.length-1];if(!c)return!1;0>c.d&&(c={ts:c.ts,d:0,r:c.r});c=a.i(g.e)(c);return 1>=(c-d)/k&&f*k-b>c},getFirstPosition:function(a){if(a.timeline.length)return a.timeline[0].ts/a.timescale},getLastPosition:function(b){if(b.timeline.length){var d=b.timeline[b.timeline.length-1];return a.i(g.e)(d)/b.timescale}}}},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});var g=a(27),l=a(24);d["default"]={getInitSegment:l.a,setTimescale:l.b,
scale:l.c,getSegments:function(b,d,f,c){var e=a.i(l.d)(d,f,c);f=e.to;c=d.duration;var k=d.startNumber,h=d.timescale;d=d.media;for(var p=[],e=e.up;e<=f;e+=c){var q=Math.floor(e/c)+(null==k?1:k);p.push(new g.a({id:""+b+"_"+q,number:q,time:q*c,init:!1,duration:c,range:null,indexRange:null,timescale:h,media:d}))}return p},getFirstPosition:function(){},getLastPosition:function(){},shouldRefresh:function(){return!1},checkDiscontinuity:function(){return-1},_addSegmentInfos:function(){return!1}}},function(b,
d,a){var g=a(41),l=a(142);d.a=function k(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!(this instanceof k))throw new TypeError("Cannot call a class as a function");var c=a.i(g.a)();this.id=null==b.id?c:b.id;this.bitrate=b.bitrate;this.codec=b.codecs;null!=b.height&&(this.height=b.height);null!=b.width&&(this.width=b.width);null!=b.mimeType&&(this.mimeType=b.mimeType);this.index=new l.a({index:b.index,rootId:this.id});this.baseURL=b.baseURL;null!=b.codecPrivateData&&(this._codecPrivateData=
b.codecPrivateData);null!=b.channels&&(this._channels=b.channels);null!=b.bitsPerSample&&(this._bitsPerSample=b.bitsPerSample);null!=b.packetSize&&(this._packetSize=b.packetSize);null!=b.samplingRate&&(this._samplingRate=b.samplingRate)}},function(b,d,a){var g=a(137);b=function(){function b(d){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._index=d.index;this._rootId=d.rootId;this._indexHelpers=a.i(g.a)(this._index)}b.prototype.getInitSegment=function(){return this._indexHelpers.getInitSegment(this._rootId,
this._index)};b.prototype.getSegments=function(a,b){return this._indexHelpers.getSegments(this._rootId,this._index,a,b)};b.prototype.shouldRefresh=function(a,b,f){return this._indexHelpers.shouldRefresh(this._index,a,b,f)};b.prototype.getFirstPosition=function(){return this._indexHelpers.getFirstPosition(this._index)};b.prototype.getLastPosition=function(){return this._indexHelpers.getLastPosition(this._index)};b.prototype.checkDiscontinuity=function(a){return this._indexHelpers.checkDiscontinuity(this._index,
a)};b.prototype.scale=function(a){return this._indexHelpers.scale(this._index,a)};b.prototype.setTimescale=function(a){return this._indexHelpers.setTimescale(this._index,a)};b.prototype._addSegments=function(a,b){for(var f=[],c=0;c<a.length;c++)this._indexHelpers._addSegmentInfos(this._index,a[c],b)&&f.push(a[c]);return f};b.prototype.update=function(a){this._index=a._index};b.prototype.getType=function(){return this._index.indexType||""};return b}();d.a=b},function(b,d,a){b={};b.smooth=a(153)["default"];
b.dash=a(145)["default"];b.directfile=a(152)["default"];d.a=b},function(b,d,a){function g(a){return a.replace(f,"\n").replace(k,function(a,c){return String.fromCharCode(c)})}function l(b,f){var d=/<sync[ >]/ig,k=/<sync[ >]|<\/body>/ig,l=[],n=b.match(c)[1],p,v;k.exec(b);p=/\.(\S+)\s*{([^}]*)}/gi;v={};for(var x;x=p.exec(n);){var y=x[1];x=x[2].match(/\s*lang:\s*(\S+);/i)[1];y&&x&&(v[x]=y)}n=v[f];for(a.i(h.a)(n,"sami: could not find lang "+f+" in CSS");;){p=d.exec(b);v=k.exec(b);if(!p&&!v)break;if(!p||
!v||p.index>=v.index)throw Error("parse error");v=b.slice(p.index,v.index);p=v.match(m);if(!p)throw Error("parse error (sync time attribute)");y=+p[1];if(isNaN(y))throw Error("parse error (sync time attribute NaN)");p=l;v=v.split("\n");y/=1E3;x=v.length;for(var z;0<=--x;)if(z=v[x].match(e)){var A=z[2];n===z[1]&&("&nbsp;"===A?p[p.length-1].end=y:p.push({text:g(A),start:y}))}}return l}a.d(d,"a",function(){return l});var h=a(2),k=/&#([0-9]+);/g,f=/<br>/gi,c=/<style[^>]*>([\s\S]*?)<\/style[^>]*>/i,e=
/\s*<p class=([^>]+)>(.*)/i,m=/<sync[^>]+?start="?([0-9]*)"?[^0-9]/i},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});var g=a(0);a.n(g);var l=a(1),h=a(20),k=a(12),f=a(39),c=a(61),e=a(60),m=a(149),n=a(146),p=a(63),q=a(64),r=a(151);d["default"]=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=a.i(r.a)(b.segmentLoader),t=b.contentProtectionParser;t||(t=function(){});b={loader:function(a){return d({segment:a.segment,representation:a.representation,adaptation:a.adaptation,
manifest:a.manifest})},parser:function(c){var b=c.segment,e=c.adaptation,d=c.init;c=new Uint8Array(c.response.responseData);var k=void 0,h=c,m=b.indexRange;(m=a.i(f.a)(c,m?m[0]:0))&&(k=m);b.isInit?(b={time:-1,duration:0},d=a.i(f.b)(c),0<d&&(b.timescale=d),e.contentProtection&&(h=a.i(f.c)(c,e.contentProtection))):b=a.i(n.a)(b,c,m,d);return g.Observable.of({segmentData:h,segmentInfos:b,nextSegments:k})}};return{directFile:!1,manifest:{loader:function(c){c=c.url;return a.i(p.a)({url:c,responseType:"document"})},
parser:function(c){c=c.response;var b=c.responseData;return g.Observable.of({manifest:a.i(m.a)(b,t),url:c.url})}},audio:b,video:b,text:{loader:function(c){var b=c.segment,e=c.representation,f=b.media,d=b.range;c=b.indexRange;var k=b.isInit,m=0<=a.i(q.a)(e)?"arraybuffer":"text";if(k&&!(f||d||c))return g.Observable.empty();b=f?a.i(q.b)(f,b,e):"";b=a.i(h.b)(e.baseURL,b);if(d&&c&&d[1]===c[0]-1)return a.i(p.a)({url:b,responseType:m,headers:{Range:a.i(q.c)([d[0],c[1]])}});d=a.i(p.a)({url:b,responseType:m,
headers:d?{Range:a.i(q.c)(d)}:null});return c?(c=a.i(p.a)({url:b,responseType:m,headers:{Range:a.i(q.c)(c)}}),g.Observable.merge(d,c)):d},parser:function(b){var e=b.response,d=b.segment,h=b.representation,m=b.init,p=b.adaptation.language,r=d.isInit,t=d.indexRange,v,u=b=void 0,w=void 0,F=a.i(q.a)(h);F?(v=new Uint8Array(e.responseData),e=a.i(k.a)(a.i(f.d)(v)),(t=a.i(f.a)(v,t?t[0]:0))&&(b=t),r||(u=a.i(n.a)(d,v,t,m))):v=e=e.responseData;if(r)u={time:-1,duration:0},F&&(d=a.i(f.b)(v),0<d&&(u.timescale=
d)),w={start:0,end:0,timescale:u.timescale||0,data:[]};else switch(d=h.codec,(void 0===d?"":d).toLowerCase()){case "stpp":w={start:u.time,end:u.time+u.duration,timescale:u.timescale,data:a.i(c.a)(e,p,0)};break;default:l.a.warn("The codec used for the subtitle is not managed yet.")}return g.Observable.of({segmentData:w,segmentInfos:u,nextSegments:b})}},image:{loader:function(c){var b=c.segment;c=c.representation;if(b.isInit)return g.Observable.empty();var e=b.media,b=e?a.i(q.b)(e,b,c):"",b=a.i(h.b)(c.baseURL,
b);return a.i(p.a)({url:b,responseType:"arraybuffer"})},parser:function(c){var b=new Uint8Array(c.response.responseData);c={time:0,duration:Number.MAX_VALUE};var f=void 0;b&&(b=a.i(e.a)(b),f=b.thumbs,c.timescale=b.timescale);return g.Observable.of({segmentData:f,segmentInfos:c})}}}}},function(b,d,a){a(2);var g=a(39);d.a=function(b,d,k,f){k||(k=[]);var c=void 0,e=void 0,h=a.i(g.e)(d),l=a.i(g.f)(d);f=f&&0<f.timescale?f.timescale:b.timescale;var p;f===b.timescale?(d=Math.min(.9*f,b.duration/4),p=b.time,
b=b.duration):(d=Math.min(.9*f,b.duration/b.timescale*f/4),p=b.time/b.timescale*f,b=b.duration/b.timescale*f);0<=h&&(null==p||Math.abs(h-p)<=d)&&(c=h);0<=l&&(null==b||Math.abs(l-b)<=d)&&(e=l);null==c&&(1===k.length?(c=k[0].time,0<=c&&(null==p||Math.abs(p-c)<=d)?(h=k[0].timescale,c=null!=h&&h!==f?c/h*f:c):c=p):c=p);null==e&&(1===k.length?(e=k[0].duration,0<=e&&(null==b||Math.abs(b-e)<=d)?(k=k[0].timescale,e=null!=k&&k!==f?e/k*f:e):e=b):e=b);return{timescale:f,time:c||0,duration:e||0}}},function(b,
d,a){b=a(4);var g=a(2),l=a(30),h=a(62),k=[{k:"profiles",fn:h.g},{k:"width",fn:parseInt},{k:"height",fn:parseInt},{k:"frameRate",fn:h.h},{k:"audioSamplingRate",fn:h.g},{k:"mimeType",fn:h.g},{k:"segmentProfiles",fn:h.g},{k:"codecs",fn:h.g},{k:"maximumSAPPeriod",fn:parseFloat},{k:"maxPlayoutRate",fn:parseFloat},{k:"codingDependency",fn:h.i}],f=[{k:"timescale",fn:parseInt,def:1},{k:"timeShiftBufferDepth",fn:h.j},{k:"presentationTimeOffset",fn:parseFloat,def:0},{k:"indexRange",fn:h.f},{k:"indexRangeExact",
fn:h.i,def:!1},{k:"availabilityTimeOffset",fn:parseFloat},{k:"availabilityTimeComplete",fn:h.i,def:!0}],c=f.concat([{k:"duration",fn:parseInt},{k:"startNumber",fn:parseInt}]),e={ContentProtection:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:h.g}],SegmentURL:[{k:"media",fn:h.g},{k:"mediaRange",fn:h.f},{k:"index",fn:h.g},{k:"indexRange",fn:h.f}],S:[{k:"t",fn:parseInt,n:"ts"},{k:"d",fn:parseInt},{k:"r",fn:parseInt}],SegmentTimeline:[],SegmentBase:f,SegmentTemplate:c.concat([{k:"initialization",fn:function(a){return{media:a,
range:void 0}}},{k:"index",fn:h.g},{k:"media",fn:h.g},{k:"bitstreamSwitching",fn:h.g}]),SegmentList:c,ContentComponent:[{k:"id",fn:h.g},{k:"lang",fn:h.g,n:"language"},{k:"lang",fn:l.a,n:"normalizedLanguage"},{k:"contentType",fn:h.g},{k:"par",fn:h.k}],Representation:k.concat([{k:"id",fn:h.g},{k:"bandwidth",fn:parseInt,n:"bitrate"},{k:"qualityRanking",fn:parseInt}]),AdaptationSet:k.concat([{k:"id",fn:h.g},{k:"group",fn:parseInt},{k:"lang",fn:h.g,n:"language"},{k:"lang",fn:l.a,n:"normalizedLanguage"},
{k:"contentType",fn:h.g},{k:"par",fn:h.k},{k:"minBandwidth",fn:parseInt,n:"minBitrate"},{k:"maxBandwidth",fn:parseInt,n:"maxBitrate"},{k:"minWidth",fn:parseInt},{k:"maxWidth",fn:parseInt},{k:"minHeight",fn:parseInt},{k:"maxHeight",fn:parseInt},{k:"minFrameRate",fn:h.h},{k:"maxFrameRate",fn:h.h},{k:"segmentAlignment",fn:h.l},{k:"subsegmentAlignment",fn:h.l},{k:"bitstreamSwitching",fn:h.i}]),Period:[{k:"id",fn:h.g},{k:"start",fn:h.j},{k:"duration",fn:h.j},{k:"bitstreamSwitching",fn:h.i}],MPD:[{k:"id",
fn:h.g},{k:"profiles",fn:h.g},{k:"type",fn:h.g,def:"static"},{k:"availabilityStartTime",fn:h.m},{k:"availabilityEndTime",fn:h.m},{k:"publishTime",fn:h.m},{k:"mediaPresentationDuration",fn:h.j,n:"duration"},{k:"minimumUpdatePeriod",fn:h.j},{k:"minBufferTime",fn:h.j},{k:"timeShiftBufferDepth",fn:h.j},{k:"suggestedPresentationDelay",fn:h.j,def:b.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.DASH},{k:"maxSegmentDuration",fn:h.j},{k:"maxSubsegmentDuration",fn:h.j}],Role:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:h.g}],
Accessibility:[{k:"schemeIdUri",fn:h.g},{k:"value",fn:parseInt}]};d.a=function(c,b){var f=e[c.nodeName];a.i(g.a)(f,"no attributes for "+c.nodeName);for(var d=b||{},k=0;k<f.length;k++){var h=f[k],m=h.k,l=h.fn,n=h.n,h=h.def;c.hasAttribute(m)?d[n||m]=l(c.getAttribute(m)):null!=h&&(d[n||m]=h)}return d}},function(b,d,a){a.d(d,"a",function(){return g});a.d(d,"b",function(){return l});a.d(d,"c",function(){return h});a.d(d,"d",function(){return k});b=function(a){return function(c){return a.reduce(function(a,
b){c.hasOwnProperty(b)&&(a[b]=c[b]);return a},{})}};var g=b("availabilityStartTime baseURL duration id locations periods presentationLiveGap suggestedPresentationDelay timeShiftBufferDepth transportType type".split(" ")),l=b(["adaptations","baseURL","duration","id","start"]),h=b("contentProtection accessibility baseURL contentProtection id language normalizedLanguage representations type".split(" ")),k=b("bitrate baseURL codecs height id index mimeType width".split(" "))},function(b,d,a){function g(a,
b){return"string"==typeof a?g.parseFromString(a,b):g.parseFromDocument(a,b)}var l=a(2),h=a(150);g.parseFromString=function(a,b){return g.parseFromDocument((new DOMParser).parseFromString(a,"application/xml"),b)};g.parseFromDocument=function(b,f){var c=b.documentElement;l.a.equal(c.nodeName,"MPD","document root should be MPD");return a.i(h.a)(c,f)};d.a=g},function(b,d,a){function g(c,b){var e=a.i(q.a)(c,function(a,c,e){switch(c){case "BaseURL":a.baseURL=e.textContent;break;case "Location":a.locations.push(e.textContent);
break;case "Period":a.periods.push(l(e,b))}return a},{transportType:"dash",periods:[],locations:[]}),e=a.i(u.a)(c,e);if(/dynamic/.test(e.type)){var f=e.periods[0].adaptations.filter(function(a){return"video"==a.type})[0],f=a.i(q.b)(f);f||(p.a.warn("Live edge not deduced from manifest, setting a default one"),f=Date.now()/1E3-60);e.availabilityStartTime=e.availabilityStartTime.getTime()/1E3;e.presentationLiveGap=Date.now()/1E3-(f+e.availabilityStartTime)}return a.i(r.a)(e)}function l(c,b){var e=a.i(u.a)(c,
a.i(q.a)(c,function(a,c,e){switch(c){case "BaseURL":a.baseURL=e.textContent;break;case "AdaptationSet":c=h(e,b),null==c.id&&(c.id=a.adaptations.length),a.adaptations.push(c)}return a},{adaptations:[]}));return a.i(r.b)(e)}function h(b,d){var h=void 0,g=a.i(q.a)(b,function(b,g,m){switch(g){case "Accessibility":h=a.i(u.a)(m);break;case "BaseURL":b.baseURL=m.textContent;break;case "ContentComponent":g=a.i(u.a)(m);b.contentComponent=g;break;case "ContentProtection":g=d(a.i(u.a)(m),m);b.contentProtection=
g;break;case "Representation":g=k(m);null==g.id&&(g.id=b.representations.length);b.representations.push(g);break;case "Role":g=a.i(u.a)(m);b.role=g;break;case "SegmentBase":b.index=e(m);break;case "SegmentList":b.index=c(m);break;case "SegmentTemplate":b.index=f(m)}return b},{representations:[]}),m=a.i(u.a)(b,g);m.type=a.i(q.c)(m);m.accessibility=[];a.i(q.d)(h)&&m.accessibility.push("hardOfHearing");a.i(q.e)(h)&&m.accessibility.push("visuallyImpaired");m.representations=m.representations.map(function(a){w.forEach(function(c){!a.hasOwnProperty(c)&&
m.hasOwnProperty(c)&&(a[c]=m[c])});return a});return a.i(r.c)(m)}function k(b){var d=a.i(q.a)(b,function(a,b,d){switch(b){case "BaseURL":a.baseURL=d.textContent;break;case "SegmentBase":a.index=e(d);break;case "SegmentList":a.index=c(d);break;case "SegmentTemplate":a.index=f(d)}return a},{});b=a.i(u.a)(b,d);return a.i(r.d)(b)}function f(a){a=m(a);a.indexType||(a.indexType="template");return a}function c(c){var b=m(c);b.list=[];b.indexType="list";return a.i(q.a)(c,function(c,b,e){"SegmentURL"==b&&
c.list.push(a.i(u.a)(e));return c},b)}function e(c){var b=a.i(q.a)(c,function(c,b,e){if("Initialization"==b){var f=b=void 0;e.hasAttribute("range")&&(b=a.i(q.f)(e.getAttribute("range")));e.hasAttribute("sourceURL")&&(f=e.getAttribute("sourceURL"));c.initialization={range:b,media:f}}return c},a.i(u.a)(c));"SegmentBase"==c.nodeName&&(b.indexType="base",b.timeline=[]);return b}function m(c){return a.i(q.a)(c,function(a,c,b){"SegmentTimeline"==c&&(a.indexType="timeline",a.timeline=n(b));return a},e(c))}
function n(c){return a.i(q.a)(c,function(c,b,e){b=c.length;e=a.i(u.a)(e);null==e.ts&&(b=0<b&&c[b-1],e.ts=b?b.ts+b.d*(b.r+1):0);null==e.r&&(e.r=0);c.push(e);return c},[])}a.d(d,"a",function(){return g});var p=a(1);a(2);var q=a(62),r=a(148),u=a(147),w=["codecs","height","index","mimeType","width"]},function(b,d,a){function g(c){var b=c.url;c=c.segment;var d=c.range;c=c.indexRange;if(d&&c&&d[1]===c[0]-1)return a.i(k.a)({url:b,responseType:"arraybuffer",headers:{Range:a.i(f.c)([d[0],c[1]])}});d=d?{Range:a.i(f.c)(d)}:
null;d=a.i(k.a)({url:b,responseType:"arraybuffer",headers:d});return c?(b=a.i(k.a)({url:b,responseType:"arraybuffer",headers:{Range:a.i(f.c)(c)}}),l.Observable.merge(d,b)):d}var l=a(0);a.n(l);var h=a(20),k=a(63),f=a(64);d.a=function(c){return function(b){var e=b.segment,d=b.adaptation,k=b.representation;b=b.manifest;var q=e.media,r=e.range,u=e.indexRange;if(e.isInit&&!(q||r||u))return l.Observable.empty();var q=q?a.i(f.b)(q,e,k):"",q=a.i(h.b)(k.baseURL,q),w={adaptation:d,representation:k,manifest:b,
segment:e,transport:"dash",url:q};return c?l.Observable.create(function(a){var b=!1,e=!1,f=c(w,{reject:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e||(b=!0,a.error(c))},resolve:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e||(b=!0,a.next({responseData:c.data,size:c.size||0,duration:c.duration||0}),a.complete())},fallback:function(){e=!0;g(w).subscribe(a)}});return function(){b||e||"function"!==typeof f||f()}}):g(w)}}},function(b,d,a){Object.defineProperty(d,
"__esModule",{value:!0});var g=a(0);a.n(g);d["default"]={directFile:!0,manifest:{parser:function(a){a=a.url;return g.Observable.of({manifest:{transportType:"directfile",locations:[a],periods:[],isLive:!1,duration:Infinity,adaptations:null},url:a})}}}},function(b,d,a){Object.defineProperty(d,"__esModule",{value:!0});var g=a(0);a.n(g);var l=a(12),h=a(20),k=a(42),f=a(155),c=a(60);b=a(144);var e=a(61),m=a(40),n=a(65),p=a(66),q=a(154),r=a(156),u=m.a.patchSegment,w=m.a.getMdat,t={"application/x-sami":b.a,
"application/smil":b.a,"application/ttml+xml":e.a,"application/ttml+xml+mp4":e.a,"text/vtt":function(a){return a}},v=/\.wsx?(\?token=\S+)?/;d["default"]=function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=a.i(f.a)(b),d=a.i(r.a)(b.segmentLoader),b={loader:function(a){return d({segment:a.segment,representation:a.representation,adaptation:a.adaptation,manifest:a.manifest})},parser:function(c){var b=c.segment,e=c.manifest;c=c.response.responseData;if(b.isInit)return g.Observable.of({segmentData:c,
segmentInfos:{timescale:b.timescale,time:-1,duration:0}});c=new Uint8Array(c);e=a.i(q.a)(c,b,e.isLive);b=e.nextSegments;e=e.segmentInfos;c=u(c,e.time);return g.Observable.of({segmentData:c,segmentInfos:e,nextSegments:b})}};return{directFile:!1,manifest:{resolver:function(c){c=c.url;var b=void 0,e=a.i(p.a)(c),b=v.test(c)?a.i(k.a)({url:a.i(p.b)(c,""),responseType:"document",ignoreProgressEvents:!0}).map(function(a){return a.value}).map(p.c):g.Observable.of(c);return b.map(function(c){return{url:a.i(p.b)(a.i(p.d)(c),
e)}})},loader:function(c){c=c.url;return a.i(n.a)({url:c,responseType:"document"})},parser:function(a){a=a.response;var c=e(a.responseData);return g.Observable.of({manifest:c,url:a.url})}},audio:b,video:b,text:{loader:function(c){var b=c.segment,e=c.representation;if(b.isInit)return g.Observable.empty();c=e.mimeType;var f=a.i(h.b)(e.baseURL),b=a.i(p.e)(f,e,b);return 0<=c.indexOf("mp4")?a.i(n.a)({url:b,responseType:"arraybuffer"}):a.i(n.a)({url:b,responseType:"text"})},parser:function(c){var b=c.response,
e=c.segment,f=c.manifest,d=c.adaptation.language,k=c.representation.mimeType;c=t[k];if(!c)throw Error("could not find a text-track parser for the type "+k);var h=b.responseData,m=b=void 0,n={};0<=k.indexOf("mp4")?(h=new Uint8Array(h),k=a.i(l.a)(w(h)),f=a.i(q.a)(h,e,f.isLive),b=f.nextSegments,m=f.segmentInfos,n.start=m.start,n.end=null!=m.duration?m.start+m.duration:void 0,n.timescale=m.timescale):(k=h,n.start=e.time,n.end=null!=e.duration?e.time+e.duration:void 0,n.timescale=e.timescale);n.data=c(k,
d,e.time/e.timescale);return g.Observable.of({segmentData:n,segmentInfos:m,nextSegments:b})}},image:{loader:function(c){var b=c.segment;c=c.representation;if(b.isInit)return g.Observable.empty();var e=a.i(h.b)(c.baseURL),b=a.i(p.e)(e,c,b);return a.i(n.a)({url:b,responseType:"arraybuffer"})},parser:function(b){var e=new Uint8Array(b.response.responseData);b={time:0,duration:Number.MAX_VALUE};var f=void 0;e&&(e=a.i(c.a)(e),f=e.thumbs,b.timescale=e.timescale);return g.Observable.of({segmentData:f,segmentInfos:b})}}}}},
function(b,d,a){var g=a(1),l=a(39);b=a(40);var h=b.a.getTraf,k=b.a.parseTfrf,f=b.a.parseTfxd;d.a=function(c,b,d){var e=void 0,m=void 0;d?(d=h(c))?(e=k(d),m=f(d)):g.a.warn("smooth: could not find traf atom"):e=null;m||(m=Math.min(.9*b.timescale,b.duration/4),c=a.i(l.f)(c),m=0<=c&&Math.abs(c-b.duration)<=m?{time:b.time,duration:c}:{time:b.time,duration:b.duration});if(e)for(c=e.length-1;0<=c;c--)e[c].timescale=b.timescale;m&&(m.timescale=b.timescale);return{nextSegments:e,segmentInfos:m}}},function(b,
d,a){function g(a){return"boolean"==typeof a?a:"string"==typeof a?"TRUE"===a.toUpperCase():!1}function l(a){if(!a)return Infinity;a=a.index;var c=a.timeline[a.timeline.length-1];return(c.ts+(c.r+1)*c.d)/a.timescale}function h(b){return[{systemId:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",privateData:a.i(c.i)([8,1,18,16],b)}]}var k=a(19),f=a(4),c=a(12),e=a(2),m=a(30),n={audio:"audio/mp4",video:"video/mp4",text:"application/ttml+xml"},p={audio:"mp4a.40.2",video:"avc1.4D401E"};b={AACL:"audio/mp4",AVC1:"video/mp4",
H264:"video/mp4",TTML:"application/ttml+xml+mp4"};var q={audio:[["Bitrate","bitrate",parseInt],["AudioTag","audiotag",parseInt],["FourCC","mimeType",b],["Channels","channels",parseInt],["SamplingRate","samplingRate",parseInt],["BitsPerSample","bitsPerSample",parseInt],["PacketSize","packetSize",parseInt],["CodecPrivateData","codecPrivateData",String]],video:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b],["CodecPrivateData","codecs",function(a){return(a=(/00000001\d7([0-9a-fA-F]{6})/.exec(a)||
[])[1])?"avc1."+a:""}],["MaxWidth","width",parseInt],["MaxHeight","height",parseInt],["CodecPrivateData","codecPrivateData",String]],text:[["Bitrate","bitrate",parseInt],["FourCC","mimeType",b]]};d.a=function(){function b(a,c,b){for(a=a.firstElementChild;a;)b=c(b,a.nodeName,a),a=a.nextElementSibling;return b}function d(c,f){c.hasAttribute("Timescale")&&(f=+c.getAttribute("Timescale"));var d=c.getAttribute("Type"),k=c.getAttribute("Subtype"),h=c.getAttribute("Name"),g=c.getAttribute("Language"),l=
a.i(m.a)(g),r=c.getAttribute("Url"),t=q[d],u=[];a.i(e.a)(t,"unrecognized QualityLevel type "+d);var w=0,v=b(c,function(a,c,b){switch(c){case "QualityLevel":c={};for(var e=0;e<t.length;e++){var f=t[e],k=f[0],h=f[2];c[f[1]]="function"==typeof h?h(b.getAttribute(k)):h[b.getAttribute(k)]}"audio"==d&&(b=b.getAttribute("FourCC")||"",e=c.codecPrivateData,b="AACH"==b?5:e?(parseInt(e.substr(0,2),16)&248)>>3:2,c.codecs=b?"mp4a.40."+b:"");if("video"!=d||c.bitrate>A)c.id=w++,a.representations.push(c);break;case "c":c=
a.index;var e=a.index.timeline,f=e.length,k=0<f?e[f-1]:{d:0,ts:0,r:0},h=+b.getAttribute("d"),g=b.getAttribute("t");(b=+b.getAttribute("r"))&&b--;0<f&&!k.d&&(k.d=g-k.ts,e[f-1]=k);0<f&&h==k.d&&null==g?k.r+=(b||0)+1:e.push({d:h,ts:null==g?k.ts+k.d*(k.r+1):+g,r:b});c.timeline=e}return a},{representations:[],index:{timeline:[],indexType:"smooth",timescale:f,initialization:{}}}),x=v.representations,v=v.index;a.i(e.a)(x.length,"adaptation should have at least one representation");x.forEach(function(a){return a.codecs=
a.codecs||p[d]});x.forEach(function(a){return a.mimeType=a.mimeType||n[d]});if("ADVT"==k)return null;"text"===d&&"DESC"===k&&u.push("hardOfHearing");return{type:d,accessibility:u,index:v,representations:x,name:h,language:g,normalizedLanguage:l,baseURL:r}}function w(a){return t((new DOMParser).parseFromString(a,"application/xml"))}function t(f){f=f.documentElement;e.a.equal(f.nodeName,"SmoothStreamingMedia","document root should be SmoothStreamingMedia");a.i(e.a)(/^[2]-[0-2]$/.test(f.getAttribute("MajorVersion")+
"-"+f.getAttribute("MinorVersion")),"Version should be 2.0, 2.1 or 2.2");var h=+f.getAttribute("Timescale")||1E7,m=[],n=b(f,function(b,f,g){switch(f){case "Protection":g=g.firstElementChild;e.a.equal(g.nodeName,"ProtectionHeader","Protection should have ProtectionHeader child");f=a.i(c.b)(atob(g.textContent));var l;l=a.i(c.d)(f,8);l=a.i(c.l)(f.subarray(10,10+l));l=(new DOMParser).parseFromString(l,"application/xml").querySelector("KID").textContent;l=a.i(c.m)(atob(l)).toLowerCase();var n=a.i(c.k)(l);
g=g.getAttribute("SystemID").toLowerCase().replace(/\{|\}/g,"");f={keyId:l,keySystems:[{systemId:g,privateData:f}].concat(D(n))};b.protection=f;break;case "StreamIndex":if(f=d(g,h)){g=0;do l=f.type+"_"+(f.language?f.language+"_":"")+g++;while(a.i(k.a)(m,l));f.id=l;m.push(l);b.adaptations.push(f)}}return b},{protection:null,adaptations:[]}),p=n.protection,n=n.adaptations;n.forEach(function(a){return a.smoothProtection=p});var q=void 0,r=void 0,t=void 0,u=void 0,w=g(f.getAttribute("IsLive"));if(w)var q=
y,t=+f.getAttribute("DVRWindowLength")/h,u=z,r=n.filter(function(a){return"video"==a.type})[0],v=n.filter(function(a){return"audio"==a.type})[0],r=Math.min(l(r),l(v)),r=Date.now()/1E3-(r+u);return{transportType:"smooth",profiles:"",type:w?"dynamic":"static",suggestedPresentationDelay:q,timeShiftBufferDepth:t,presentationLiveGap:r,availabilityStartTime:u,periods:[{duration:(+f.getAttribute("Duration")||Infinity)/h,adaptations:n,laFragCount:+f.getAttribute("LookAheadFragmentCount")}]}}function v(a){return"string"==
typeof a?w(a):t(a)}var x=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},y=null==x.suggestedPresentationDelay?f.a.DEFAULT_SUGGESTED_PRESENTATION_DELAY.SMOOTH:x.suggestedPresentationDelay,z=x.referenceDateTime||Date.UTC(1970,0,1,0,0,0,0)/1E3,A=x.minRepresentationBitrate||19E4,D=x.keySystems||h;v.parseFromString=w;v.parseFromDocument=t;return v}},function(b,d,a){function g(c){var b=c.url,e=void 0;(c=c.segment.range)&&(e={Range:a.i(f.f)(c)});return a.i(k.a)({url:b,responseType:"arraybuffer",
headers:e})}var l=a(0);a.n(l);var h=a(20);b=a(40);var k=a(65),f=a(66),c=b.a.createVideoInitSegment,e=b.a.createAudioInitSegment;d.a=function n(b){return function(d){var k=d.segment,p=d.representation,q=d.adaptation;d=d.manifest;if(k.isInit){d={};var t=q._smoothProtection||{};switch(q.type){case "video":d=c(k.timescale,p.width,p.height,72,72,4,p._codecPrivateData,t.keyId,t.keySystems);break;case "audio":d=e(k.timescale,p._channels,p._bitsPerSample,p._packetSize,p._samplingRate,p._codecPrivateData,
t.keyId,t.keySystems)}return l.Observable.of({type:"data",value:{responseData:d}})}var t=a.i(f.e)(a.i(h.b)(p.baseURL),p,k),v={adaptation:q,representation:p,segment:k,transport:"smooth",url:t,manifest:d};return b?l.Observable.create(function(a){var c=!1,e=!1,f=b(v,{reject:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e||(c=!0,a.error(b))},resolve:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e||(c=!0,a.next({type:"response",value:{responseData:b.data,
size:b.size||0,duration:b.duration||0}}),a.complete())},fallback:function(){e=!0;n(v).subscribe(a)}});return function(){c||e||"function"!==typeof f||f()}}):g(v)}}},function(b,d,a){a.d(d,"a",function(){return g});var g=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.hash={}}a.prototype.add=function(a){this.hash[a]=!0};a.prototype.remove=function(a){delete this.hash[a]};a.prototype.test=function(a){return!0===this.hash[a]};return a}()},function(b,
d,a){b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.cache={}}a.prototype.add=function(a,b){var d=a.segment;d.isInit&&(this.cache[d.id]=b)};a.prototype.get=function(a){a=a.segment;return a.isInit&&(a=this.cache[a.id],null!=a)?a:null};return a}();d.a=b},function(b,d,a){d.a={aa:"aar",ab:"abk",ae:"ave",af:"afr",ak:"aka",am:"amh",an:"arg",ar:"ara",as:"asm",av:"ava",ay:"aym",az:"aze",ba:"bak",be:"bel",bg:"bul",bi:"bis",bm:"bam",bn:"ben",bo:"bod",
br:"bre",bs:"bos",ca:"cat",ce:"che",ch:"cha",co:"cos",cr:"cre",cs:"ces",cu:"chu",cv:"chv",cy:"cym",da:"dan",de:"deu",dv:"div",dz:"dzo",ee:"ewe",el:"ell",en:"eng",eo:"epo",es:"spa",et:"est",eu:"eus",fa:"fas",ff:"ful",fi:"fin",fj:"fij",fo:"fao",fr:"fra",fy:"fry",ga:"gle",gd:"gla",gl:"glg",gn:"grn",gu:"guj",gv:"glv",ha:"hau",he:"heb",hi:"hin",ho:"hmo",hr:"hrv",ht:"hat",hu:"hun",hy:"hye",hz:"her",ia:"ina",id:"ind",ie:"ile",ig:"ibo",ii:"iii",ik:"ipk",io:"ido",is:"isl",it:"ita",iu:"iku",ja:"jpn",jv:"jav",
ka:"kat",kg:"kon",ki:"kik",kj:"kua",kk:"kaz",kl:"kal",km:"khm",kn:"kan",ko:"kor",kr:"kau",ks:"kas",ku:"kur",kv:"kom",kw:"cor",ky:"kir",la:"lat",lb:"ltz",lg:"lug",li:"lim",ln:"lin",lo:"lao",lt:"lit",lu:"lub",lv:"lav",mg:"mlg",mh:"mah",mi:"mri",mk:"mkd",ml:"mal",mn:"mon",mr:"mar",ms:"msa",mt:"mlt",my:"mya",na:"nau",nb:"nob",nd:"nde",ne:"nep",ng:"ndo",nl:"nld",nn:"nno",no:"nor",nr:"nbl",nv:"nav",ny:"nya",oc:"oci",oj:"oji",om:"orm",or:"ori",os:"oss",pa:"pan",pi:"pli",pl:"pol",ps:"pus",pt:"por",qu:"que",
rm:"roh",rn:"run",ro:"ron",ru:"rus",rw:"kin",sa:"san",sc:"srd",sd:"snd",se:"sme",sg:"sag",si:"sin",sk:"slk",sl:"slv",sm:"smo",sn:"sna",so:"som",sq:"sqi",sr:"srp",ss:"ssw",st:"sot",su:"sun",sv:"swe",sw:"swa",ta:"tam",te:"tel",tg:"tgk",th:"tha",ti:"tir",tk:"tuk",tl:"tgl",tn:"tsn",to:"ton",tr:"tur",ts:"tso",tt:"tat",tw:"twi",ty:"tah",ug:"uig",uk:"ukr",ur:"urd",uz:"uzb",ve:"ven",vi:"vie",vo:"vol",wa:"wln",wo:"wol",xh:"xho",yi:"yid",yo:"yor",za:"zha",zh:"zho",zu:"zul"}},function(b,d,a){d.a={alb:"sqi",
arm:"hye",baq:"eus",bur:"mya",chi:"zho",cze:"ces",dut:"nld",fre:"fra",geo:"kat",ger:"deu",gre:"ell",ice:"isl",mac:"mkd",mao:"mri",may:"msa",per:"fas",slo:"slk",rum:"ron",tib:"bod",wel:"cym"}},function(b,d,a){d.a=function(a){var b=a.reduce(function(a,b){a[b]=b;return a},{});b.keys=a;return b}},function(b,d,a){d.a=function(b){var d=!1;return function(){if(d)return g.Observable.empty();d=!0;return a.i(l.a)(b.apply(void 0,arguments))["do"](null,function(){return d=!1},function(){return d=!1})}};var g=
a(0);a.n(g);var l=a(9)},function(b,d,a){d.a=function(){for(var a=0,b=arguments.length;a<b;){if(void 0!==(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(b,d,a){d.a=function(){for(var a=0,b=arguments.length;a<b;){if(null!=(arguments.length<=a?void 0:arguments[a]))return arguments.length<=a?void 0:arguments[a];a++}}},function(b,d,a){function g(a){return!a||"object"!==typeof a||"number"!==typeof a.length||"function"!==typeof a.copy||"function"!==
typeof a.slice||0<a.length&&"number"!==typeof a[0]?!1:!0}function l(a,b,d){var e,m;if(null===a||void 0===a||null===b||void 0===b||a.prototype!==b.prototype)return!1;if(f(a)){if(!f(b))return!1;a=h.call(a);b=h.call(b);return c(a,b,d)}if(g(a)){if(!g(b)||a.length!==b.length)return!1;for(e=0;e<a.length;e++)if(a[e]!==b[e])return!1;return!0}try{var l=k(a);m=k(b)}catch(u){return!1}if(l.length!=m.length)return!1;l.sort();m.sort();for(e=l.length-1;0<=e;e--)if(l[e]!=m[e])return!1;for(e=l.length-1;0<=e;e--)if(m=
l[e],!c(a[m],b[m],d))return!1;return typeof a===typeof b}var h=Array.prototype.slice,k=a(167),f=a(166),c=b.exports=function(a,c,b){b||(b={});return a===c?!0:a instanceof Date&&c instanceof Date?a.getTime()===c.getTime():!a||!c||"object"!=typeof a&&"object"!=typeof c?b.strict?a===c:a==c:l(a,c,b)}},function(b,d){function a(a){return"[object Arguments]"==Object.prototype.toString.call(a)}function g(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Object.prototype.hasOwnProperty.call(a,"callee")&&
!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}var l="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();d=b.exports=l?a:g;d.supported=a;d.unsupported=g},function(b,d){function a(a){var b=[],d;for(d in a)b.push(d);return b}d=b.exports="function"===typeof Object.keys?Object.keys:a;d.shim=a},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):
(d.prototype=b.prototype,new d)};b=function(a){function b(b,f,c){a.call(this);this.parent=b;this.outerValue=f;this.outerIndex=c;this.index=0}g(b,a);b.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,this.index++,this)};b.prototype._error=function(a){this.parent.notifyError(a,this);this.unsubscribe()};b.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return b}(a(3).Subscriber);d.InnerSubscriber=b},function(b,d,a){var g=a(0);b=
function(){function a(a,b,f){this.kind=a;this.value=b;this.error=f;this.hasValue="N"===a}a.prototype.observe=function(a){switch(this.kind){case "N":return a.next&&a.next(this.value);case "E":return a.error&&a.error(this.error);case "C":return a.complete&&a.complete()}};a.prototype["do"]=function(a,b,f){switch(this.kind){case "N":return a&&a(this.value);case "E":return b&&b(this.error);case "C":return f&&f()}};a.prototype.accept=function(a,b,f){return a&&"function"===typeof a.next?this.observe(a):
this["do"](a,b,f)};a.prototype.toObservable=function(){switch(this.kind){case "N":return g.Observable.of(this.value);case "E":return g.Observable["throw"](this.error);case "C":return g.Observable.empty()}throw Error("unexpected notification kind value");};a.createNext=function(b){return"undefined"!==typeof b?new a("N",b):a.undefinedValueNotification};a.createError=function(b){return new a("E",void 0,b)};a.createComplete=function(){return a.completeNotification};a.completeNotification=new a("C");a.undefinedValueNotification=
new a("N",void 0);return a}();d.Notification=b},function(b,d,a){b=function(){function a(b,d){void 0===d&&(d=a.now);this.SchedulerAction=b;this.now=d}a.prototype.schedule=function(a,b,d){void 0===b&&(b=0);return(new this.SchedulerAction(this,a)).schedule(d,b)};a.now=Date.now?Date.now:function(){return+new Date};return a}();d.Scheduler=b},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):
(d.prototype=b.prototype,new d)};b=function(a){function b(b,f){a.call(this);this.subject=b;this.subscriber=f;this.closed=!1}g(b,a);b.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var a=this.subject,b=a.observers;this.subject=null;!b||0===b.length||a.isStopped||a.closed||(a=b.indexOf(this.subscriber),-1!==a&&b.splice(a,1))}};return b}(a(14).Subscription);d.SubjectSubscription=b},function(b,d,a){b=a(0);a=a(219);b.Observable.combineLatest=a.combineLatest},function(b,d,a){b=a(0);a=
a(220);b.Observable.defer=a.defer},function(b,d,a){b=a(0);a=a(221);b.Observable.empty=a.empty},function(b,d,a){b=a(0);a=a(222);b.Observable.from=a.from},function(b,d,a){b=a(0);a=a(223);b.Observable.fromEvent=a.fromEvent},function(b,d,a){b=a(0);a=a(224);b.Observable.fromPromise=a.fromPromise},function(b,d,a){b=a(0);a=a(225);b.Observable.interval=a.interval},function(b,d,a){b=a(0);a=a(226);b.Observable.merge=a.merge},function(b,d,a){b=a(0);a=a(227);b.Observable.never=a.never},function(b,d,a){b=a(0);
a=a(228);b.Observable.of=a.of},function(b,d,a){b=a(0);a=a(229);b.Observable["throw"]=a._throw},function(b,d,a){b=a(0);a=a(230);b.Observable.timer=a.timer},function(b,d,a){b=a(0);a=a(231);b.Observable.prototype["catch"]=a._catch;b.Observable.prototype._catch=a._catch},function(b,d,a){b=a(0);a=a(71);b.Observable.prototype.concat=a.concat},function(b,d,a){b=a(0);a=a(233);b.Observable.prototype.concatAll=a.concatAll},function(b,d,a){b=a(0);a=a(234);b.Observable.prototype.concatMap=a.concatMap},function(b,
d,a){b=a(0);a=a(235);b.Observable.prototype.debounceTime=a.debounceTime},function(b,d,a){b=a(0);a=a(236);b.Observable.prototype.distinctUntilChanged=a.distinctUntilChanged},function(b,d,a){b=a(0);a=a(237);b.Observable.prototype["do"]=a._do;b.Observable.prototype._do=a._do},function(b,d,a){b=a(0);a=a(238);b.Observable.prototype.filter=a.filter},function(b,d,a){b=a(0);a=a(239);b.Observable.prototype["finally"]=a._finally;b.Observable.prototype._finally=a._finally},function(b,d,a){b=a(0);a=a(240);b.Observable.prototype.ignoreElements=
a.ignoreElements},function(b,d,a){b=a(0);a=a(241);b.Observable.prototype.map=a.map},function(b,d,a){b=a(0);a=a(242);b.Observable.prototype.mapTo=a.mapTo},function(b,d,a){b=a(0);a=a(72);b.Observable.prototype.merge=a.merge},function(b,d,a){b=a(0);a=a(73);b.Observable.prototype.mergeMap=a.mergeMap;b.Observable.prototype.flatMap=a.mergeMap},function(b,d,a){b=a(0);a=a(46);b.Observable.prototype.multicast=a.multicast},function(b,d,a){b=a(0);a=a(244);b.Observable.prototype.pairwise=a.pairwise},function(b,
d,a){b=a(0);a=a(245);b.Observable.prototype.publish=a.publish},function(b,d,a){b=a(0);a=a(246);b.Observable.prototype.scan=a.scan},function(b,d,a){b=a(0);a=a(247);b.Observable.prototype.share=a.share},function(b,d,a){b=a(0);a=a(248);b.Observable.prototype.skip=a.skip},function(b,d,a){b=a(0);a=a(249);b.Observable.prototype.startWith=a.startWith},function(b,d,a){b=a(0);a=a(250);b.Observable.prototype.switchMap=a.switchMap},function(b,d,a){b=a(0);a=a(251);b.Observable.prototype.take=a.take},function(b,
d,a){b=a(0);a=a(252);b.Observable.prototype.takeUntil=a.takeUntil},function(b,d,a){b=a(0);a=a(253);b.Observable.prototype.timeout=a.timeout},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(0);var l=a(44),h=a(25);a=function(a){function b(c,b){a.call(this);this.arrayLike=c;this.scheduler=b;b||1!==c.length||(this._isScalar=!0,this.value=
c[0])}g(b,a);b.create=function(a,e){var c=a.length;return 0===c?new h.EmptyObservable:1===c?new l.ScalarObservable(a[0],e):new b(a,e)};b.dispatch=function(a){var b=a.arrayLike,c=a.index,f=a.subscriber;f.closed||(c>=a.length?f.complete():(f.next(b[c]),a.index=c+1,this.schedule(a)))};b.prototype._subscribe=function(a){var c=this.arrayLike,f=this.scheduler,d=c.length;if(f)return f.schedule(b.dispatch,0,{arrayLike:c,index:0,length:d,subscriber:a});for(f=0;f<d&&!a.closed;f++)a.next(c[f]);a.complete()};
return b}(b.Observable);d.ArrayLikeObservable=a},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(5);var l=a(0),h=a(3),k=a(14);a=function(a){function b(b,c){a.call(this);this.source=b;this.subjectFactory=c;this._refCount=0;this._isComplete=!1}g(b,a);b.prototype._subscribe=function(a){return this.getSubject().subscribe(a)};b.prototype.getSubject=
function(){var a=this._subject;if(!a||a.isStopped)this._subject=this.subjectFactory();return this._subject};b.prototype.connect=function(){var a=this._connection;a||(this._isComplete=!1,a=this._connection=new k.Subscription,a.add(this.source.subscribe(new f(this.getSubject(),this))),a.closed?(this._connection=null,a=k.Subscription.EMPTY):this._connection=a);return a};b.prototype.refCount=function(){return this.lift(new c(this))};return b}(l.Observable);d.ConnectableObservable=a;a=a.prototype;d.connectableObservableDescriptor=
{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:a._subscribe},_isComplete:{value:a._isComplete,writable:!0},getSubject:{value:a.getSubject},connect:{value:a.connect},refCount:{value:a.refCount}};var f=function(a){function b(b,c){a.call(this,b);this.connectable=c}g(b,a);b.prototype._error=function(b){this._unsubscribe();a.prototype._error.call(this,b)};b.prototype._complete=function(){this.connectable._isComplete=
!0;this._unsubscribe();a.prototype._complete.call(this)};b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._connection;a._refCount=0;a._subject=null;a._connection=null;b&&b.unsubscribe()}};return b}(b.SubjectSubscriber),c=function(){function a(a){this.connectable=a}a.prototype.call=function(a,b){var c=this.connectable;c._refCount++;var f=new e(a,c),d=b.subscribe(f);f.closed||(f.connection=c.connect());return d};return a}(),e=function(a){function b(b,c){a.call(this,
b);this.connectable=c}g(b,a);b.prototype._unsubscribe=function(){var a=this.connectable;if(a){this.connectable=null;var b=a._refCount;0>=b?this.connection=null:(a._refCount=b-1,1<b?this.connection=null:(b=this.connection,a=a._connection,this.connection=null,!a||b&&a!==b||a.unsubscribe()))}else this.connection=null};return b}(h.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?
Object.create(b):(c.prototype=b.prototype,new c)};b=a(0);var l=a(16);a=a(13);b=function(a){function b(b){a.call(this);this.observableFactory=b}g(b,a);b.create=function(a){return new b(a)};b.prototype._subscribe=function(a){return new h(a,this.observableFactory)};return b}(b.Observable);d.DeferObservable=b;var h=function(a){function b(b,e){a.call(this,b);this.factory=e;this.tryDefer()}g(b,a);b.prototype.tryDefer=function(){try{this._callFactory()}catch(c){this._error(c)}};b.prototype._callFactory=
function(){var a=this.factory();a&&this.add(l.subscribeToResult(this,a))};return b}(a.OuterSubscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=function(a){function b(b,f){a.call(this);this.error=b;this.scheduler=f}g(b,a);b.create=function(a,f){return new b(a,f)};b.dispatch=function(a){a.subscriber.error(a.error)};b.prototype._subscribe=
function(a){var f=this.error,c=this.scheduler;a.syncErrorThrowable=!0;if(c)return c.schedule(b.dispatch,0,{error:f,subscriber:a});a.error(f)};return b}(a(0).Observable);d.ErrorObservable=b},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(0);var l=a(51),h=a(50),k=a(34),f=a(14),c=Object.prototype.toString;a=function(a){function b(b,c,e,
f){a.call(this);this.sourceObj=b;this.eventName=c;this.selector=e;this.options=f}g(b,a);b.create=function(a,c,e,f){h.isFunction(e)&&(f=e,e=void 0);return new b(a,c,f,e)};b.setupSubscription=function(a,e,d,k,h){var g;if(a&&"[object NodeList]"===c.call(a)||a&&"[object HTMLCollection]"===c.call(a))for(var m=0,l=a.length;m<l;m++)b.setupSubscription(a[m],e,d,k,h);else if(a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener)a.addEventListener(e,d,h),g=function(){return a.removeEventListener(e,
d)};else if(a&&"function"===typeof a.on&&"function"===typeof a.off)a.on(e,d),g=function(){return a.off(e,d)};else if(a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener)a.addListener(e,d),g=function(){return a.removeListener(e,d)};else throw new TypeError("Invalid event target");k.add(new f.Subscription(g))};b.prototype._subscribe=function(a){var c=this.selector;b.setupSubscription(this.sourceObj,this.eventName,c?function(){for(var b=[],e=0;e<arguments.length;e++)b[e-0]=arguments[e];
b=l.tryCatch(c).apply(void 0,b);b===k.errorObject?a.error(k.errorObject.e):a.next(b)}:function(b){return a.next(b)},a,this.options)};return b}(b.Observable);d.FromEventObservable=a},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(26),h=a(76),k=a(80),f=a(70),c=a(216),e=a(15),m=a(209),n=a(47),p=a(0),q=a(243),r=a(48);b=function(a){function b(b,
c){a.call(this,null);this.ish=b;this.scheduler=c}g(b,a);b.create=function(a,d){if(null!=a){if("function"===typeof a[r.observable])return a instanceof p.Observable&&!d?a:new b(a,d);if(l.isArray(a))return new e.ArrayObservable(a,d);if(k.isPromise(a))return new f.PromiseObservable(a,d);if("function"===typeof a[n.iterator]||"string"===typeof a)return new c.IteratorObservable(a,d);if(h.isArrayLike(a))return new m.ArrayLikeObservable(a,d)}throw new TypeError((null!==a&&typeof a||a)+" is not observable");
};b.prototype._subscribe=function(a){var b=this.ish,c=this.scheduler;return null==c?b[r.observable]().subscribe(a):b[r.observable]().subscribe(new q.ObserveOnSubscriber(a,c,0))};return b}(p.Observable);d.FromObservable=b},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(78);b=a(0);var h=a(33);a=function(a){function b(b,e){void 0===b&&(b=
0);void 0===e&&(e=h.async);a.call(this);this.period=b;this.scheduler=e;if(!l.isNumeric(b)||0>b)this.period=0;e&&"function"===typeof e.schedule||(this.scheduler=h.async)}g(b,a);b.create=function(a,e){void 0===a&&(a=0);void 0===e&&(e=h.async);return new b(a,e)};b.dispatch=function(a){var b=a.subscriber,c=a.period;b.next(a.index);b.closed||(a.index+=1,this.schedule(a,c))};b.prototype._subscribe=function(a){var c=this.period;a.add(this.scheduler.schedule(b.dispatch,c,{index:0,subscriber:a,period:c}))};
return b}(b.Observable);d.IntervalObservable=a},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(11);b=a(0);var h=a(47);a=function(a){function b(b,c){a.call(this);this.scheduler=c;if(null==b)throw Error("iterator cannot be null.");var e;if((e=b[h.iterator])||"string"!==typeof b)if(e||void 0===b.length){if(!e)throw new TypeError("object is not iterable");
e=b[h.iterator]()}else e=new f(b);else e=new k(b);this.iterator=e}g(b,a);b.create=function(a,c){return new b(a,c)};b.dispatch=function(a){var b=a.index,c=a.iterator,e=a.subscriber;if(a.hasError)e.error(a.error);else{var d=c.next();d.done?e.complete():(e.next(d.value),a.index=b+1,e.closed?"function"===typeof c["return"]&&c["return"]():this.schedule(a))}};b.prototype._subscribe=function(a){var c=this.iterator,e=this.scheduler;if(e)return e.schedule(b.dispatch,0,{index:0,iterator:c,subscriber:a});do{e=
c.next();if(e.done){a.complete();break}else a.next(e.value);if(a.closed){"function"===typeof c["return"]&&c["return"]();break}}while(1)};return b}(b.Observable);d.IteratorObservable=a;var k=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.str=a;this.idx=b;this.len=c}a.prototype[h.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}};return a}(),f=function(){function a(a,
b,e){void 0===b&&(b=0);if(void 0===e)if(e=+a.length,isNaN(e))e=0;else if(0!==e&&"number"===typeof e&&l.root.isFinite(e)){var d;d=+e;d=0===d?d:isNaN(d)?d:0>d?-1:1;e=d*Math.floor(Math.abs(e));e=0>=e?0:e>c?c:e}this.arr=a;this.idx=b;this.len=e}a.prototype[h.iterator]=function(){return this};a.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}};return a}(),c=Math.pow(2,53)-1},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=
a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=a(0);var l=a(81);a=function(a){function b(){a.call(this)}g(b,a);b.create=function(){return new b};b.prototype._subscribe=function(a){l.noop()};return b}(b.Observable);d.NeverObservable=a},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,
new c)},l=a(78);b=a(0);var h=a(33),k=a(21),f=a(77);a=function(a){function b(b,c,e){void 0===b&&(b=0);a.call(this);this.period=-1;this.dueTime=0;l.isNumeric(c)?this.period=1>Number(c)&&1||Number(c):k.isScheduler(c)&&(e=c);k.isScheduler(e)||(e=h.async);this.scheduler=e;this.dueTime=f.isDate(b)?+b-this.scheduler.now():b}g(b,a);b.create=function(a,c,e){void 0===a&&(a=0);return new b(a,c,e)};b.dispatch=function(a){var b=a.index,c=a.period,e=a.subscriber;e.next(b);if(!e.closed){if(-1===c)return e.complete();
a.index=b+1;this.schedule(a,c)}};b.prototype._subscribe=function(a){return this.scheduler.schedule(b.dispatch,this.dueTime,{index:0,period:this.period,subscriber:a})};return b}(b.Observable);d.TimerObservable=a},function(b,d,a){var g=a(21),l=a(26),h=a(15),k=a(232);d.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var e=b=null;g.isScheduler(a[a.length-1])&&(e=a.pop());"function"===typeof a[a.length-1]&&(b=a.pop());1===a.length&&l.isArray(a[0])&&(a=a[0]);return(new h.ArrayObservable(a,
e)).lift(new k.CombineLatestOperator(b))}},function(b,d,a){b=a(211);d.defer=b.DeferObservable.create},function(b,d,a){b=a(25);d.empty=b.EmptyObservable.create},function(b,d,a){b=a(214);d.from=b.FromObservable.create},function(b,d,a){b=a(213);d.fromEvent=b.FromEventObservable.create},function(b,d,a){b=a(70);d.fromPromise=b.PromiseObservable.create},function(b,d,a){b=a(215);d.interval=b.IntervalObservable.create},function(b,d,a){b=a(72);d.merge=b.mergeStatic},function(b,d,a){b=a(217);d.never=b.NeverObservable.create},
function(b,d,a){b=a(15);d.of=b.ArrayObservable.of},function(b,d,a){b=a(212);d._throw=b.ErrorObservable.create},function(b,d,a){b=a(218);d.timer=b.TimerObservable.create},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var l=a(16);d._catch=function(a){a=new h(a);var b=this.lift(a);return a.caught=b};var h=function(){function a(a){this.selector=
a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.selector,this.caught))};return a}(),k=function(a){function b(b,c,d){a.call(this,b);this.selector=c;this.caught=d}g(b,a);b.prototype.error=function(b){if(!this.isStopped){var c=void 0;try{c=this.selector(b,this.caught)}catch(n){a.prototype.error.call(this,n);return}this._unsubscribeAndRecycle();this.add(l.subscribeToResult(this,c))}};return b}(b.OuterSubscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(15),h=a(26);b=a(13);var k=a(16),f={};d.combineLatest=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=null;"function"===typeof a[a.length-1]&&(b=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());a.unshift(this);return this.lift.call(new l.ArrayObservable(a),new c(b))};var c=function(){function a(a){this.project=a}a.prototype.call=function(a,b){return b.subscribe(new e(a,
this.project))};return a}();d.CombineLatestOperator=c;var e=function(a){function b(b,c){a.call(this,b);this.project=c;this.active=0;this.values=[];this.observables=[]}g(b,a);b.prototype._next=function(a){this.values.push(f);this.observables.push(a)};b.prototype._complete=function(){var a=this.observables,b=a.length;if(0===b)this.destination.complete();else{this.toRespond=this.active=b;for(var c=0;c<b;c++){var e=a[c];this.add(k.subscribeToResult(this,e,e,c))}}};b.prototype.notifyComplete=function(a){0===
--this.active&&this.destination.complete()};b.prototype.notifyNext=function(a,b,c,e,d){a=this.values;e=a[c];e=this.toRespond?e===f?--this.toRespond:this.toRespond:0;a[c]=b;0===e&&(this.project?this._tryProject(a):this.destination.next(a.slice()))};b.prototype._tryProject=function(a){var b;try{b=this.project.apply(this,a)}catch(r){this.destination.error(r);return}this.destination.next(b)};return b}(b.OuterSubscriber);d.CombineLatestSubscriber=e},function(b,d,a){var g=a(45);d.concatAll=function(){return this.lift(new g.MergeAllOperator(1))}},
function(b,d,a){var g=a(73);d.concatMap=function(a,b){return this.lift(new g.MergeMapOperator(a,b,1))}},function(b,d,a){function g(a){a.debouncedNext()}var l=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var h=a(33);d.debounceTime=function(a,b){void 0===b&&(b=h.async);return this.lift(new k(a,b))};var k=function(){function a(a,b){this.dueTime=a;this.scheduler=
b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.dueTime,this.scheduler))};return a}(),f=function(a){function b(b,c,e){a.call(this,b);this.dueTime=c;this.scheduler=e;this.lastValue=this.debouncedSubscription=null;this.hasValue=!1}l(b,a);b.prototype._next=function(a){this.clearDebounce();this.lastValue=a;this.hasValue=!0;this.add(this.debouncedSubscription=this.scheduler.schedule(g,this.dueTime,this))};b.prototype._complete=function(){this.debouncedNext();this.destination.complete()};
b.prototype.debouncedNext=function(){this.clearDebounce();this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)};b.prototype.clearDebounce=function(){var a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)};return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=
b.prototype,new c)};b=a(3);var l=a(51),h=a(34);d.distinctUntilChanged=function(a,b){return this.lift(new k(a,b))};var k=function(){function a(a,b){this.compare=a;this.keySelector=b}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.compare,this.keySelector))};return a}(),f=function(a){function b(b,c,e){a.call(this,b);this.keySelector=e;this.hasKey=!1;"function"===typeof c&&(this.compare=c)}g(b,a);b.prototype.compare=function(a,b){return a===b};b.prototype._next=function(a){var b=a;if(this.keySelector&&
(b=l.tryCatch(this.keySelector)(a),b===h.errorObject))return this.destination.error(h.errorObject.e);var c=!1;if(this.hasKey){if(c=l.tryCatch(this.compare)(this.key,b),c===h.errorObject)return this.destination.error(h.errorObject.e)}else this.hasKey=!0;!1===!!c&&(this.key=b,this.destination.next(a))};return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):
(c.prototype=b.prototype,new c)},l=a(3);d._do=function(a,b,e){return this.lift(new h(a,b,e))};var h=function(){function a(a,b,d){this.nextOrObserver=a;this.error=b;this.complete=d}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.nextOrObserver,this.error,this.complete))};return a}(),k=function(a){function b(b,c,d,f){a.call(this,b);b=new l.Subscriber(c,d,f);b.syncErrorThrowable=!0;this.add(b);this.safeSubscriber=b}g(b,a);b.prototype._next=function(a){var b=this.safeSubscriber;b.next(a);
b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.next(a)};b.prototype._error=function(a){var b=this.safeSubscriber;b.error(a);b.syncErrorThrown?this.destination.error(b.syncErrorValue):this.destination.error(a)};b.prototype._complete=function(){var a=this.safeSubscriber;a.complete();a.syncErrorThrown?this.destination.error(a.syncErrorValue):this.destination.complete()};return b}(l.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);d.filter=function(a,b){return this.lift(new l(a,b))};var l=function(){function a(a,b){this.predicate=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.predicate,this.thisArg))};return a}(),h=function(a){function b(b,e,d){a.call(this,b);this.predicate=e;this.thisArg=d;this.count=0;this.predicate=e}g(b,a);b.prototype._next=function(a){var b;try{b=
this.predicate.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}b&&this.destination.next(a)};return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var l=a(14);d._finally=function(a){return this.lift(new h(a))};var h=function(){function a(a){this.callback=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,
this.callback))};return a}(),k=function(a){function b(b,c){a.call(this,b);this.add(new l.Subscription(c))}g(b,a);return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var l=a(81);d.ignoreElements=function(){return this.lift(new h)};var h=function(){function a(){}a.prototype.call=function(a,b){return b.subscribe(new k(a))};
return a}(),k=function(a){function b(){a.apply(this,arguments)}g(b,a);b.prototype._next=function(a){l.noop()};return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);d.map=function(a,b){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new l(a,
b))};var l=function(){function a(a,b){this.project=a;this.thisArg=b}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.project,this.thisArg))};return a}();d.MapOperator=l;var h=function(a){function b(b,e,d){a.call(this,b);this.project=e;this.count=0;this.thisArg=d||this}g(b,a);b.prototype._next=function(a){var b;try{b=this.project.call(this.thisArg,a,this.count++)}catch(m){this.destination.error(m);return}this.destination.next(b)};return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||
function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);d.mapTo=function(a){return this.lift(new l(a))};var l=function(){function a(a){this.value=a}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.value))};return a}(),h=function(a){function b(b,e){a.call(this,b);this.value=e}g(b,a);b.prototype._next=function(a){this.destination.next(this.value)};return b}(b.Subscriber)},
function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var l=a(169);d.observeOn=function(a,b){void 0===b&&(b=0);return this.lift(new h(a,b))};var h=function(){function a(a,b){void 0===b&&(b=0);this.scheduler=a;this.delay=b}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.scheduler,this.delay))};return a}();d.ObserveOnOperator=
h;var k=function(a){function b(b,c,e){void 0===e&&(e=0);a.call(this,b);this.scheduler=c;this.delay=e}g(b,a);b.dispatch=function(a){a.notification.observe(a.destination);this.unsubscribe()};b.prototype.scheduleMessage=function(a){this.add(this.scheduler.schedule(b.dispatch,this.delay,new f(a,this.destination)))};b.prototype._next=function(a){this.scheduleMessage(l.Notification.createNext(a))};b.prototype._error=function(a){this.scheduleMessage(l.Notification.createError(a))};b.prototype._complete=
function(){this.scheduleMessage(l.Notification.createComplete())};return b}(b.Subscriber);d.ObserveOnSubscriber=k;var f=function(){return function(a,b){this.notification=a;this.destination=b}}();d.ObserveOnMessage=f},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);d.pairwise=function(){return this.lift(new l)};var l=function(){function a(){}
a.prototype.call=function(a,b){return b.subscribe(new h(a))};return a}(),h=function(a){function b(b){a.call(this,b);this.hasPrev=!1}g(b,a);b.prototype._next=function(a){this.hasPrev?this.destination.next([this.prev,a]):this.hasPrev=!0;this.prev=a};return b}(b.Subscriber)},function(b,d,a){var g=a(5),l=a(46);d.publish=function(a){return a?l.multicast.call(this,function(){return new g.Subject},a):l.multicast.call(this,new g.Subject)}},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=
a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);d.scan=function(a,b){var c=!1;2<=arguments.length&&(c=!0);return this.lift(new l(a,b,c))};var l=function(){function a(a,b,e){void 0===e&&(e=!1);this.accumulator=a;this.seed=b;this.hasSeed=e}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.accumulator,this.seed,this.hasSeed))};return a}(),h=function(a){function b(b,e,d,f){a.call(this,b);this.accumulator=e;this._seed=
d;this.hasSeed=f;this.index=0}g(b,a);Object.defineProperty(b.prototype,"seed",{get:function(){return this._seed},set:function(a){this.hasSeed=!0;this._seed=a},enumerable:!0,configurable:!0});b.prototype._next=function(a){if(this.hasSeed)return this._tryNext(a);this.seed=a;this.destination.next(a)};b.prototype._tryNext=function(a){var b=this.index++,c;try{c=this.accumulator(this.seed,a,b)}catch(n){this.destination.error(n)}this.seed=c;this.destination.next(c)};return b}(b.Subscriber)},function(b,d,
a){function g(){return new h.Subject}var l=a(46),h=a(5);d.share=function(){return l.multicast.call(this,g).refCount()}},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);d.skip=function(a){return this.lift(new l(a))};var l=function(){function a(a){this.total=a}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.total))};return a}(),
h=function(a){function b(b,e){a.call(this,b);this.total=e;this.count=0}g(b,a);b.prototype._next=function(a){++this.count>this.total&&this.destination.next(a)};return b}(b.Subscriber)},function(b,d,a){var g=a(15),l=a(44),h=a(25),k=a(71),f=a(21);d.startWith=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];f.isScheduler(b)?a.pop():b=null;var d=a.length;return 1===d?k.concatStatic(new l.ScalarObservable(a[0],b),this):1<d?k.concatStatic(new g.ArrayObservable(a,b),
this):k.concatStatic(new h.EmptyObservable(b),this)}},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var l=a(16);d.switchMap=function(a,b){return this.lift(new h(a,b))};var h=function(){function a(a,b){this.project=a;this.resultSelector=b}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.project,this.resultSelector))};
return a}(),k=function(a){function b(b,c,d){a.call(this,b);this.project=c;this.resultSelector=d;this.index=0}g(b,a);b.prototype._next=function(a){var b,c=this.index++;try{b=this.project(a,c)}catch(p){this.destination.error(p);return}this._innerSub(b,a,c)};b.prototype._innerSub=function(a,b,c){var e=this.innerSubscription;e&&e.unsubscribe();this.add(this.innerSubscription=l.subscribeToResult(this,a,b,c))};b.prototype._complete=function(){var b=this.innerSubscription;b&&!b.closed||a.prototype._complete.call(this)};
b.prototype._unsubscribe=function(){this.innerSubscription=null};b.prototype.notifyComplete=function(b){this.remove(b);this.innerSubscription=null;this.isStopped&&a.prototype._complete.call(this)};b.prototype.notifyNext=function(a,b,c,d,f){this.resultSelector?this._tryNotifyNext(a,b,c,d):this.destination.next(b)};b.prototype._tryNotifyNext=function(a,b,c,d){var e;try{e=this.resultSelector(a,b,c,d)}catch(r){this.destination.error(r);return}this.destination.next(e)};return b}(b.OuterSubscriber)},function(b,
d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(3);var l=a(257),h=a(25);d.take=function(a){return 0===a?new h.EmptyObservable:this.lift(new k(a))};var k=function(){function a(a){this.total=a;if(0>this.total)throw new l.ArgumentOutOfRangeError;}a.prototype.call=function(a,b){return b.subscribe(new f(a,this.total))};return a}(),f=function(a){function b(b,
c){a.call(this,b);this.total=c;this.count=0}g(b,a);b.prototype._next=function(a){var b=this.total,c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()))};return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)};b=a(13);var l=a(16);d.takeUntil=function(a){return this.lift(new h(a))};
var h=function(){function a(a){this.notifier=a}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.notifier))};return a}(),k=function(a){function b(b,c){a.call(this,b);this.notifier=c;this.add(l.subscribeToResult(this,c))}g(b,a);b.prototype.notifyNext=function(a,b,c,d,f){this.complete()};b.prototype.notifyComplete=function(){};return b}(b.OuterSubscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var e in b)b.hasOwnProperty(e)&&(a[e]=
b[e]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},l=a(33),h=a(77);b=a(3);var k=a(75);d.timeout=function(a,b){void 0===b&&(b=l.async);var c=h.isDate(a),e=c?+a-b.now():Math.abs(a);return this.lift(new f(e,c,b,new k.TimeoutError))};var f=function(){function a(a,b,c,e){this.waitFor=a;this.absoluteTimeout=b;this.scheduler=c;this.errorInstance=e}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.absoluteTimeout,this.waitFor,this.scheduler,this.errorInstance))};return a}(),
c=function(a){function b(b,c,e,d,f){a.call(this,b);this.absoluteTimeout=c;this.waitFor=e;this.scheduler=d;this.errorInstance=f;this.action=null;this.scheduleTimeout()}g(b,a);b.dispatchTimeout=function(a){a.error(a.errorInstance)};b.prototype.scheduleTimeout=function(){var a=this.action;a?this.action=a.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(b.dispatchTimeout,this.waitFor,this))};b.prototype._next=function(b){this.absoluteTimeout||this.scheduleTimeout();a.prototype._next.call(this,
b)};b.prototype._unsubscribe=function(){this.errorInstance=this.scheduler=this.action=null};return b}(b.Subscriber)},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=function(a){function b(b,d){a.call(this)}g(b,a);b.prototype.schedule=function(a,b){return this};return b}(a(14).Subscription);d.Action=b},function(b,d,a){var g=this&&this.__extends||
function(a,b){function d(){this.constructor=a}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)},l=a(11);b=function(a){function b(b,c){a.call(this,b,c);this.scheduler=b;this.work=c;this.pending=!1}g(b,a);b.prototype.schedule=function(a,b){void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.pending=!0;var c=this.id,d=this.scheduler;null!=c&&(this.id=this.recycleAsyncId(d,c,b));this.delay=b;this.id=this.id||this.requestAsyncId(d,
this.id,b);return this};b.prototype.requestAsyncId=function(a,b,e){void 0===e&&(e=0);return l.root.setInterval(a.flush.bind(a,this),e)};b.prototype.recycleAsyncId=function(a,b,e){void 0===e&&(e=0);return null!==e&&this.delay===e&&!1===this.pending?b:(l.root.clearInterval(b),void 0)};b.prototype.execute=function(a,b){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var c=this._execute(a,b);if(c)return c;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,
this.id,null))};b.prototype._execute=function(a,b){var c=!1,d=void 0;try{this.work(a)}catch(n){c=!0,d=!!n&&n||Error(n)}if(c)return this.unsubscribe(),d};b.prototype._unsubscribe=function(){var a=this.id,b=this.scheduler,d=b.actions,h=d.indexOf(this);this.state=this.work=null;this.pending=!1;this.scheduler=null;-1!==h&&d.splice(h,1);null!=a&&(this.id=this.recycleAsyncId(b,a,null));this.delay=null};return b}(a(254).Action);d.AsyncAction=b},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=
a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=function(a){function b(){a.apply(this,arguments);this.actions=[];this.active=!1;this.scheduled=void 0}g(b,a);b.prototype.flush=function(a){var b=this.actions;if(this.active)b.push(a);else{var c;this.active=!0;do if(c=a.execute(a.state,a.delay))break;while(a=b.shift());this.active=!1;if(c){for(;a=b.shift();)a.unsubscribe();throw c;}}};return b}(a(170).Scheduler);d.AsyncScheduler=
b},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=function(a){function b(){var b=a.call(this,"argument out of range");this.name=b.name="ArgumentOutOfRangeError";this.stack=b.stack;this.message=b.message}g(b,a);return b}(Error);d.ArgumentOutOfRangeError=b},function(b,d,a){var g=this&&this.__extends||function(a,b){function d(){this.constructor=
a}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};b=function(a){function b(b){a.call(this);this.errors=b;b=Error.call(this,b?b.length+" errors occurred during unsubscription:\n  "+b.map(function(a,b){return b+1+") "+a.toString()}).join("\n  "):"");this.name=b.name="UnsubscriptionError";this.stack=b.stack;this.message=b.message}g(b,a);return b}(Error);d.UnsubscriptionError=b},function(b,d,a){var g=a(3),l=a(49),h=a(69);d.toSubscriber=
function(a,b,c){if(a){if(a instanceof g.Subscriber)return a;if(a[l.rxSubscriber])return a[l.rxSubscriber]()}return a||b||c?new g.Subscriber(a,b,c):new g.Subscriber(h.empty)}},function(b,d){var a;a=function(){return this}();try{a=a||Function("return this")()||(0,eval)("this")}catch(g){"object"===typeof window&&(a=window)}b.exports=a}])});
